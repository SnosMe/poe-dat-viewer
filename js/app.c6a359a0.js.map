{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/app/Analyze.vue?39c0","webpack:///./src/app/DataRow.vue?26e4","webpack:///./src/App.vue?c650","webpack:///./src/app/ExportSchema.vue?8441","webpack:///./src/assets/discord-badge.svg","webpack:///./src/app/ExportSchema.vue?f321","webpack:///./src/app/ViewerHead.vue?3900","webpack:///./src/App.vue?1021","webpack:///./src/app/Analyze.vue?a096","webpack:///./src/app/DataRow.vue?1e83","webpack:///./src/app/dat/reader.ts","webpack:///./src/app/viewer/formatting.ts","webpack:///src/app/DataRow.vue","webpack:///./src/app/DataRow.vue?cbf8","webpack:///./src/app/DataRow.vue","webpack:///./src/app/ViewerHead.vue?5094","webpack:///./src/app/viewer/selection.ts","webpack:///./src/app/viewer/sorting.ts","webpack:///src/app/ViewerHead.vue","webpack:///./src/app/ViewerHead.vue?1607","webpack:///./src/app/ViewerHead.vue","webpack:///./src/app/HeaderProps.vue?f61a","webpack:///./src/app/viewer/headers.ts","webpack:///src/app/HeaderProps.vue","webpack:///./src/app/HeaderProps.vue?4879","webpack:///./src/app/HeaderProps.vue","webpack:///./src/app/ExportSchema.vue?01d1","webpack:///./src/app/exporters/common.ts","webpack:///./src/app/exporters/pogo.ts","webpack:///./src/app/exporters/pypoe.ts","webpack:///./src/app/exporters/c-struct.ts","webpack:///./src/app/exporters/internal.ts","webpack:///src/app/ExportSchema.vue","webpack:///./src/app/ExportSchema.vue?165c","webpack:///./src/app/ExportSchema.vue","webpack:///./src/app/HelpContent.vue?4166","webpack:///./src/app/HelpContent.vue","webpack:///./src/app/ImportDialog.vue?8f6b","webpack:///./src/app/dat/db.ts","webpack:///./src/app/dat/dat-file.ts","webpack:///./src/app/patchcdn/cache.ts","webpack:///./src/app/worker/interface.ts","webpack:///./src/app/worker/script.ts","webpack:///./src/app/patchcdn/bundle-index.ts","webpack:///./src/app/cpu-task.ts","webpack:///./src/app/dat/analysis.ts","webpack:///./src/app/viewer/Viewer.ts","webpack:///./src/app/patchcdn/index-store.ts","webpack:///./src/app/viewer/_demo_data.ts","webpack:///src/app/ImportDialog.vue","webpack:///./src/app/ImportDialog.vue?a9ce","webpack:///./src/app/ImportDialog.vue","webpack:///./src/app/SettingsDialog.vue?c910","webpack:///./src/app/SettingsDialog.vue","webpack:///./src/app/DownloadProgress.vue?fe68","webpack:///src/app/DownloadProgress.vue","webpack:///./src/app/DownloadProgress.vue?42fc","webpack:///./src/app/DownloadProgress.vue","webpack:///./src/app/ContentTree.vue?3058","webpack:///src/app/ContentTree.vue","webpack:///./src/app/ContentTree.vue?5024","webpack:///./src/app/ContentTree.vue","webpack:///src/app/Analyze.vue","webpack:///./src/app/Analyze.vue?0098","webpack:///./src/app/Analyze.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/quasar.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","staticStyle","staticClass","viewer","_v","_s","datFile","meta","_e","on","$event","app","importDialog","helpDialog","settingsDialog","model","callback","$$v","$set","expression","selections","defineColumn","_l","sel","rowSorting","exportDataJson","exportSchemaDialog","rows","scopedSlots","_u","fn","headers","columns","proxy","ref","index","rowFormat","appVersion","_m","rowNum","part","class","dataStart","selected","color","style","width","text","INT32_NULL","INT64_NULL","TEXT_DECODER","TextDecoder","STRING_TERMINATOR","FIELD_SIZE","BOOL","BYTE","SHORT","LONG","LONGLONG","STRING","4","8","KEY","KEY_FOREIGN","ARRAY","readInteger","size","unsigned","offset","getUint8","getUint16","getUint32","Number","getBigUint64","getInt8","getInt16","getInt32","getBigInt64","Error","readDecimal","getFloat32","getFloat64","readString","end","findSequence","decode","subarray","isNULL","memsize","getNULL","readKeySelf","NULL","rowIdx","getSizeT","readKeyForeign","rid","unknown","getScalarReader","header","type","dataFixed","dataVariable","readerFixed","boolean","Boolean","string","readString_","varOffset","integer","decimal","foreign","getArrayReader","readerVariable","elSize","reader","arrayLength","out","Array","fill","undefined","map","_","elIdx","readColumn","array","rowCount","rowLength","sequence","fromIndex","idx","indexOf","matched","di","si","getRowFormating","fmt","colToFmt","col","cachedView","byteView","reduce","last","curr","formatRow","row","entries","from","hexDump","byte","toString","padStart","join","readArrayVarData","cacheHeaderArrayVarData","stats","refArray","entryMaxLength","Math","max","keyForeign","keySelf","longLong","long","short","isValid","entriesRaw","maxArrayLength","String","medianEntriesLength","freeze","calcRowNumLength","rowNumStart","minLength","maxLen","cacheHeaderDataView","formatter","str","arr","filter","sort","a","b","mid","floor","median","min","props","inject","computed","formatted","format","config","component","rowNumberLength","calcHeaderWidth","editHeader","selectColumn","colNum99","bMax","selectColsByHeader","cols","colIdx","findIndex","toggleColsBetween","start","clearColumnSelection","getColumnSelections","ranges","sortRows","order","ai","bi","localeCompare","required","sortOrder","methods","selectStart","selectionStart","colsBeforeSelection","selectContinue","len","forEach","e","event","buttons","el","dispatchEvent","preventDefault","trim","viewModeOpts","byteViewMode","remove","dataTypeOpts","dataType","arrayTypeOpts","arrayType","recacheAfterOptChange","removeHeadersAtOffsets","offsets","some","removeHeader","createHeaderFromSelected","emptyHeader","find","updatedHeaders","merged","mergeEmptyHeaders","h1","h2","opts","refString","columnStats","set","setByteViewMode","saveHeadersToFileCache","disableByteView","enableByteView","$style","code","pypoe","pogo","clang","json","directives","rawName","headerToFieldFormat","unknownNum","undefinedNum","getFieldType","fields","exportToPogo","flatMap","res","getPogoFieldType","field","fieldsText","padEnd","exportToPypoe","getPypoeFieldType","exportToClang","getClangFieldType","exportInternalState","JSON","stringify","serializeHeaders","getHeaderLength","validateImportedHeader","space","injectStyles","context","locals","script","poePatch","isCdnImportRunning","cdnImport","handleFile","importDemo","db","upgrade","createObjectStore","keyPath","findByName","record","updateFileHeaders","put","initDatFile","filename","content","byteLength","file","Uint8Array","fileReader","DataView","buffer","endsWith","boundary","findBBBB","byteOffset","importFromFile","getNamePart","path","match","_data","BUNDLE_DIR","progress","observable","totalSize","received","active","bundleName","fetchFile","patchVer","localStorage","getItem","_fetchFile","Notify","message","caption","caches","open","cache","fetch","status","statusText","body","getReader","chunks","read","done","buf","bufPos","chunk","delete","Response","arrayBuffer","resolve_","reject_","Worker","worker","work_","queueWork","Promise","resolve","reject","decompressBundle","bundle","postMessage","bundleSlice","decompressFileTransferBundle","sliceOffset","sliceSize","unpackIndexPaths","pathBundle","pathReps","addEventListener","readFilesIndex","bundlesCount","nameLen","filesCount","filesOffset","pathsCount","pathsOffset","pathsLen","pathBundleOffset","pathBundleBin","dirs","getFileLocation","hashHex","fast1a64","toLowerCase","hash","parseInt","substr","bundleIdx","offsetInBundle","fileSize","MAX_PER_FRAME","CPUTask","mustYield","prevTime","performance","now","yield","requestAnimationFrame","ms","analyze","isValidVariableOffset","b00","b01","nullableMemsize","stat","sMem","sMemMem","ri","isStringAtOffset","strOffset","c1","c2","colNumStart","viewers","instance","ROW_NUM_MIN_LENGTH","parsed","overrideHeaders","Loading","show","delay","_loadDat","tryImportHeaders","hide","stateColumns","colNum100","nullable","k","serialized","hdrSerialized","headerLength","fresh","every","entry","data_","unshift","fromEntries","index_","ContentTree","tree","current","initRoots","firstLvl","keys","dirName","includes","label","isFile","listDirContent","fullPath","files","childDirs","startsWith","lastIndexOf","substring","fileName","loadFile","loadFileContent","fileContent","loadDat","saveAs","File","location","bundleBin","loadIndex","indexBin","indexBundle","DEMO_HDRS","created","toFixed","item","handleFolderNav","components","provide","rowComponent","DataRow","use","QTree","QOptionGroup","QBtnToggle","QInput","QBtnGroup","QScrollArea","QVirtualScroll","QBtn","QToggle","QDialog","QCard","QCardActions","QCardSection","QSpace","QTab","QTabs","QTabPanel","QTabPanels","QSeparator","QMarkupTable","QLinearProgress","QBadge","QFile","QSlideTransition","QIcon","QItem","QItemSection","QItemLabel","QList","ClosePopup","plugins","iconSet","productionTip","render","h","$mount"],"mappings":"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","file":"js/app.c6a359a0.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/poe-dat-viewer/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Analyze.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Analyze.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataRow.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataRow.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"code\":\"ExportSchema_code_NS_l7\"};","module.exports = __webpack_public_path__ + \"img/discord-badge.b9bc316a.svg\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-0-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-0-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportSchema.vue?vue&type=style&index=0&lang=scss&module=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-0-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-0-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportSchema.vue?vue&type=style&index=0&lang=scss&module=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewerHead.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewerHead.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('analyze')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\",\"width\":\"100%\",\"height\":\"100%\"}},[_c('content-tree'),_c('div',{staticClass:\"layout-column flex-1\",staticStyle:{\"min-width\":\"0\"}},[_c('div',{staticClass:\"app-titlebar\"},[(_vm.viewer.datFile)?_c('div',{staticClass:\"ellipsis q-mr-xs\"},[_vm._v(_vm._s(_vm.viewer.datFile.meta.name))]):_vm._e(),_c('q-space'),_c('q-btn',{staticClass:\"q-mr-sm\",attrs:{\"padding\":\"0 sm\",\"label\":\"Import\",\"no-caps\":\"\",\"flat\":\"\"},on:{\"click\":function($event){_vm.app.importDialog = true}}}),_c('q-btn',{staticClass:\"q-mr-sm\",attrs:{\"padding\":\"0 sm\",\"label\":\"Help\",\"no-caps\":\"\",\"flat\":\"\"},on:{\"click\":function($event){_vm.app.helpDialog = true}}}),_c('q-btn',{attrs:{\"padding\":\"0 sm\",\"label\":\"Settings\",\"no-caps\":\"\",\"flat\":\"\"},on:{\"click\":function($event){_vm.app.settingsDialog = true}}})],1),_c('q-dialog',{model:{value:(_vm.app.exportSchemaDialog),callback:function ($$v) {_vm.$set(_vm.app, \"exportSchemaDialog\", $$v)},expression:\"app.exportSchemaDialog\"}},[_c('export-schema')],1),_c('q-dialog',{model:{value:(_vm.app.helpDialog),callback:function ($$v) {_vm.$set(_vm.app, \"helpDialog\", $$v)},expression:\"app.helpDialog\"}},[_c('help-content')],1),_c('q-dialog',{model:{value:(_vm.app.importDialog),callback:function ($$v) {_vm.$set(_vm.app, \"importDialog\", $$v)},expression:\"app.importDialog\"}},[_c('import-dialog')],1),_c('q-dialog',{model:{value:(_vm.app.settingsDialog),callback:function ($$v) {_vm.$set(_vm.app, \"settingsDialog\", $$v)},expression:\"app.settingsDialog\"}},[_c('settings-dialog')],1),_c('div',{staticClass:\"flex no-wrap bg-blue-grey-9 q-pa-sm\"},[_c('div',{staticClass:\"flex no-wrap\"},[(_vm.selections.length === 0)?[_c('div',{staticClass:\"text-blue-grey-4 text-italic\"},[_vm._v(\"No bytes selected\")])]:(_vm.selections.length === 1)?[_c('q-btn',{attrs:{\"padding\":\"0 sm\",\"label\":\"Define column\",\"no-caps\":\"\",\"color\":\"blue-grey-8\"},on:{\"click\":_vm.defineColumn}})]:(_vm.selections.length > 1)?[_c('div',{staticClass:\"text-blue-grey-2 q-pr-xs\"},[_vm._v(\"Selections\")]),_vm._l((_vm.selections),function(sel){return _c('div',{staticClass:\"q-px-xs q-mr-xs font-mono bg-blue-grey-2 text-blue-grey-10 rounded-borders\"},[_vm._v(_vm._s(sel))])})]:_vm._e()],2),_c('q-space'),_c('div',{staticClass:\"flex no-wrap q-gutter-x-sm\"},[(_vm.viewer.rowSorting)?_c('q-btn',{attrs:{\"padding\":\"0 sm\",\"label\":\"Reset sorting\",\"no-caps\":\"\",\"color\":\"blue-grey-8\"},on:{\"click\":function($event){_vm.viewer.rowSorting = null}}}):_vm._e(),_c('q-btn',{attrs:{\"disable\":!_vm.viewer.datFile,\"padding\":\"0 sm\",\"label\":\"Export data\",\"no-caps\":\"\",\"color\":\"blue-grey-8\"},on:{\"click\":_vm.exportDataJson}}),_c('q-btn',{attrs:{\"disable\":!_vm.viewer.datFile,\"padding\":\"0 sm\",\"label\":\"Export schema\",\"no-caps\":\"\",\"color\":\"blue-grey-8\"},on:{\"click\":function($event){_vm.app.exportSchemaDialog = true}}})],1)],1),_c('div',{staticClass:\"flex min-h-0 flex-1\"},[_c('div',{staticClass:\"layout-column min-w-0 flex-1\"},[_c('div',{staticClass:\"flex-1 font-mono scroll\",staticStyle:{\"--ppc\":\"8px\",\"letter-spacing\":\"calc(var(--ppc) - 1ch)\"},attrs:{\"id\":\"viewer-fancy-scroll\"}},[_c('q-virtual-scroll',{staticStyle:{\"min-width\":\"min-content\"},attrs:{\"items\":_vm.rows,\"virtual-scroll-item-size\":21,\"scroll-target\":\"#viewer-fancy-scroll > .scroll\"},scopedSlots:_vm._u([{key:\"before\",fn:function(){return [_c('viewer-head',{attrs:{\"headers\":_vm.viewer.headers,\"columns\":_vm.viewer.columns}})]},proxy:true},{key:\"default\",fn:function(ref){\nvar index = ref.index;\nreturn [_c('data-row',{attrs:{\"row-idx\":_vm.rows[index],\"format\":_vm.rowFormat}})]}}])})],1),_c('div',{staticClass:\"app-footer bg-blue-grey-9 q-pa-sm text-white text-body2 flex\"},[_c('div',[_vm._v(\"Made by Alexander Drozdov, v\"+_vm._s(_vm.appVersion)+\" \"),_c('a',{staticClass:\"q-link text-white border-b\",attrs:{\"href\":\"https://github.com/SnosMe/poe-dat-viewer\"}},[_vm._v(\"GitHub\")])]),_vm._m(0)])]),_c('div',{staticClass:\"flex-shrink-0\"},[_c('header-props')],1)]),_c('download-progress')],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{staticClass:\"flex q-ml-lg\",attrs:{\"href\":\"https://discord.gg/SJjBdT3\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/discord-badge.svg\")}})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex no-wrap\"},[_c('div',{staticClass:\"viewer-rownum\"},[_vm._v(_vm._s(_vm.rowNum))]),_vm._l((_vm.formatted),function(part){return _c('div',{staticClass:\"viewer-row\",class:{\n      'viewer-row--border': part.dataStart,\n      'viewer-row--selected': part.selected,\n      'text-grey-7': part.color === 1,\n      'text-green-9': part.color === 2,\n      'text-indigo-14': part.color === 3\n    },style:({ width: (\"calc(var(--ppc) * \" + (part.width) + \")\") })},[_vm._v(_vm._s(part.text))])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Header } from '../viewer/headers'\nimport { DatFile, BinaryReader } from './dat-file'\n\nconst INT32_NULL = 0xfefefefe\nconst INT64_NULL = 0xfefefefefefefefe\n\nconst TEXT_DECODER = new TextDecoder('utf-16le')\nconst STRING_TERMINATOR = [0x00, 0x00, 0x00, 0x00]\n\nexport const FIELD_SIZE = {\n  BOOL: 1,\n  BYTE: 1,\n  SHORT: 2,\n  LONG: 4,\n  LONGLONG: 8,\n  STRING: {\n    4: 4,\n    8: 8\n  } as Record<number, number>,\n  KEY: {\n    4: 4,\n    8: 8\n  } as Record<number, number>,\n  KEY_FOREIGN: {\n    4: 4 + 4,\n    8: 8 + 8\n  } as Record<number, number>,\n  ARRAY: {\n    4: 4 + 4,\n    8: 8 + 8\n  } as Record<number, number>\n}\n\nfunction readInteger (data: BinaryReader, size: number, unsigned: boolean): (offset: number) => number {\n  if (size === 1 && unsigned) return (offset) => data.getUint8(offset)\n  else if (size === 2 && unsigned) return (offset) => data.getUint16(offset)\n  else if (size === 4 && unsigned) return (offset) => data.getUint32(offset)\n  else if (size === 8 && unsigned) return (offset) => Number(data.getBigUint64(offset))\n  else if (size === 1 && !unsigned) return (offset) => data.getInt8(offset)\n  else if (size === 2 && !unsigned) return (offset) => data.getInt16(offset)\n  else if (size === 4 && !unsigned) return (offset) => data.getInt32(offset)\n  else if (size === 8 && !unsigned) return (offset) => Number(data.getBigInt64(offset))\n\n  throw new Error('never')\n}\n\nfunction readDecimal (data: BinaryReader, size: number): (offset: number) => number {\n  if (size === 4) return (offset) => data.getFloat32(offset)\n  else if (size === 8) return (offset) => data.getFloat64(offset)\n\n  throw new Error('never')\n}\n\nfunction readString (data: Uint8Array): (offset: number) => string {\n  return offset => {\n    let end = findSequence(data, STRING_TERMINATOR, offset)\n    while ((end - offset) % 2 !== 0) {\n      end = findSequence(data, STRING_TERMINATOR, end + 1)\n    }\n    return TEXT_DECODER.decode(data.subarray(offset, end))\n  }\n}\n\nexport function isNULL (value: number, memsize: number) {\n  return value === (memsize === 4 ? INT32_NULL : INT64_NULL)\n}\n\nfunction getNULL (memsize: number) {\n  return (memsize === 4) ? INT32_NULL : INT64_NULL\n}\n\nfunction readKeySelf (data: BinaryReader): (offset: number) => number | null {\n  const NULL = getNULL(data.memsize)\n  return offset => {\n    const rowIdx = data.getSizeT(offset)\n    return (rowIdx === NULL) ? null : rowIdx\n  }\n}\n\nfunction readKeyForeign (data: BinaryReader): (offset: number) => { rid: number, unknown: number } | null {\n  const NULL = getNULL(data.memsize)\n  return offset => {\n    const rowIdx = data.getSizeT(offset)\n    return (rowIdx === NULL)\n      ? null\n      : { rid: rowIdx, unknown: data.getSizeT(offset + data.memsize) }\n  }\n}\n\nfunction getScalarReader (header: Header, datFile: DatFile) {\n  const { type } = header\n  const { dataFixed, dataVariable, readerFixed } = datFile\n\n  if (type.boolean) {\n    return (offset: number) => Boolean(dataFixed[offset])\n  }\n  if (type.string) {\n    const readString_ = readString(dataVariable)\n    return (offset: number) => {\n      const varOffset = readerFixed.getSizeT(offset)\n      return readString_(varOffset)\n    }\n  }\n  if (type.integer) {\n    return readInteger(readerFixed, type.integer.size, type.integer.unsigned)\n  }\n  if (type.decimal) {\n    return readDecimal(readerFixed, type.decimal.size)\n  }\n  if (type.key) {\n    if (type.key.foreign) {\n      return readKeyForeign(readerFixed)\n    } else {\n      return readKeySelf(readerFixed)\n    }\n  }\n\n  throw new Error('never')\n}\n\nfunction getArrayReader (header: Header, datFile: DatFile) {\n  const { type } = header\n  const { dataVariable, readerVariable } = datFile\n\n  const [elSize, reader] = (() => {\n    if (type.boolean) {\n      return [\n        1,\n        (offset: number) => Boolean(dataVariable[offset])\n      ] as const\n    }\n    if (type.string) {\n      const readString_ = readString(dataVariable)\n      return [\n        datFile.memsize,\n        (offset: number) => {\n          const varOffset = readerVariable.getSizeT(offset)\n          return readString_(varOffset)\n        }\n      ] as const\n    }\n    if (type.integer) {\n      return [\n        type.integer.size,\n        readInteger(readerVariable, type.integer.size, type.integer.unsigned)\n      ] as const\n    }\n    if (type.decimal) {\n      return [\n        type.decimal.size,\n        readDecimal(readerVariable, type.decimal.size)\n      ] as const\n    }\n    if (type.key) {\n      if (type.key.foreign) {\n        return [\n          (datFile.memsize * 2),\n          readKeyForeign(readerVariable)\n        ] as const\n      } else {\n        return [\n          datFile.memsize,\n          readKeySelf(readerVariable)\n        ] as const\n      }\n    }\n\n    throw new Error('never')\n  })()\n\n  return (offset: number) => {\n    const arrayLength = datFile.readerFixed.getSizeT(offset)\n    if (arrayLength === 0) {\n      return []\n    }\n\n    const varOffset = datFile.readerFixed.getSizeT(offset + datFile.memsize)\n    const out = Array(arrayLength).fill(undefined)\n    return out.map((_, elIdx) => reader(varOffset + (elIdx * elSize)))\n  }\n}\n\nexport function readColumn (header: Header, datFile: DatFile) {\n  const reader = (header.type.ref?.array)\n    ? getArrayReader(header, datFile)\n    : getScalarReader(header, datFile)\n\n  const out = Array(datFile.rowCount).fill(undefined)\n  return out.map((_, rowIdx) => reader((rowIdx * datFile.rowLength) + header.offset))\n}\n\nexport function findSequence (data: Uint8Array, sequence: number[], fromIndex = 0): number {\n  for (;;) {\n    const idx = data.indexOf(sequence[0], fromIndex)\n    if (idx === -1 || (idx + sequence.length) > data.length) return -1\n\n    let matched = true\n    for (let di = idx, si = 0; si < sequence.length; di += 1, si += 1) {\n      if (data[di] !== sequence[si]) {\n        fromIndex = di\n        matched = false\n        break\n      }\n    }\n\n    if (matched) return idx\n  }\n}\n","import { StateColumn } from './Viewer'\nimport { DatFile } from '../dat/dat-file'\nimport { Header } from './headers'\nimport { FIELD_SIZE, readColumn } from '../dat/reader'\nimport { ColumnStats } from '../dat/analysis'\n\ninterface RowPartFormat {\n  offset: number\n  length: number\n  selected: boolean\n  dataStart: boolean\n  cachedView: Header['cachedView'] | null\n}\n\ninterface RowPart {\n  text: string\n  selected: boolean\n  dataStart: boolean\n  color: number\n  width: number\n}\n\nexport function getRowFormating (columns: StateColumn[]) {\n  const fmt: RowPartFormat[] = []\n\n  function colToFmt (col: StateColumn) {\n    /* subscribe to Vue reactivity */\n    // eslint-disable-next-line no-unused-expressions\n    col.header?.type.integer?.unsigned\n\n    return {\n      offset: col.offset,\n      length: 1,\n      selected: col.selected,\n      dataStart: col.dataStart,\n      cachedView: (col.header && (!col.header.type.byteView || col.header.type.byteView.array))\n        ? col.header.cachedView\n        : null\n    }\n  }\n\n  if (!columns.length) return fmt\n\n  columns = [...columns]\n  fmt.push(colToFmt(columns.shift()!))\n\n  columns.reduce((last, curr) => {\n    if (\n      last.selected === curr.selected &&\n      curr.dataStart === false\n    ) {\n      last.length += 1\n    } else {\n      last = colToFmt(curr)\n      fmt.push(last)\n    }\n    return last\n  }, fmt[0])\n\n  return fmt\n}\n\nexport function formatRow (rowIdx: number, fmt: RowPartFormat[], datFile: DatFile) {\n  const row = datFile.dataFixed.subarray(\n    rowIdx * datFile.rowLength,\n    rowIdx * datFile.rowLength + datFile.rowLength\n  )\n\n  return fmt.map<RowPart>(fmt => {\n    if (fmt.cachedView) {\n      return {\n        selected: false,\n        dataStart: true,\n        text: fmt.cachedView.entries[rowIdx][0],\n        color: fmt.cachedView.entries[rowIdx][1],\n        width: fmt.cachedView.length\n      }\n    } else {\n      const slice = Array.from(\n        row.subarray(fmt.offset, fmt.offset + fmt.length)\n      )\n      const hexDump = slice\n        .map(byte => byte.toString(16).padStart(2, '0'))\n        .join(' ')\n\n      return {\n        selected: fmt.selected,\n        dataStart: fmt.dataStart,\n        text: hexDump,\n        color: 0,\n        width: hexDump.length\n      }\n    }\n  })\n}\n\nfunction readArrayVarData (offset: number, length: number, datFile: DatFile) {\n  const arrayLength = datFile.readerFixed.getSizeT(offset)\n  if (arrayLength === 0) {\n    return { value: [], size: 0 }\n  }\n\n  const varOffset = datFile.readerFixed.getSizeT(offset + datFile.memsize)\n\n  return {\n    value: Array.from(\n      datFile.dataVariable.subarray(varOffset, varOffset + (length * arrayLength))\n    ),\n    size: arrayLength\n  }\n}\n\nexport function cacheHeaderArrayVarData (header: Header, stats: ColumnStats, datFile: DatFile) {\n  if (!stats.refArray) throw Error('never')\n\n  const entryMaxLength = Math.max(...([\n    [FIELD_SIZE.KEY_FOREIGN[datFile.memsize], stats.refArray.keyForeign],\n    [FIELD_SIZE.KEY[datFile.memsize], stats.refArray.keySelf],\n    [FIELD_SIZE.STRING[datFile.memsize], stats.refArray.string],\n    [FIELD_SIZE.LONGLONG, stats.refArray.longLong],\n    [FIELD_SIZE.LONG, stats.refArray.long],\n    [FIELD_SIZE.SHORT, stats.refArray.short],\n    [1, true]\n  ] as [number, boolean][]).map(([size, isValid]) => isValid ? size : 0))\n\n  const entriesRaw = Array(datFile.rowCount).fill(undefined).map((_, rowIdx) => {\n    return readArrayVarData((rowIdx * datFile.rowLength) + header.offset, entryMaxLength, datFile)\n  })\n\n  const maxArrayLength = Math.max(...entriesRaw.map(_ => _.size))\n\n  let length = 0\n\n  const entries = entriesRaw.map<[string, number]>(({ value, size }) => {\n    let text = ''\n\n    if (!value.length) {\n      text = '[]'\n    } else {\n      const hexDump = value\n        .map(byte => byte.toString(16).padStart(2, '0'))\n        .join(' ')\n\n      text = `${String(size).padStart(maxArrayLength, ' ')} { ${hexDump} }`\n    }\n\n    length = Math.max(length, text.length)\n\n    return [text, 0]\n  })\n\n  length = medianEntriesLength(entries)\n  length = Math.max(length, (4 * 3 - 1))\n\n  header.cachedView = Object.freeze({\n    length,\n    entries,\n    entriesRaw: entriesRaw.map(_ => _.value)\n  })\n}\n\nexport function calcRowNumLength (rowCount: number, rowNumStart: number, minLength: number) {\n  const maxLen = String(rowCount - 1 + rowNumStart).length\n  return Math.max(maxLen, minLength)\n}\n\nexport function cacheHeaderDataView (header: Header, datFile: DatFile) {\n  const entriesRaw = readColumn(header, datFile)\n\n  // NOTE: length of the string is in UTF-16 code units, not code points!\n  let length = 0\n\n  let text = ''\n  let color = 0\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const formatter: (value: any) => void = (() => {\n    if (header.type.ref?.array) {\n      if (header.type.boolean) {\n        color = 3\n        return (value: boolean[]) => {\n          text = `[${value.join(', ')}]`\n        }\n      } else if (header.type.string) {\n        color = 1\n        return (value: string[]) => {\n          text = `[${value.map(str => '\"' + str + '\"').join(', ')}]`\n        }\n      } else if (header.type.integer || header.type.decimal) {\n        color = 2\n        return (value: number[]) => {\n          text = `[${value.join(', ')}]`\n        }\n      } else if (header.type.key) {\n        color = 2\n        if (header.type.key.foreign) {\n          return (value: { rid: number, unknown: number }[]) => {\n            text = `[${value.map(key => `<${key.rid}, ${key.unknown}>`).join(', ')}]`\n          }\n        } else {\n          return (value: number[]) => {\n            text = `[${value.map(key => `<${key}, self>`).join(', ')}]`\n          }\n        }\n      }\n\n      throw new Error('never')\n    } else {\n      if (header.type.boolean) {\n        color = 3\n        return (value: boolean) => {\n          text = String(value)\n        }\n      } else if (header.type.string) {\n        return (value: string) => {\n          if (value === '') {\n            text = 'null'\n            color = 3\n          } else {\n            text = String(value)\n            color = 1\n          }\n        }\n      } else if (header.type.integer || header.type.decimal) {\n        color = 2\n        return (value: number) => {\n          text = String(value)\n        }\n      } else if (header.type.key) {\n        if (header.type.key.foreign) {\n          return (value: { rid: number, unknown: number } | null) => {\n            if (value === null) {\n              text = 'null'\n              color = 3\n            } else {\n              text = `<${value.rid}, ${value.unknown}>`\n              color = 2\n            }\n          }\n        } else {\n          return (value: number | null) => {\n            if (value === null) {\n              text = 'null'\n              color = 3\n            } else {\n              text = `<${value}, self>`\n              color = 2\n            }\n          }\n        }\n      }\n\n      throw new Error('never')\n    }\n  })()\n\n  const entries = entriesRaw.map<[string, number]>((value) => {\n    formatter(value)\n    length = Math.max(length, text.length)\n    return [text, color]\n  })\n\n  if (header.type.ref?.array || header.type.string) {\n    length = medianEntriesLength(entries)\n  }\n  length = Math.max(length, (4 * 3 - 1))\n\n  header.cachedView = Object.freeze({\n    length,\n    entries,\n    entriesRaw\n  })\n}\n\nfunction medianEntriesLength (entries: Array<[string, number]>) {\n  const arr = entries\n    .filter(([text]) => text !== '[]' && text !== 'null')\n    .map(([text]) => text.length)\n  if (!arr.length) return 0\n  arr.sort((a, b) => b - a)\n  const mid = Math.floor(arr.length / 2)\n  const median = arr.length % 2 !== 0 ? arr[mid] : (arr[mid - 1] + arr[mid]) / 2\n  return Math.min(median + (4 * 3 - 1), arr[0], Math.floor(median * 1.20))\n}\n","<template>\n  <div class=\"flex no-wrap\">\n    <div class=\"viewer-rownum\">{{ rowNum }}</div>\n    <!-- eslint-disable-next-line vue/require-v-for-key -->\n    <div v-for=\"part in formatted\"\n      class=\"viewer-row\"\n      :class=\"{\n        'viewer-row--border': part.dataStart,\n        'viewer-row--selected': part.selected,\n        'text-grey-7': part.color === 1,\n        'text-green-9': part.color === 2,\n        'text-indigo-14': part.color === 3\n      }\"\n      :style=\"{ width: `calc(var(--ppc) * ${part.width})` }\"\n      >{{ part.text }}</div>\n  </div>\n</template>\n\n<script>\nimport { formatRow } from './viewer/formatting'\n\nexport default {\n  props: ['rowIdx', 'format'],\n  inject: ['viewer', 'app'],\n  computed: {\n    formatted () {\n      return formatRow(this.rowIdx, this.format, this.viewer.datFile)\n    },\n    rowNum () {\n      return String(this.rowIdx + this.app.config.rowNumStart)\n        .padStart(this.viewer.rowNumberLength, ' ')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import '@/styles/quasar.variables';\n\n.viewer-row {\n  white-space: pre;\n  padding: 0 calc(var(--ppc) / 2);\n  z-index: -2;\n  box-sizing: content-box;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n\n  &.viewer-row--border {\n    border-left: 1px solid $grey-5;\n  }\n\n  &.viewer-row--selected {\n    background: $blue-2;\n  }\n\n  &:nth-child(2) {\n    border: none;\n  }\n}\n\n.viewer-rownum {\n  white-space: pre;\n  position: sticky;\n  left: 0;\n  z-index: -1;\n  padding: 0 0.25rem;\n  background: $grey-1;\n  color: $blue-8;\n  border-right: 1px solid $blue-grey-1;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataRow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataRow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DataRow.vue?vue&type=template&id=8507860a&\"\nimport script from \"./DataRow.vue?vue&type=script&lang=js&\"\nexport * from \"./DataRow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DataRow.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"viewer-sticky-head\"},[_c('div',{staticClass:\"viewer-col-rownum\"},[_vm._v(_vm._s(''.padStart(_vm.viewer.rowNumberLength)))]),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\"}},[_c('div',{staticClass:\"flex no-wrap\"},[_vm._l((_vm.headers),function(col){return _c('button',{staticClass:\"viewer-col viewer-col--border\",style:({ width: _vm.calcHeaderWidth(col) }),on:{\"click\":function($event){return _vm.editHeader(col)}}},[(col.name === null)?_c('span',[_vm._v(_vm._s('\\u00a0'))]):(col.name === '')?_c('span',{staticClass:\"bg-blue-grey-6 text-grey-2 rounded-borders q-px-px\"},[_vm._v(\"?\")]):[_vm._v(_vm._s(col.name))]],2)}),(!_vm.headers.length)?_c('div',{staticClass:\"viewer-col\"},[_vm._v(\"File does not have data\")]):_vm._e()],2),_c('div',{staticClass:\"flex no-wrap\"},_vm._l((_vm.columns),function(col){return _c('button',{key:col.offset,staticClass:\"viewer-col\",class:{\n          'viewer-col--border': col.dataStart,\n          'viewer-col--selected': col.selected\n        },style:({ width: (\"calc(var(--ppc) * \" + (col.header ? col.header.cachedView.length : 2) + \")\") }),on:{\"mousedown\":function($event){return _vm.selectColumn(col.offset, $event)},\"mouseenter\":function($event){return _vm.selectColumn(col.offset, $event)},\"touchstart\":function($event){return _vm.selectColumn(col.offset, $event)},\"touchmove\":function($event){return _vm.selectColumn(col.offset, $event)}}},[_vm._v(_vm._s(col.colNum99))])}),0),_c('div',{staticClass:\"flex no-wrap\"},_vm._l((_vm.columns),function(col){return _c('div',{key:col.offset,staticClass:\"viewer-col-stat\",class:{\n          'viewer-col-stat--border': col.dataStart,\n          'viewer-col-stat--selected': col.selected\n        },style:({ width: (\"calc(var(--ppc) * \" + (col.header ? col.header.cachedView.length + 1 : 3) + \")\") })},[(!col.header)?[(col.stats.string)?_c('div',{staticClass:\"viewer-col-stat_indicator bg-brown-4\",staticStyle:{\"top\":\"0\"}}):_vm._e(),(col.stats.array)?_c('div',{staticClass:\"viewer-col-stat_indicator bg-teal-4\",staticStyle:{\"top\":\"var(--ppc)\"}}):_vm._e(),(col.stats.b00)?_c('div',{staticClass:\"viewer-col-stat_indicator bg-grey-10\",staticStyle:{\"top\":\"calc(var(--ppc) * 2)\"}}):(col.stats.nullable)?_c('div',{staticClass:\"viewer-col-stat_indicator bg-pink-4\",staticStyle:{\"top\":\"calc(var(--ppc) * 2)\"}}):_vm._e(),(col.selected)?_c('div',{staticClass:\"viewer-col-stat_indicator bg-grey-10\",staticStyle:{\"top\":\"0\",\"height\":\"calc(var(--ppc) * 3)\",\"opacity\":\"0.25\"}}):_vm._e(),_c('div',{staticClass:\"viewer-col-stat_max\",staticStyle:{\"top\":\"0\",\"height\":\"calc(var(--ppc) * 3)\"}},[_vm._v(_vm._s(col.stats.bMax))])]:_vm._e()],2)}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { StateColumn } from './Viewer'\nimport { Header } from './headers'\n\nexport function selectColsByHeader (header: Header, cols: StateColumn[]) {\n  const colIdx = cols.findIndex(col => col.offset === header.offset)\n  for (let i = 0; i < header.length; i += 1) {\n    cols[colIdx + i].selected = true\n  }\n}\n\nexport function toggleColsBetween (cols: StateColumn[], a: number, b: number) {\n  const start = Math.min(a, b)\n  const end = Math.max(a, b)\n\n  for (const col of cols) {\n    if (col.offset >= start && col.offset <= end) {\n      if (!col.header) {\n        col.selected = !col.selected\n      }\n    }\n  }\n}\n\nexport function clearColumnSelection (columns: StateColumn[]) {\n  for (const col of columns) {\n    col.selected = false\n  }\n}\n\nexport function getColumnSelections (columns: readonly StateColumn[]) {\n  const ranges: StateColumn[][] = []\n\n  let idx = columns.findIndex(col => col.selected)\n  let last: StateColumn\n  if (idx < 0) {\n    return ranges\n  } else {\n    last = columns[idx]\n    ranges.push([last])\n  }\n\n  for (idx += 1; idx < columns.length; idx += 1) {\n    if (columns[idx].selected) {\n      const curr = columns[idx]\n      if ((curr.offset - last.offset) === 1) {\n        ranges[ranges.length - 1].push(curr)\n      } else {\n        ranges.push([curr])\n      }\n      last = curr\n    }\n  }\n\n  return ranges\n}\n","import { Header } from './headers'\n\nexport function sortRows (header: Header, order: 1 | -1): number[] {\n  const { entriesRaw } = header.cachedView!\n  const rows = entriesRaw.map((_, idx) => idx)\n\n  if (header.type.ref?.array) {\n    rows.sort((ai, bi) => {\n      const a = entriesRaw[ai] as unknown[]\n      const b = entriesRaw[bi] as unknown[]\n      return (b.length - a.length) * order\n    })\n  } else {\n    if (header.type.boolean) {\n      rows.sort((ai, bi) => {\n        const a = Number(entriesRaw[ai] as boolean)\n        const b = Number(entriesRaw[bi] as boolean)\n        return (a - b) * order\n      })\n    } else if (header.type.string) {\n      rows.sort((ai, bi) => {\n        const a = entriesRaw[ai] as string\n        const b = entriesRaw[bi] as string\n        return a.localeCompare(b) * order\n      })\n    } else if (header.type.integer || header.type.decimal) {\n      rows.sort((ai, bi) => {\n        const a = entriesRaw[ai] as number\n        const b = entriesRaw[bi] as number\n        return (b - a) * order\n      })\n    } else if (header.type.key) {\n      if (header.type.key.foreign) {\n        rows.sort((ai, bi) => {\n          const a = entriesRaw[ai] as { rid: number, unknown: number } | null\n          const b = entriesRaw[bi] as { rid: number, unknown: number } | null\n          return ((b?.rid || 0) - (a?.rid || 0)) * order\n        })\n      } else {\n        rows.sort((ai, bi) => {\n          const a = Number(entriesRaw[ai] as number | null)\n          const b = Number(entriesRaw[bi] as number | null)\n          return (b - a) * order\n        })\n      }\n    }\n  }\n\n  return rows\n}\n","<template>\n  <div class=\"viewer-sticky-head\">\n    <div class=\"viewer-col-rownum\"\n      >{{ ''.padStart(viewer.rowNumberLength) }}</div>\n    <!-- // -->\n    <div style=\"display: flex; flex-direction: column;\">\n      <div class=\"flex no-wrap\">\n        <!-- eslint-disable-next-line vue/require-v-for-key -->\n        <button v-for=\"col in headers\"\n          class=\"viewer-col viewer-col--border\"\n          :style=\"{ width: calcHeaderWidth(col) }\"\n          @click=\"editHeader(col)\">\n          <span v-if=\"col.name === null\">{{ '\\u00a0' }}</span>\n          <span v-else-if=\"col.name === ''\" class=\"bg-blue-grey-6 text-grey-2 rounded-borders q-px-px\">?</span>\n          <template v-else>{{ col.name }}</template>\n        </button>\n        <div v-if=\"!headers.length\" class=\"viewer-col\">File does not have data</div>\n      </div>\n      <div class=\"flex no-wrap\">\n        <button v-for=\"col in columns\" :key=\"col.offset\"\n          class=\"viewer-col\"\n          :class=\"{\n            'viewer-col--border': col.dataStart,\n            'viewer-col--selected': col.selected\n          }\"\n          :style=\"{ width: `calc(var(--ppc) * ${col.header ? col.header.cachedView.length : 2})` }\"\n          @mousedown=\"selectColumn(col.offset, $event)\"\n          @mouseenter=\"selectColumn(col.offset, $event)\"\n          @touchstart=\"selectColumn(col.offset, $event)\"\n          @touchmove=\"selectColumn(col.offset, $event)\"\n          >{{ col.colNum99 }}</button>\n      </div>\n      <div class=\"flex no-wrap\">\n        <div v-for=\"col in columns\" :key=\"col.offset\"\n          class=\"viewer-col-stat\"\n          :class=\"{\n            'viewer-col-stat--border': col.dataStart,\n            'viewer-col-stat--selected': col.selected\n          }\"\n          :style=\"{ width: `calc(var(--ppc) * ${col.header ? col.header.cachedView.length + 1 : 3})` }\"\n        >\n          <template v-if=\"!col.header\">\n            <div v-if=\"col.stats.string\"\n              class=\"viewer-col-stat_indicator bg-brown-4\"\n              style=\"top: 0;\" />\n            <div v-if=\"col.stats.array\"\n              class=\"viewer-col-stat_indicator bg-teal-4\"\n              style=\"top: var(--ppc);\" />\n            <div v-if=\"col.stats.b00\"\n              class=\"viewer-col-stat_indicator bg-grey-10\"\n              style=\"top: calc(var(--ppc) * 2);\" />\n            <div v-else-if=\"col.stats.nullable\"\n              class=\"viewer-col-stat_indicator bg-pink-4\"\n              style=\"top: calc(var(--ppc) * 2);\" />\n            <div v-if=\"col.selected\"\n              class=\"viewer-col-stat_indicator bg-grey-10\"\n              style=\"top: 0; height: calc(var(--ppc) * 3); opacity: 0.25;\" />\n            <div\n              class=\"viewer-col-stat_max\"\n              style=\"top: 0; height: calc(var(--ppc) * 3);\">{{ col.stats.bMax }}</div>\n          </template>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { toggleColsBetween } from './viewer/selection'\nimport { sortRows } from './viewer/sorting'\n\nexport default {\n  props: {\n    headers: {\n      type: Array,\n      required: true\n    },\n    columns: {\n      type: Array,\n      required: true\n    }\n  },\n  inject: ['viewer'],\n  data () {\n    return {\n      sortOrder: 0\n      // this.selectionStart: 0,\n      // this.colsBeforeSelection: []\n    }\n  },\n  methods: {\n    selectStart (offset) {\n      this.selectionStart = offset\n      this.colsBeforeSelection = Object.freeze(\n        this.columns.map(col => ({ selected: col.selected }))\n      )\n      toggleColsBetween(this.columns, this.selectionStart, this.selectionStart)\n    },\n    selectContinue (offset) {\n      if (this.selectionStart === undefined) return\n\n      const { memsize } = this.viewer.datFile\n      const len = offset - this.selectionStart\n      if (len >= memsize) {\n        offset = this.selectionStart + (memsize * 2 - 1)\n      } else if (len >= 4) {\n        offset = this.selectionStart + 7\n      } else if (len >= 2) {\n        offset = this.selectionStart + 3\n      }\n      if (len <= -memsize) {\n        offset = this.selectionStart - (memsize * 2 - 1)\n      } else if (len <= -4) {\n        offset = this.selectionStart - 7\n      } else if (len <= -2) {\n        offset = this.selectionStart - 3\n      }\n\n      this.columns.forEach((col, idx) => {\n        col.selected = this.colsBeforeSelection[idx].selected\n      })\n      toggleColsBetween(this.columns, this.selectionStart, offset)\n    },\n    selectColumn (offset, e) {\n      if (e.type === 'mousedown' || e.type === 'touchstart') {\n        this.selectStart(offset)\n      } else if (e.type === 'mouseenter' && e.buttons === 1) {\n        this.selectContinue(offset)\n      } else if (e.type === 'touchmove' && e.changedTouches.length === 1) {\n        const el = document.elementFromPoint(e.changedTouches[0].clientX, e.changedTouches[0].clientY)\n        const event = new Event('mouseenter')\n        event.buttons = 1\n        el.dispatchEvent(event)\n      }\n\n      if (e.type === 'touchstart' || e.type === 'touchmove') {\n        e.preventDefault()\n      }\n    },\n    editHeader (header) {\n      if (\n        this.viewer.editHeader === header &&\n        header.cachedView &&\n        (!header.type.byteView || header.type.byteView.array)\n      ) {\n        if (this.sortOrder === 0) {\n          this.sortOrder = 1\n        } else if (this.sortOrder === 1) {\n          this.sortOrder = -1\n        } else if (this.sortOrder === -1) {\n          this.sortOrder = 1\n        }\n        const rows = sortRows(header, this.sortOrder)\n        this.viewer.rowSorting = Object.freeze(rows)\n      } else {\n        this.viewer.editHeader = header\n        this.sortOrder = 0\n      }\n    },\n    calcHeaderWidth (header) {\n      const width = (header.type.byteView && !header.type.byteView.array)\n        ? header.length * 3 - 1\n        : header.cachedView.length\n      return `calc(var(--ppc) * ${width})`\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import '@/styles/quasar.variables';\n\n.viewer-col {\n  color: $blue-grey-6;\n  background: $grey-2;\n  border: none;\n  cursor: pointer;\n  padding: 0 calc(var(--ppc) / 2);\n  text-align: center;\n  box-sizing: content-box;\n  line-height: calc(var(--ppc) * 3);\n  white-space: nowrap;\n  overflow: hidden;\n\n  &.viewer-col--border {\n    border-left: 1px solid $grey-5;\n  }\n\n  &:hover {\n    background: $blue-4;\n    color: $blue-1;\n  }\n\n  &.viewer-col--selected {\n    background: $blue-6;\n    color: $blue-1;\n  }\n\n  &.viewer-col--selected.viewer-col--border,\n  &.viewer-col--selected + &.viewer-col--border {\n    border-left-color: $blue-8;\n  }\n\n  &:first-child { border: none; }\n  &:focus { outline: 0; }\n}\n\n.viewer-col-stat {\n  color: $blue-grey-6;\n  background: $grey-2;\n  box-sizing: content-box;\n  height: calc(var(--ppc) * 3);\n  position: relative;\n\n  &.viewer-col-stat--border {\n    border-left: 1px solid $grey-5;\n  }\n\n  &.viewer-col-stat--selected + &.viewer-col-stat--border {\n    border-left-color: $grey-6;\n  }\n  &.viewer-col-stat--selected.viewer-col-stat--border {\n    border-left-color: $grey-5;\n  }\n\n  &:first-child { border: none; }\n}\n\n.viewer-col-stat_indicator {\n  position: absolute;\n  width: calc(var(--ppc) * 3);\n  height: var(--ppc);\n  z-index: 1;\n\n  .viewer-col-stat--border:not(:first-child) > & {\n    width: calc(var(--ppc) * 3 + 1px);\n    margin-left: -1px;\n  }\n}\n\n.viewer-col-stat_max {\n  visibility: hidden;\n  text-align: center;\n  cursor: default;\n  line-height: calc(var(--ppc) * 3);\n  z-index: 1;\n  position: relative;\n  color: $grey-1;\n  text-shadow: 0 0 0.5ch rgba(0,0,0,0.7);\n  background: #757575b0;\n\n  div:hover > .viewer-col-stat > & {\n    visibility: visible;\n  }\n}\n\n.viewer-col-rownum {\n  background: $grey-2;\n  position: sticky;\n  top: 0;\n  left: 0;\n  z-index: 2;\n  user-select: none;\n  white-space: pre;\n  padding: 0 0.25rem;\n  margin-right: 1px;\n}\n\n.viewer-sticky-head {\n  display: flex;\n  background: $grey-2;\n  box-shadow: $shadow-1;\n  position: sticky;\n  top: 0;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewerHead.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewerHead.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ViewerHead.vue?vue&type=template&id=e2665a0a&\"\nimport script from \"./ViewerHead.vue?vue&type=script&lang=js&\"\nexport * from \"./ViewerHead.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ViewerHead.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.header)?_c('div',{staticClass:\"shadow-1 h-full\",staticStyle:{\"width\":\"20rem\"}},[_vm._m(0),(_vm.header.name === null)?_c('div',{staticClass:\"q-pa-md\"},[_c('div',[_vm._v(_vm._s(_vm.header.length)+\" bytes of unidentified data\")])]):_c('div',{staticClass:\"q-pa-sm\"},[_c('div',{staticClass:\"q-mb-md q-mt-sm q-px-sm\"},[_c('q-input',{attrs:{\"label\":\"Name\",\"placeholder\":\"unnamed\",\"outlined\":\"\"},model:{value:(_vm.header.name),callback:function ($$v) {_vm.$set(_vm.header, \"name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"header.name\"}})],1),_c('div',{staticClass:\"q-mb-sm q-pl-sm flex no-wrap items-baseline\"},[_c('div',{staticClass:\"q-mb-xs q-mr-sm\"},[_vm._v(\"View mode\")]),_c('q-btn-toggle',{attrs:{\"unelevated\":\"\",\"padding\":\"0 sm\",\"no-caps\":\"\",\"color\":\"blue-grey-1\",\"text-color\":\"black\",\"options\":_vm.viewModeOpts},model:{value:(_vm.byteViewMode),callback:function ($$v) {_vm.byteViewMode=$$v},expression:\"byteViewMode\"}})],1),_c('div',{staticClass:\"q-mb-sm q-pl-sm\"},[_c('div',{staticClass:\"q-mb-xs flex items-baseline justify-between\"},[_c('span',[_vm._v(\"Data type\")]),_c('q-btn',{attrs:{\"padding\":\"0 sm\",\"label\":\"Remove\",\"no-caps\":\"\",\"flat\":\"\",\"color\":\"negative\"},on:{\"click\":_vm.remove}})],1),_c('q-option-group',{attrs:{\"dense\":\"\",\"size\":\"xs\",\"options\":_vm.dataTypeOpts},model:{value:(_vm.dataType),callback:function ($$v) {_vm.dataType=$$v},expression:\"dataType\"}}),(_vm.arrayTypeOpts.length)?_c('div',{staticClass:\"q-mt-sm\"},[_c('div',[_vm._v(\"of ...\")]),_c('q-option-group',{attrs:{\"dense\":\"\",\"size\":\"xs\",\"options\":_vm.arrayTypeOpts},model:{value:(_vm.arrayType),callback:function ($$v) {_vm.arrayType=$$v},expression:\"arrayType\"}})],1):_vm._e(),(_vm.header.type.integer)?_c('div',{staticClass:\"q-mt-sm\"},[_c('q-toggle',{attrs:{\"label\":\"Unsigned\",\"dense\":\"\",\"size\":\"xs\"},on:{\"input\":_vm.recacheAfterOptChange},model:{value:(_vm.header.type.integer.unsigned),callback:function ($$v) {_vm.$set(_vm.header.type.integer, \"unsigned\", $$v)},expression:\"header.type.integer.unsigned\"}})],1):_vm._e()],1)])]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex items-center bg-blue-grey-8 q-px-md shadow-1 font-mono\",staticStyle:{\"height\":\"6ch\"}},[_c('div',{staticClass:\"text-white font-sans\"},[_vm._v(\"Column properties\")])])}]\n\nexport { render, staticRenderFns }","import { StateColumn } from './Viewer'\nimport { getColumnSelections } from './selection'\nimport { readColumn } from '../dat/reader'\n\nexport interface Header {\n  name: string | null\n  readonly offset: number\n  readonly length: number\n  type: {\n    byteView?: { array: boolean }\n    ref?: { array: boolean }\n    boolean?: {}\n    integer?: { unsigned: boolean, size: number }\n    decimal?: { size: number }\n    string?: {}\n    key?: { foreign: boolean }\n  }\n  cachedView?: Readonly<{\n    // stats: [] @TODO\n    entriesRaw: ReturnType<typeof readColumn>,\n    length: number\n    entries: Array<[\n      string, // value\n      number // color\n    ]>\n  }>\n}\n\nexport const byteView = (): Header['type'] => ({ byteView: { array: false } })\n\nfunction removeHeadersAtOffsets (offsets: number[], headers: Header[], columns: StateColumn[]) {\n  for (let idx = 0; idx < headers.length;) {\n    const header = headers[idx]\n    if (\n      header.name != null && offsets.some(offset =>\n        offset >= header.offset &&\n        offset < header.offset + header.length\n      )) {\n      removeHeader(header, headers, columns)\n    } else {\n      idx += 1\n    }\n  }\n}\n\nexport function createHeaderFromSelected (columns: StateColumn[], headers: Header[]) {\n  const selections = getColumnSelections(columns)\n  if (selections.length === 0) {\n    throw new Error('No bytes selected')\n  } else if (selections.length > 1) {\n    throw new Error('Cannot create header from non-contiguous selection')\n  }\n  const selected = selections[0]\n\n  removeHeadersAtOffsets(selected.map(col => col.offset), headers, columns)\n\n  const emptyHeader = headers.find(header =>\n    selected[0].offset >= header.offset &&\n    selected[0].offset + selected.length <= header.offset + header.length\n  )!\n\n  let updatedHeaders: Header[] = [\n    {\n      name: null,\n      offset: emptyHeader.offset,\n      length: selected[0].offset - emptyHeader.offset,\n      type: byteView()\n    }, {\n      name: '',\n      offset: selected[0].offset,\n      length: selected.length,\n      type: byteView()\n    }, {\n      name: null,\n      offset: selected[0].offset + selected.length,\n      length: emptyHeader.length - (selected[0].offset - emptyHeader.offset + selected.length),\n      type: byteView()\n    }\n  ]\n  const header = updatedHeaders[1]\n\n  updatedHeaders = updatedHeaders.filter(header => header.length)\n  headers.splice(headers.indexOf(emptyHeader), 1, ...updatedHeaders)\n  for (const col of columns) {\n    if (updatedHeaders.some(header => col.offset === header.offset)) {\n      col.dataStart = true\n    }\n  }\n\n  return header\n}\n\nexport function removeHeader (header: Header, headers: Header[], columns: StateColumn[]) {\n  if (header.name == null) {\n    throw new Error('Cannot remove empty header')\n  }\n  if (!header.type.byteView) {\n    throw new Error('Cannot remove header in data view mode')\n  }\n\n  header.name = null\n  header.type = byteView()\n\n  for (let idx = 0; idx < (headers.length - 1);) {\n    const merged = mergeEmptyHeaders(headers[idx], headers[idx + 1])\n    if (merged) {\n      for (const col of columns) {\n        if (col.offset === headers[idx + 1].offset) {\n          col.dataStart = false\n        }\n      }\n      headers.splice(idx, 2, merged)\n    } else {\n      idx += 1\n    }\n  }\n}\n\nfunction mergeEmptyHeaders (h1: Header, h2: Header): Header | false {\n  if (h1.name === null && h2.name === null) {\n    return {\n      name: null,\n      offset: h1.offset,\n      length: h1.length + h2.length,\n      type: byteView()\n    }\n  }\n\n  return false\n}\n","<template>\n  <div v-if=\"header\" style=\"width: 20rem;\" class=\"shadow-1 h-full\">\n    <div class=\"flex items-center bg-blue-grey-8 q-px-md shadow-1 font-mono\" style=\"height: 6ch;\">\n      <div class=\"text-white font-sans\">Column properties</div>\n    </div>\n    <div v-if=\"header.name === null\" class=\"q-pa-md\">\n      <div>{{ header.length }} bytes of unidentified data</div>\n    </div>\n    <div v-else class=\"q-pa-sm\">\n      <div class=\"q-mb-md q-mt-sm q-px-sm\">\n        <q-input label=\"Name\" placeholder=\"unnamed\" v-model.trim=\"header.name\" outlined />\n      </div>\n      <div\n        class=\"q-mb-sm q-pl-sm flex no-wrap items-baseline\">\n        <div class=\"q-mb-xs q-mr-sm\">View mode</div>\n        <q-btn-toggle unelevated padding=\"0 sm\" no-caps color=\"blue-grey-1\" text-color=\"black\"\n          :options=\"viewModeOpts\"\n          v-model=\"byteViewMode\"\n        ></q-btn-toggle>\n      </div>\n      <div class=\"q-mb-sm q-pl-sm\">\n        <div class=\"q-mb-xs flex items-baseline justify-between\">\n          <span>Data type</span>\n          <q-btn @click=\"remove\"\n            padding=\"0 sm\" label=\"Remove\" no-caps flat color=\"negative\" />\n        </div>\n        <q-option-group dense size=\"xs\"\n          v-model=\"dataType\"\n          :options=\"dataTypeOpts\" />\n        <div v-if=\"arrayTypeOpts.length\" class=\"q-mt-sm\">\n          <div>of ...</div>\n          <q-option-group dense size=\"xs\"\n            v-model=\"arrayType\"\n            :options=\"arrayTypeOpts\" />\n        </div>\n        <div class=\"q-mt-sm\" v-if=\"header.type.integer\">\n          <q-toggle label=\"Unsigned\" dense size=\"xs\"\n            @input=\"recacheAfterOptChange\"\n            v-model=\"header.type.integer.unsigned\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { removeHeader } from './viewer/headers'\nimport { cacheHeaderDataView, cacheHeaderArrayVarData } from './viewer/formatting'\n\nexport default {\n  inject: ['viewer'],\n  computed: {\n    header () {\n      return this.viewer.editHeader\n    },\n    dataTypeOpts () {\n      const opts = []\n\n      const { memsize } = this.viewer.datFile\n      const len = this.header.length\n      if (len === memsize * 2 && this.stats.refArray) {\n        opts.push({ label: 'Array', value: 'reference' })\n      }\n      if (len === memsize && this.stats.refString) {\n        opts.push({ label: 'String', value: 'reference' })\n      }\n      if (len === memsize && this.stats.keySelf) {\n        opts.push({ label: 'Key (self)', value: 'key' })\n      }\n      if (len === memsize * 2) {\n        opts.push({ label: 'Key (foreign)', value: 'key' })\n      }\n      if (len === 8 || len === 4 || len === 2 || len === 1) {\n        opts.push({ label: 'Integer', value: 'integer' })\n      }\n      if (len === 8 || len === 4) {\n        opts.push({ label: 'Decimal', value: 'decimal' })\n      }\n      if (len === 1 && this.stats.bMax <= 0x01) {\n        opts.push({ label: 'Boolean', value: 'boolean' })\n      }\n\n      return opts\n    },\n    arrayTypeOpts () {\n      const opts = []\n\n      if (!this.header.type.ref || !this.header.type.ref.array) {\n        return opts\n      }\n\n      const array = this.stats.refArray\n      if (array.string) {\n        opts.push({ label: 'String', value: 'string' })\n      }\n      if (array.keySelf) {\n        opts.push({ label: 'Key (self)', value: 'key_self' })\n      }\n      if (array.keyForeign) {\n        opts.push({ label: 'Key (foreign)', value: 'key_foreign' })\n      }\n      if (array.longLong) {\n        opts.push({ label: 'Integer - 8 bytes', value: 'integer_8' })\n      }\n      if (array.long) {\n        opts.push({ label: 'Integer - 4 bytes', value: 'integer_4' })\n      }\n      if (array.short) {\n        opts.push({ label: 'Integer - 2 bytes', value: 'integer_2' })\n      }\n      if (array.longLong) {\n        opts.push({ label: 'Decimal - 8 bytes', value: 'decimal_8' })\n      }\n      if (array.long) {\n        opts.push({ label: 'Decimal - 4 bytes', value: 'decimal_4' })\n      }\n      if (array.boolean) {\n        opts.push({ label: 'Boolean', value: 'boolean' })\n      }\n      opts.push({ label: 'Integer - byte', value: 'integer_1' })\n\n      return opts\n    },\n    viewModeOpts () {\n      const opts = []\n      const type = this.header.type\n\n      opts.push({ label: 'Bytes', value: 'bytes', class: 'q-mr-px' })\n      if (type.ref && type.ref.array) {\n        opts.push({ label: 'Var. bytes', value: 'array-bytes', class: 'q-mr-px' })\n      }\n      opts.push({ label: 'Data', value: 'data', disable: !this.dataType || (this.dataType === 'reference' && !this.arrayType) })\n\n      return opts\n    },\n    stats () {\n      return this.viewer.columnStats[this.header.offset]\n    },\n    dataType: {\n      get () {\n        const type = this.header.type\n        if (type.ref) {\n          return 'reference'\n        } else if (type.key) {\n          return 'key'\n        } else if (type.integer) {\n          return 'integer'\n        } else if (type.decimal) {\n          return 'decimal'\n        } else if (type.boolean) {\n          return 'boolean'\n        } else {\n          return undefined\n        }\n      },\n      set (type) {\n        this.setByteViewMode(true)\n        const header = this.header\n        header.type = {\n          byteView: {}\n        }\n        if (type === 'reference') {\n          const { memsize } = this.viewer.datFile\n          if (header.length === memsize) {\n            this.$set(header.type, 'ref', { array: false })\n            this.$set(header.type, 'string', {})\n          } else {\n            this.$set(header.type, 'ref', { array: true })\n            this.setByteViewMode('array-bytes')\n            return\n          }\n        } else if (type === 'key') {\n          const { memsize } = this.viewer.datFile\n          if (header.length === memsize) {\n            this.$set(header.type, 'key', { foreign: false })\n          } else {\n            this.$set(header.type, 'key', { foreign: true })\n          }\n        } else if (type === 'integer') {\n          this.$set(header.type, 'integer', { unsigned: true, size: header.length })\n        } else if (type === 'decimal') {\n          this.$set(header.type, 'decimal', { size: header.length })\n        } else if (type === 'boolean') {\n          this.$set(header.type, 'boolean', {})\n        }\n        this.setByteViewMode(false)\n        this.viewer.saveHeadersToFileCache()\n      }\n    },\n    arrayType: {\n      get () {\n        const type = this.header.type\n        if (type.string) {\n          return 'string'\n        } else if (type.key) {\n          return (type.key.foreign) ? 'key_foreign' : 'key_self'\n        } else if (type.integer) {\n          return `integer_${type.integer.size}`\n        } else if (type.decimal) {\n          return `decimal_${type.decimal.size}`\n        } else if (type.boolean) {\n          return 'boolean'\n        } else {\n          return undefined\n        }\n      },\n      set (type) {\n        this.setByteViewMode(true)\n        const header = this.header\n        header.type = {\n          byteView: {},\n          ref: { array: true }\n        }\n        if (type === 'string') {\n          this.$set(header.type, 'string', {})\n        } else if (type === 'key_foreign') {\n          this.$set(header.type, 'key', { foreign: true })\n        } else if (type === 'key_self') {\n          this.$set(header.type, 'key', { foreign: false })\n        } else if (type === 'integer_1') {\n          this.$set(header.type, 'integer', { unsigned: true, size: 1 })\n        } else if (type === 'integer_2') {\n          this.$set(header.type, 'integer', { unsigned: true, size: 2 })\n        } else if (type === 'integer_4') {\n          this.$set(header.type, 'integer', { unsigned: true, size: 4 })\n        } else if (type === 'integer_8') {\n          this.$set(header.type, 'integer', { unsigned: true, size: 8 })\n        } else if (type === 'decimal_4') {\n          this.$set(header.type, 'decimal', { size: 4 })\n        } else if (type === 'decimal_8') {\n          this.$set(header.type, 'decimal', { size: 8 })\n        } else if (type === 'boolean') {\n          this.$set(header.type, 'boolean', {})\n        }\n        this.setByteViewMode(false)\n        this.viewer.saveHeadersToFileCache()\n      }\n    },\n    byteViewMode: {\n      get () {\n        const type = this.header.type\n        if (type.byteView) {\n          return type.byteView.array ? 'array-bytes' : 'bytes'\n        } else {\n          return 'data'\n        }\n      },\n      set (mode) {\n        this.setByteViewMode(mode === 'data' ? false : mode)\n      }\n    }\n  },\n  methods: {\n    recacheAfterOptChange () {\n      cacheHeaderDataView(this.header, this.viewer.datFile)\n      this.viewer.saveHeadersToFileCache()\n    },\n    remove () {\n      const { viewer } = this\n      this.setByteViewMode(true)\n      removeHeader(viewer.editHeader, viewer.headers, viewer.columns)\n      viewer.editHeader = null\n      viewer.saveHeadersToFileCache()\n    },\n    setByteViewMode (byteView) {\n      const { type } = this.header\n      if (byteView) {\n        if (byteView === 'array-bytes') {\n          cacheHeaderArrayVarData(this.header, this.stats, this.viewer.datFile)\n          if (type.byteView && !type.byteView.array) {\n            this.viewer.disableByteView(this.header)\n          }\n          this.header.type.byteView = { array: true }\n        } else {\n          if (!type.byteView || type.byteView.array) {\n            this.viewer.enableByteView(this.header)\n          }\n        }\n      } else {\n        cacheHeaderDataView(this.header, this.viewer.datFile)\n        if (type.byteView && type.byteView.array) {\n          type.byteView = undefined\n        } else {\n          this.viewer.disableByteView(this.header)\n        }\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HeaderProps.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HeaderProps.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HeaderProps.vue?vue&type=template&id=7aeeee92&\"\nimport script from \"./HeaderProps.vue?vue&type=script&lang=js&\"\nexport * from \"./HeaderProps.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-card',{staticStyle:{\"width\":\"700px\",\"max-width\":\"80vw\"}},[_c('q-tabs',{staticClass:\"text-grey\",attrs:{\"breakpoint\":0,\"dense\":\"\",\"align\":\"left\",\"narrow-indicator\":\"\",\"active-color\":\"primary\",\"indicator-color\":\"primary\"},model:{value:(_vm.format),callback:function ($$v) {_vm.format=$$v},expression:\"format\"}},[_c('q-tab',{attrs:{\"name\":\"pypoe\",\"label\":\"PyPoE\"}}),_c('q-tab',{attrs:{\"name\":\"pogo\",\"label\":\"pogo\"}}),_c('q-tab',{attrs:{\"name\":\"c_struct\",\"label\":\"C struct\"}}),_c('q-tab',{attrs:{\"name\":\"json\",\"label\":\"JSON\"}})],1),_c('q-separator'),_c('q-tab-panels',{attrs:{\"animated\":\"\"},model:{value:(_vm.format),callback:function ($$v) {_vm.format=$$v},expression:\"format\"}},[_c('q-tab-panel',{staticStyle:{\"max-height\":\"60vh\"},attrs:{\"name\":\"pypoe\"}},[_c('div',{class:_vm.$style.code},[_vm._v(_vm._s(_vm.pypoe))])]),_c('q-tab-panel',{staticStyle:{\"max-height\":\"60vh\"},attrs:{\"name\":\"pogo\"}},[_c('div',{class:_vm.$style.code},[_vm._v(_vm._s(_vm.pogo))])]),_c('q-tab-panel',{staticStyle:{\"max-height\":\"60vh\"},attrs:{\"name\":\"c_struct\"}},[_c('div',{class:_vm.$style.code},[_vm._v(_vm._s(_vm.clang))])]),_c('q-tab-panel',{staticStyle:{\"max-height\":\"60vh\"},attrs:{\"name\":\"json\"}},[_c('div',{class:_vm.$style.code},[_vm._v(_vm._s(_vm.json))])])],1),_c('q-separator'),_c('q-card-actions',{attrs:{\"align\":\"right\"}},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"flat\":\"\",\"dense\":\"\"}},[_vm._v(\"Close\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Header } from '../viewer/headers'\n\nexport type ExporterFieldType = string | { byte: string }\n\nexport function headerToFieldFormat (\n  header: Header,\n  unknownNum: number,\n  undefinedNum: number,\n  getFieldType: (header: Header) => ExporterFieldType\n) {\n  let fields: Array<[string, string]>\n\n  const type = getFieldType(header)\n  if (typeof type === 'string') {\n    fields = [\n      [header.name! || `Unknown${++unknownNum}`, type]\n    ]\n  } else {\n    fields = new Array(header.length).fill(undefined).map(_ =>\n      [`Undefined${++undefinedNum}`, type.byte]\n    )\n  }\n\n  return { unknownNum, undefinedNum, fields }\n}\n","import { Header } from '../viewer/headers'\nimport { ExporterFieldType, headerToFieldFormat } from './common'\n\nexport function exportToPogo (headers: Header[], name: string) {\n  let unknownNum = 0\n  let undefinedNum = 0\n\n  const fields = headers.flatMap(header => {\n    const res = headerToFieldFormat(header, unknownNum, undefinedNum, getPogoFieldType)\n    unknownNum = res.unknownNum\n    undefinedNum = res.undefinedNum\n    return res.fields\n  })\n\n  const maxLen = Math.max(...fields.map(field => field[0].length))\n  const fieldsText = fields.map(field => {\n    field[0] = field[0].padEnd(maxLen, ' ')\n    return `  ${field[0]} ${field[1]}`\n  }).join('\\n')\n\n  return `type ${name} struct {\\n${fieldsText}\\n}`\n}\n\nfunction getPogoFieldType (header: Header): ExporterFieldType {\n  const boolean = header.type.boolean\n  const integer = header.type.integer\n  const decimal = header.type.decimal\n  const string = header.type.string\n  const array = header.type.ref?.array\n  const key = header.type.key\n  const size = integer?.size || decimal?.size || header.length\n\n  if (integer) {\n    if (size === 1 && integer.unsigned && !array) return 'uint8'\n    if (size === 2 && integer.unsigned && !array) return 'uint16'\n    if (size === 4 && integer.unsigned && !array) return 'uint32'\n    if (size === 8 && integer.unsigned && !array) return 'uint64'\n\n    if (size === 1 && !integer.unsigned && !array) return 'uint8' // N/A 'int8'\n    if (size === 2 && !integer.unsigned && !array) return 'uint16' // N/A 'int16'\n    if (size === 4 && !integer.unsigned && !array) return 'int32'\n    if (size === 8 && !integer.unsigned && !array) return 'int64'\n\n    if (size === 1 && integer.unsigned && array) return '[]uint8'\n    if (size === 2 && integer.unsigned && array) return '[]uint16'\n    if (size === 4 && integer.unsigned && array) return '[]uint32'\n    if (size === 8 && integer.unsigned && array) return '[]uint64'\n\n    if (size === 1 && !integer.unsigned && array) return '[]uint8' // N/A '[]int8'\n    if (size === 2 && !integer.unsigned && array) return '[]uint16' // N/A '[]int16'\n    if (size === 4 && !integer.unsigned && array) return '[]int32'\n    if (size === 8 && !integer.unsigned && array) return '[]int64'\n  }\n\n  if (decimal) {\n    if (size === 4 && !array) return 'float32'\n    if (size === 8 && !array) return 'float64'\n\n    if (size === 4 && array) return '[]float32'\n    if (size === 8 && array) return '[]float64'\n  }\n\n  if (boolean) {\n    return array ? '[]bool' : 'bool'\n  }\n\n  if (string) {\n    return array ? '[]string' : 'string'\n  }\n\n  if (key && key.foreign) {\n    return array ? '[]int64' : '*int64'\n  }\n\n  if (key && !key.foreign) {\n    return array ? '[]int32' : '*int32'\n  }\n\n  return { byte: 'uint8' }\n}\n","import { Header } from '../viewer/headers'\nimport { ExporterFieldType, headerToFieldFormat } from './common'\n\nexport function exportToPypoe (headers: Header[], name: string) {\n  let unknownNum = 0\n  let undefinedNum = 0\n\n  const fields = headers.flatMap(header => {\n    const res = headerToFieldFormat(header, unknownNum, undefinedNum, getPypoeFieldType)\n    unknownNum = res.unknownNum\n    undefinedNum = res.undefinedNum\n    return res.fields\n  })\n\n  const fieldsText = fields.map(field => {\n    return `        ('${field[0]}', Field(\\n            name='${field[0]}',\\n            type='${field[1]}',\\n        )),`\n  }).join('\\n')\n\n  return `'${name}.dat': File(\\n    fields=OrderedDict((\\n${fieldsText}\\n    )),\\n),`\n}\n\nfunction getPypoeFieldType (header: Header): ExporterFieldType {\n  const boolean = header.type.boolean\n  const integer = header.type.integer\n  const decimal = header.type.decimal\n  const string = header.type.string\n  const array = header.type.ref?.array\n  const key = header.type.key\n  const size = integer?.size || decimal?.size || header.length\n\n  if (integer) {\n    if (size === 1 && integer.unsigned && !array) return 'ubyte'\n    if (size === 2 && integer.unsigned && !array) return 'ushort'\n    if (size === 4 && integer.unsigned && !array) return 'uint'\n    if (size === 8 && integer.unsigned && !array) return 'ulong'\n\n    if (size === 1 && !integer.unsigned && !array) return 'byte'\n    if (size === 2 && !integer.unsigned && !array) return 'short'\n    if (size === 4 && !integer.unsigned && !array) return 'int'\n    if (size === 8 && !integer.unsigned && !array) return 'long'\n\n    if (size === 1 && integer.unsigned && array) return 'ref|list|ubyte'\n    if (size === 2 && integer.unsigned && array) return 'ref|list|ushort'\n    if (size === 4 && integer.unsigned && array) return 'ref|list|uint'\n    if (size === 8 && integer.unsigned && array) return 'ref|list|ulong'\n\n    if (size === 1 && !integer.unsigned && array) return 'ref|list|byte'\n    if (size === 2 && !integer.unsigned && array) return 'ref|list|short'\n    if (size === 4 && !integer.unsigned && array) return 'ref|list|int'\n    if (size === 8 && !integer.unsigned && array) return 'ref|list|long'\n  }\n\n  if (decimal) {\n    if (size === 4 && !array) return 'float'\n    if (size === 8 && !array) return 'double'\n\n    if (size === 4 && array) return 'ref|list|float'\n    if (size === 8 && array) return 'ref|list|double'\n  }\n\n  if (boolean) {\n    return array ? 'ref|list|bool' : 'bool'\n  }\n\n  if (string) {\n    return array ? 'ref|list|ref|string' : 'ref|string'\n  }\n\n  if (key && key.foreign) {\n    return array ? 'ref|list|ulong' : 'ulong'\n  }\n\n  if (key && !key.foreign) {\n    return array ? 'ref|list|ref|generic' : 'ref|generic'\n  }\n\n  return { byte: 'ubyte' }\n}\n","import { Header } from '../viewer/headers'\nimport { ExporterFieldType, headerToFieldFormat } from './common'\n\nexport function exportToClang (headers: Header[], name: string) {\n  let unknownNum = 0\n  let undefinedNum = 0\n\n  const fields = headers.flatMap(header => {\n    const res = headerToFieldFormat(header, unknownNum, undefinedNum, getClangFieldType)\n    unknownNum = res.unknownNum\n    undefinedNum = res.undefinedNum\n    return res.fields\n  })\n\n  const fieldsText = fields.map(field => {\n    return `  ${field[1]} ${field[0]};`\n  }).join('\\n')\n\n  return `#include <stdbool.h>\\n#include <stdint.h>\\n#include <uchar.h>\\n\\n#pragma pack(push, 1)\\ntypedef struct ${name} {\\n${fieldsText}\\n} ${name};\\n#pragma pack(pop)`\n}\n\nfunction getClangFieldType (header: Header): ExporterFieldType {\n  const boolean = header.type.boolean\n  const integer = header.type.integer\n  const decimal = header.type.decimal\n  const string = header.type.string\n  const array = header.type.ref?.array\n  const key = header.type.key\n  const size = integer?.size || decimal?.size || header.length\n\n  if (integer) {\n    if (size === 1 && integer.unsigned && !array) return 'uint8_t'\n    if (size === 2 && integer.unsigned && !array) return 'uint16_t'\n    if (size === 4 && integer.unsigned && !array) return 'uint32_t'\n    if (size === 8 && integer.unsigned && !array) return 'uint64_t'\n\n    if (size === 1 && !integer.unsigned && !array) return 'int8_t'\n    if (size === 2 && !integer.unsigned && !array) return 'int16_t'\n    if (size === 4 && !integer.unsigned && !array) return 'int32_t'\n    if (size === 8 && !integer.unsigned && !array) return 'int64_t'\n\n    if (size === 1 && integer.unsigned && array) return 'struct { size_t size; uint8_t* offset; }'\n    if (size === 2 && integer.unsigned && array) return 'struct { size_t size; uint16_t* offset; }'\n    if (size === 4 && integer.unsigned && array) return 'struct { size_t size; uint32_t* offset; }'\n    if (size === 8 && integer.unsigned && array) return 'struct { size_t size; uint64_t* offset; }'\n\n    if (size === 1 && !integer.unsigned && array) return 'struct { size_t size; int8_t* offset; }'\n    if (size === 2 && !integer.unsigned && array) return 'struct { size_t size; int16_t* offset; }'\n    if (size === 4 && !integer.unsigned && array) return 'struct { size_t size; int32_t* offset; }'\n    if (size === 8 && !integer.unsigned && array) return 'struct { size_t size; int64_t* offset; }'\n  }\n\n  if (decimal) {\n    if (size === 4 && !array) return 'float'\n    if (size === 8 && !array) return 'double'\n\n    if (size === 4 && array) return 'struct { size_t size; float* offset; }'\n    if (size === 8 && array) return 'struct { size_t size; double* offset; }'\n  }\n\n  if (boolean) {\n    return array ? 'struct { size_t size; bool* offset; }' : 'bool'\n  }\n\n  if (string) {\n    return array ? 'struct { size_t size; char16_t** offset; }' : 'char16_t*'\n  }\n\n  if (key && key.foreign) {\n    return array ? 'struct { size_t size; struct { size_t rid; void* unknown; } *offset; }' : '{ size_t rid; void* unknown; }'\n  }\n\n  if (key && !key.foreign) {\n    return array ? 'struct { size_t size; size_t* offset; }' : 'size_t'\n  }\n\n  return { byte: 'uint8_t' }\n}\n","import { Header } from '../viewer/headers'\nimport { ColumnStats } from '../dat/analysis'\n\nexport interface DatSerializedHeader {\n  name: string | null\n  length?: number\n  type: {\n    ref?: { array: boolean }\n    boolean?: {}\n    integer?: { unsigned: boolean, size: number }\n    decimal?: { size: number }\n    string?: {}\n    key?: { foreign: boolean }\n  }\n}\n\nexport function exportInternalState (headers: Header[], name: string) {\n  return JSON.stringify({\n    name: name,\n    headers: serializeHeaders(headers)\n  }, null, 2)\n}\n\nexport function serializeHeaders (headers: Header[]) {\n  return headers.map<DatSerializedHeader>(header => ({\n    name: header.name,\n    length: (header.type.ref || header.type.key) ? undefined : header.length,\n    type: {\n      ...header.type,\n      byteView: undefined\n    }\n  }))\n}\n\nexport function getHeaderLength (header: DatSerializedHeader, memsize: number) {\n  if (header.length) return header.length\n\n  if (header.type.ref?.array) {\n    return memsize * 2\n  } else if (header.type.string) {\n    return memsize\n  } else if (header.type.key) {\n    return header.type.key.foreign\n      ? memsize * 2\n      : memsize\n  }\n\n  throw new Error('Corrupted header')\n}\n\nexport function validateImportedHeader (\n  header: Pick<Header, 'type' | 'offset' | 'length'>,\n  columns: ColumnStats[]\n): boolean {\n  const boolean = header.type.boolean\n  const integer = header.type.integer\n  const decimal = header.type.decimal\n  const string = header.type.string\n  const array = header.type.ref?.array\n  const key = header.type.key\n  const size = integer?.size || decimal?.size\n\n  // NOTE: keep in sync with `HeaderProps.vue`\n\n  const space = columns.length - header.offset\n  const stats = columns[header.offset]\n\n  if (integer) {\n    if (size === 1 && !array) return space >= 1\n    if (size === 2 && !array) return space >= 2\n    if (size === 4 && !array) return space >= 4\n    if (size === 8 && !array) return space >= 8\n\n    if (size === 1 && array) return stats.refArray && true\n    if (size === 2 && array) return stats.refArray && stats.refArray.short\n    if (size === 4 && array) return stats.refArray && stats.refArray.long\n    if (size === 8 && array) return stats.refArray && stats.refArray.longLong\n  }\n\n  if (decimal) {\n    if (size === 4 && !array) return space >= 4\n    if (size === 8 && !array) return space >= 8\n\n    if (size === 4 && array) return stats.refArray && stats.refArray.long\n    if (size === 8 && array) return stats.refArray && stats.refArray.longLong\n  }\n\n  if (boolean) {\n    return array\n      ? stats.refArray && stats.refArray.boolean\n      : stats.bMax <= 0x01\n  }\n\n  if (string) {\n    return array\n      ? stats.refArray && stats.refArray.string\n      : stats.refString\n  }\n\n  if (key && key.foreign) {\n    return array\n      ? stats.refArray && stats.refArray.keyForeign\n      : space >= header.length\n  }\n\n  if (key && !key.foreign) {\n    return array\n      ? stats.refArray && stats.refArray.keySelf\n      : stats.keySelf\n  }\n\n  return space >= header.length\n}\n","<template>\n  <q-card style=\"width: 700px; max-width: 80vw;\">\n    <q-tabs v-model=\"format\" :breakpoint=\"0\"\n      dense align=\"left\" narrow-indicator\n      class=\"text-grey\" active-color=\"primary\" indicator-color=\"primary\"\n    >\n      <q-tab name=\"pypoe\" label=\"PyPoE\" />\n      <q-tab name=\"pogo\" label=\"pogo\" />\n      <q-tab name=\"c_struct\" label=\"C struct\" />\n      <q-tab name=\"json\" label=\"JSON\" />\n    </q-tabs>\n    <q-separator />\n    <q-tab-panels v-model=\"format\" animated>\n      <q-tab-panel name=\"pypoe\" style=\"max-height: 60vh;\">\n        <div :class=\"$style.code\">{{ pypoe }}</div>\n      </q-tab-panel>\n      <q-tab-panel name=\"pogo\" style=\"max-height: 60vh;\">\n        <div :class=\"$style.code\">{{ pogo }}</div>\n      </q-tab-panel>\n      <q-tab-panel name=\"c_struct\" style=\"max-height: 60vh;\">\n        <div :class=\"$style.code\">{{ clang }}</div>\n      </q-tab-panel>\n      <q-tab-panel name=\"json\" style=\"max-height: 60vh;\">\n        <div :class=\"$style.code\">{{ json }}</div>\n      </q-tab-panel>\n    </q-tab-panels>\n    <q-separator />\n    <q-card-actions align=\"right\">\n      <q-btn flat dense v-close-popup>Close</q-btn>\n    </q-card-actions>\n  </q-card>\n</template>\n\n<script>\nimport { exportToPogo } from './exporters/pogo'\nimport { exportToPypoe } from './exporters/pypoe'\nimport { exportToClang } from './exporters/c-struct'\nimport { exportInternalState } from './exporters/internal'\n\nexport default {\n  inject: ['viewer'],\n  data () {\n    return {\n      format: 'pypoe'\n    }\n  },\n  computed: {\n    pypoe () {\n      const { headers, datFile } = this.viewer\n      return exportToPypoe(headers, datFile.meta.name)\n    },\n    pogo () {\n      const { headers, datFile } = this.viewer\n      return exportToPogo(headers, datFile.meta.name)\n    },\n    clang () {\n      const { headers, datFile } = this.viewer\n      return exportToClang(headers, datFile.meta.name)\n    },\n    json () {\n      const { headers, datFile } = this.viewer\n      return exportInternalState(headers, datFile.meta.name)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" module>\n@import '@/styles/quasar.variables';\n\n.code {\n  font-family: $font-mono;\n  color: #fff;\n  white-space: pre;\n  padding: 16px;\n  margin-bottom: 16px;\n  border-radius: 4px;\n  background: $grey-9;\n  overflow-x: auto;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportSchema.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportSchema.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExportSchema.vue?vue&type=template&id=1d78a016&\"\nimport script from \"./ExportSchema.vue?vue&type=script&lang=js&\"\nexport * from \"./ExportSchema.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ExportSchema.vue?vue&type=style&index=0&lang=scss&module=true&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row bg-white\",staticStyle:{\"width\":\"820px\",\"max-width\":\"80vw\"}},[_c('div',{staticClass:\"flex-1 q-pa-md\"},[_c('div',{staticClass:\"flex items-center\"},[_c('q-linear-progress',{staticStyle:{\"width\":\"4rem\"},attrs:{\"rounded\":\"\",\"size\":\"0.75rem\",\"value\":1,\"color\":\"brown-4\"}}),_c('div',{staticClass:\"q-ml-sm\"},[_vm._v(\"Octet is part of String\")])],1),_c('div',{staticClass:\"flex items-center\"},[_c('q-linear-progress',{staticStyle:{\"width\":\"4rem\"},attrs:{\"rounded\":\"\",\"size\":\"0.75rem\",\"value\":1,\"color\":\"teal-4\"}}),_c('div',{staticClass:\"q-ml-sm\"},[_vm._v(\"Octet is part of Array\")])],1),_c('div',{staticClass:\"flex items-center\"},[_c('q-linear-progress',{staticStyle:{\"width\":\"4rem\"},attrs:{\"rounded\":\"\",\"size\":\"0.75rem\",\"value\":1,\"color\":\"grey-10\"}}),_c('div',{staticClass:\"q-ml-sm\"},[_vm._v(\"All bytes in column are 00\")])],1),_c('div',{staticClass:\"flex items-center\"},[_c('q-linear-progress',{staticStyle:{\"width\":\"4rem\"},attrs:{\"rounded\":\"\",\"size\":\"0.75rem\",\"value\":1,\"color\":\"pink-4\"}}),_c('div',{staticClass:\"q-ml-sm\"},[_vm._v(\"Octet is part of NULL\")])],1),_c('q-separator',{attrs:{\"spaced\":\"\"}}),_c('div',[_vm._v(\"Mouse-over octet statistics bar to see the MAX byte value in column.\")]),_c('q-separator',{attrs:{\"spaced\":\"\"}}),_c('div',[_vm._v(\"Dat format has reserved \"),_c('q-badge',{staticClass:\"font-mono\",attrs:{\"color\":\"grey-8\"}},[_vm._v(\"fe fe fe fe (x32)\")]),_vm._v(\" and \"),_c('q-badge',{staticClass:\"font-mono\",attrs:{\"color\":\"grey-8\"}},[_vm._v(\"fe fe fe fe fe fe fe fe (x64)\")]),_vm._v(\" for NULL value.\")],1)],1),_c('q-markup-table',[_c('thead',[_c('tr',[_c('th',{staticClass:\"text-left\"},[_vm._v(\"Type\")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\"C/C++ type\")]),_c('th',{staticClass:\"text-right\"},[_vm._v(\"x32_64\")]),_c('th',{staticClass:\"text-right\"},[_vm._v(\"x32 size\")]),_c('th',{staticClass:\"text-right\"},[_vm._v(\"x64 size\")])])]),_c('tbody',[_c('tr',[_c('td',{staticClass:\"text-left\"},[_vm._v(\"String\")]),_c('td',{staticClass:\"text-left\"},[_vm._v(\"char16_t*\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"4\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"8\")])]),_c('tr',[_c('td',{staticClass:\"text-left\"},[_vm._v(\"Array\")]),_c('td',{staticClass:\"text-left\"},[_vm._v(\"{ size_t; void* }\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"4 + 4\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"8 + 8\")])]),_c('tr',[_c('td',{staticClass:\"text-left\"},[_vm._v(\"Key (foreign)\")]),_c('td',{staticClass:\"text-left\"},[_vm._v(\"{ size_t; void* }\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"4 + 4\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"8 + 8\")])]),_c('tr',[_c('td',{staticClass:\"text-left\"},[_vm._v(\"Key (self)\")]),_c('td',{staticClass:\"text-left\"},[_vm._v(\"size_t\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"4\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"8\")])]),_c('tr',[_c('td',{staticClass:\"text-left\"},[_vm._v(\"Decimal\")]),_c('td',{staticClass:\"text-left\"},[_vm._v(\"double\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"8\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")])]),_c('tr',[_c('td',{staticClass:\"text-left\"},[_vm._v(\"Decimal\")]),_c('td',{staticClass:\"text-left\"},[_vm._v(\"float\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"4\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")])]),_c('tr',[_c('td',{staticClass:\"text-left\"},[_vm._v(\"Integer\")]),_c('td',{staticClass:\"text-left\"},[_vm._v(\"int64_t / uint64_t\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"8\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")])]),_c('tr',[_c('td',{staticClass:\"text-left\"},[_vm._v(\"Integer\")]),_c('td',{staticClass:\"text-left\"},[_vm._v(\"int32_t / uint32_t\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"4\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")])]),_c('tr',[_c('td',{staticClass:\"text-left\"},[_vm._v(\"Integer\")]),_c('td',{staticClass:\"text-left\"},[_vm._v(\"int16_t / uint16_t\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"2\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")])]),_c('tr',[_c('td',{staticClass:\"text-left\"},[_vm._v(\"Integer\")]),_c('td',{staticClass:\"text-left\"},[_vm._v(\"int8_t / uint8_t\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"1\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")])]),_c('tr',[_c('td',{staticClass:\"text-left\"},[_vm._v(\"Boolean\")]),_c('td',{staticClass:\"text-left\"},[_vm._v(\"bool\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"1\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")])])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./HelpContent.vue?vue&type=template&id=77eaece1&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-card',{staticStyle:{\"max-width\":\"80vw\"}},[_c('q-card-section',[_c('div',{staticClass:\"q-gutter-xs flex items-baseline\"},[_c('q-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"value\":\"patchcdn.pathofexile.com/\",\"filled\":\"\",\"hint\":\"Patch CDN\",\"readonly\":\"\",\"dense\":\"\"}}),_c('q-input',{staticStyle:{\"width\":\"100px\"},attrs:{\"filled\":\"\",\"hint\":\"Patch #\",\"dense\":\"\",\"placeholder\":\"3.12.x.x.x\"},model:{value:(_vm.poePatch),callback:function ($$v) {_vm.poePatch=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"poePatch\"}}),_c('q-input',{staticStyle:{\"width\":\"250px\"},attrs:{\"value\":\"/Bundles2/_.index.bin\",\"filled\":\"\",\"hint\":\"Index\",\"readonly\":\"\",\"dense\":\"\"}}),_c('q-btn',{attrs:{\"label\":\"Import\",\"color\":\"primary\",\"loading\":_vm.isCdnImportRunning},on:{\"click\":_vm.cdnImport}})],1)]),_c('q-separator'),_c('q-card-section',[_c('div',{staticClass:\"flex items-baseline\"},[_c('q-file',{staticStyle:{\"max-width\":\"250px\"},attrs:{\"label\":\"Pick local file\",\"accept\":\".dat,.dat64\",\"filled\":\"\",\"dense\":\"\"},on:{\"input\":_vm.handleFile}})],1),_c('div',{staticClass:\"q-pt-sm\"},[_vm._v(\" Or import \"),_c('a',{staticClass:\"q-link text-primary\",staticStyle:{\"border-bottom\":\"1px dashed currentColor\"},attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.importDemo($event)}}},[_vm._v(\"demo file\")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { openDB, DBSchema } from 'idb'\nimport { DatSerializedHeader } from '../exporters/internal'\n\nexport interface DatSchema {\n  name: string\n  headers: DatSerializedHeader[]\n}\n\ninterface PoeDatViewerSchema extends DBSchema {\n  'dat-schemas': {\n    key: DatSchema['name']\n    value: DatSchema\n  }\n}\n\nconst db = openDB<PoeDatViewerSchema>('poe-dat-viewer', 2, {\n  upgrade (db) {\n    db.createObjectStore('dat-schemas', { keyPath: 'name' })\n  }\n})\n\nexport async function findByName (name: string) {\n  const record = await (await db).get('dat-schemas', name)\n  return record?.headers || []\n}\n\nexport async function updateFileHeaders (\n  name: string,\n  headers: DatSerializedHeader[]\n) {\n  await (await db).put('dat-schemas', {\n    name,\n    headers\n  })\n}\n","import { DatSerializedHeader } from '../exporters/internal'\nimport { findByName } from './db'\nimport { findSequence } from './reader'\n\nexport interface DatFile {\n  meta: {\n    name: string\n    headers: DatSerializedHeader[]\n  }\n  memsize: number\n  rowCount: number\n  rowLength: number\n  dataFixed: Uint8Array\n  dataVariable: Uint8Array\n  readerFixed: BinaryReader\n  readerVariable: BinaryReader\n}\n\nfunction initDatFile (filename: string, content: ArrayBuffer) {\n  if (content.byteLength < (4 + 8)) {\n    throw new Error('Invalid file size')\n  }\n\n  const file = new Uint8Array(content)\n  const fileReader = new DataView(file.buffer)\n  const memsize = filename.endsWith('.dat64') ? 8 : 4\n\n  const rowCount = fileReader.getUint32(0, true)\n  const boundary = findBBBB(file)\n  if (boundary === -1) {\n    throw new Error('Invalid file: section with variable data not found')\n  }\n  const rowLength = (boundary - 4) / rowCount\n\n  const dataFixed = file.subarray(4, boundary)\n  const dataVariable = file.subarray(boundary)\n\n  const readerFixed = new DataView(dataFixed.buffer, dataFixed.byteOffset, dataFixed.byteLength)\n  const readerVariable = new DataView(dataVariable.buffer, dataVariable.byteOffset, dataVariable.byteLength)\n\n  return {\n    memsize,\n    rowCount,\n    rowLength,\n    dataFixed,\n    dataVariable,\n    readerFixed: new BinaryReader(memsize, readerFixed),\n    readerVariable: new BinaryReader(memsize, readerVariable)\n  }\n}\n\nexport async function importFromFile (name: string, content: ArrayBuffer): Promise<DatFile> {\n  return Object.freeze({\n    meta: {\n      name: getNamePart(name),\n      headers: await findByName(getNamePart(name))\n    },\n    ...initDatFile(name, content)\n  })\n}\n\nexport function getNamePart (path: string) {\n  return path.match(/[^/]+(?=\\..+$)/)![0]\n}\n\nfunction findBBBB (data: Uint8Array): number {\n  return findSequence(data, [0xbb, 0xbb, 0xbb, 0xbb, 0xbb, 0xbb, 0xbb, 0xbb])\n}\n\nexport class BinaryReader {\n  public memsize: 4 | 8\n  private _data: DataView\n\n  constructor (memsize: 4 | 8, data: DataView) {\n    this.memsize = memsize\n    this._data = data\n  }\n\n  get buffer () {\n    return this._data.buffer\n  }\n\n  get byteLength () {\n    return this._data.byteLength\n  }\n\n  get byteOffset () {\n    return this._data.byteOffset\n  }\n\n  getSizeT (byteOffset: number) {\n    if (this.memsize === 4) {\n      return this._data.getUint32(byteOffset, true)\n    } else {\n      return Number(this._data.getBigUint64(byteOffset, true))\n    }\n  }\n\n  getBigInt64 (byteOffset: number): bigint {\n    return this._data.getBigInt64(byteOffset, true)\n  }\n\n  getBigUint64 (byteOffset: number): bigint {\n    return this._data.getBigUint64(byteOffset, true)\n  }\n\n  getFloat32 (byteOffset: number): number {\n    return this._data.getFloat32(byteOffset, true)\n  }\n\n  getFloat64 (byteOffset: number): number {\n    return this._data.getFloat64(byteOffset, true)\n  }\n\n  getInt8 (byteOffset: number): number {\n    return this._data.getInt8(byteOffset)\n  }\n\n  getInt16 (byteOffset: number): number {\n    return this._data.getInt16(byteOffset, true)\n  }\n\n  getInt32 (byteOffset: number): number {\n    return this._data.getInt32(byteOffset, true)\n  }\n\n  getUint8 (byteOffset: number): number {\n    return this._data.getUint8(byteOffset)\n  }\n\n  getUint16 (byteOffset: number): number {\n    return this._data.getUint16(byteOffset, true)\n  }\n\n  getUint32 (byteOffset: number): number {\n    return this._data.getUint32(byteOffset, true)\n  }\n}\n","import { Notify } from 'quasar'\nimport Vue from 'vue'\n\nconst BUNDLE_DIR = 'Bundles2'\n\nexport const progress = Vue.observable({\n  totalSize: 0,\n  received: 0,\n  active: false,\n  bundleName: ''\n})\n\nexport async function fetchFile (patchVer: string | null, name: string) {\n  if (patchVer == null) {\n    patchVer = localStorage.getItem('POE_PATCH_VER')\n    if (!patchVer) throw new Error('never')\n  }\n\n  try {\n    return await _fetchFile(patchVer, name)\n  } catch (e) {\n    Notify.create({ color: 'negative', message: e.message, caption: 'You may need to adjust the patch version.', progress: true })\n    throw e\n  }\n}\n\nexport async function _fetchFile (patchVer: string, name: string): Promise<ArrayBuffer> {\n  const path = `${patchVer}/${BUNDLE_DIR}/${name}`\n  let cache = await caches.open('bundles')\n  let res = await cache.match(path)\n  if (!res) {\n    progress.totalSize = 0\n    progress.received = 0\n    progress.active = true\n    progress.bundleName = name\n\n    res = await fetch(`https://poe-bundles.snos.workers.dev/${path}`)\n    if (res.status !== 200) {\n      progress.active = false\n      throw new Error(`patchcdn: ${res.status} ${res.statusText}`)\n    }\n    progress.totalSize = Number(res.headers.get('content-length'))\n\n    let buf: Uint8Array\n    try {\n      const reader = res.body!.getReader()\n      const chunks = [] as Uint8Array[]\n      while (true) {\n        const { done, value } = await reader.read()\n        if (done) break\n        chunks.push(value!)\n        progress.received += value!.length\n      }\n\n      buf = new Uint8Array(progress.received)\n      let bufPos = 0\n      for (const chunk of chunks) {\n        buf.set(chunk, bufPos)\n        bufPos += chunk.length\n      }\n    } finally {\n      progress.active = false\n    }\n\n    if (localStorage.getItem('POE_PATCH_VER') !== patchVer) {\n      await caches.delete('bundles')\n      cache = await caches.open('bundles')\n    }\n\n    await cache.put(path, new Response(buf, {\n      headers: {\n        'content-length': String(buf.byteLength),\n        'content-type': 'application/octet-stream'\n      }\n    }))\n    return buf.buffer\n  }\n  return res.arrayBuffer()\n}\n","/* eslint-disable import/no-webpack-loader-syntax */\nimport SingleThreadWorker from 'worker-loader!./script'\nimport type { _decompressSliceInBundle } from '../patchcdn/bundle.task'\nimport type { _unpackPaths } from '../patchcdn/index-paths.task'\n\nconst worker = new SingleThreadWorker()\n\nlet work_: Promise<unknown> | null = null\nlet resolve_: Function\nlet reject_: Function\n\nworker.addEventListener('message', (e) => {\n  work_ = null\n  if (e.data[0] != null) {\n    reject_(e.data[0])\n  } else {\n    resolve_(e.data[1])\n  }\n})\n\nasync function queueWork<T> (fn: () => void): Promise<T> {\n  if (work_) {\n    try { await work_ } catch (e) {}\n    return queueWork(fn)\n  }\n\n  fn()\n\n  work_ = new Promise((resolve, reject) => {\n    resolve_ = resolve\n    reject_ = reject\n  })\n  return work_ as Promise<T>\n}\n\nexport async function decompressBundle (bundle: Uint8Array) {\n  return queueWork<ReturnType<typeof _decompressSliceInBundle>>(() => {\n    if (bundle.byteOffset === 0 && bundle.byteLength === bundle.buffer.byteLength) {\n      worker.postMessage({ type: 'decompressSliceInBundle', bundle }, [/* bundle.buffer */])\n    } else {\n      const bundleSlice = new Uint8Array(\n        bundle.buffer.slice(bundle.byteOffset, bundle.byteOffset + bundle.byteLength))\n      worker.postMessage({ type: 'decompressSliceInBundle', bundle: bundleSlice }, [bundleSlice.buffer])\n    }\n  })\n}\n\nexport async function decompressFileTransferBundle (bundle: ArrayBuffer, offset: number, size: number) {\n  return queueWork<ReturnType<typeof _decompressSliceInBundle>>(() => {\n    worker.postMessage({\n      type: 'decompressSliceInBundle',\n      bundle: new Uint8Array(bundle),\n      sliceOffset: offset,\n      sliceSize: size\n    }, [bundle])\n  })\n}\n\nexport async function unpackIndexPaths (pathBundle: Uint8Array, pathReps: Uint8Array) {\n  // NOTE: for some reason in Chromium it's x2.2 slower in Worker than on main thread\n  // however in Firefox works as expected (same perf as in main)\n  return queueWork<ReturnType<typeof _unpackPaths>>(() => {\n    worker.postMessage({\n      type: 'unpackIndexPaths',\n      pathBundle,\n      pathReps\n    }, [\n      pathBundle.buffer\n      /* pathReps.buffer */\n    ])\n  })\n}\n","export default function() {\n  return new Worker(__webpack_public_path__ + \"js/script.91340e23.worker.js\");\n}\n","import { decompressBundle, unpackIndexPaths } from '../worker/interface'\nimport fnv from 'fnv-plus'\nimport { findSequence } from '../dat/reader'\n\n// https://github.com/poe-tool-dev/ggpk.discussion/wiki/Bundle-scheme#bundle-index-format\n\nexport async function readFilesIndex (bundle: Uint8Array) {\n  const reader = new DataView(bundle.buffer, bundle.byteOffset, bundle.byteLength)\n  let offset = 0\n\n  const bundlesCount = reader.getInt32(offset, true)\n  offset += 4\n  for (let i = 0; i < bundlesCount; ++i) {\n    const nameLen = reader.getInt32(offset, true)\n    offset += (4 /* nameLen */ + nameLen /* nameStr */ + 4 /* decompressedSize */)\n  }\n\n  const filesCount = reader.getInt32(offset, true)\n  offset += 4\n  const filesOffset = offset\n  offset += filesCount * (8 /* hash */ + 4 /* bundleIdx */ + 4 /* fileOffset */ + 4 /* fileSize */)\n\n  const pathsCount = reader.getInt32(offset, true)\n  offset += 4\n  const pathsOffset = offset\n  const pathsLen = pathsCount * (8 /* hash */ + 4 /* offset */ + 4 /* size */ + 4 /* recursiveSize */)\n  offset += pathsLen\n\n  const pathBundleOffset = offset\n  const pathBundleBin = bundle.subarray(pathBundleOffset)\n  const pathBundle = await decompressBundle(pathBundleBin)\n\n  return {\n    filesOffset,\n    dirs: await unpackIndexPaths(pathBundle, bundle.subarray(pathsOffset, pathsOffset + pathsLen))\n  }\n}\n\nexport function getFileLocation (bundle: Uint8Array, path: string, filesOffset: number) {\n  const hashHex = fnv.fast1a64(path.toLowerCase() + '++')\n  const hash = [\n    parseInt(hashHex.substr(14, 2), 16),\n    parseInt(hashHex.substr(12, 2), 16),\n    parseInt(hashHex.substr(10, 2), 16),\n    parseInt(hashHex.substr(8, 2), 16),\n    parseInt(hashHex.substr(6, 2), 16),\n    parseInt(hashHex.substr(4, 2), 16),\n    parseInt(hashHex.substr(2, 2), 16),\n    parseInt(hashHex.substr(0, 2), 16)\n  ]\n\n  const offset = findSequence(bundle, hash, filesOffset)\n  if (offset === -1) {\n    throw new Error('never')\n  }\n\n  const reader = new DataView(bundle.buffer, bundle.byteOffset, bundle.byteLength)\n  const bundleIdx = reader.getInt32(offset + 8, true)\n  const offsetInBundle = reader.getInt32(offset + 8 + 4, true)\n  const fileSize = reader.getInt32(offset + 8 + 4 + 4, true)\n\n  let bundleName: string\n  {\n    let offset = 4 // <- bundlesCount\n    for (let i = 0; i < bundleIdx; ++i) {\n      const nameLen = reader.getInt32(offset, true)\n      offset += (4 /* nameLen */ + nameLen /* nameStr */ + 4 /* decompressedSize */)\n    }\n    const nameLen = reader.getInt32(offset, true)\n    offset += 4\n    bundleName = new TextDecoder('utf-8').decode(bundle.subarray(offset, offset + nameLen))\n  }\n\n  return {\n    bundle: `${bundleName}.bundle.bin`,\n    offset: offsetInBundle,\n    size: fileSize\n  }\n}\n","const MAX_PER_FRAME = 10\n\nexport const CPUTask = {\n  mustYield: (prevTime: number) =>\n    (performance.now() - prevTime) >= MAX_PER_FRAME,\n  yield: () =>\n    new Promise<number>(resolve => requestAnimationFrame(ms => { resolve(ms) }))\n}\n","import { DatFile, BinaryReader } from './dat-file'\nimport { isNULL } from './reader'\nimport { CPUTask } from '../cpu-task'\n\nexport interface ColumnStats {\n  b00: boolean\n  b01: boolean\n  bMax: number\n  nullableMemsize: boolean\n  keySelf: boolean\n  refString: boolean\n  refArray: {\n    boolean: boolean\n    short: boolean\n    long: boolean\n    longLong: boolean\n    string: boolean\n    keySelf: boolean\n    keyForeign: boolean\n  } | false\n  memsize: number\n}\n\nexport async function analyze (datFile: DatFile) {\n  const isValidVariableOffset = (offset: number) =>\n    offset < datFile.readerVariable.byteLength && offset >= 4\n\n  const stats = new Array(datFile.rowLength).fill(undefined)\n    .map<ColumnStats>(_ => ({\n      b00: true,\n      b01: true,\n      bMax: 0,\n      nullableMemsize: false,\n      keySelf: true,\n      refString: true,\n      refArray: {\n        boolean: true,\n        short: true,\n        long: true,\n        longLong: true,\n        string: true,\n        keyForeign: true,\n        keySelf: true\n      },\n      memsize: datFile.memsize\n    }))\n\n  let start = await CPUTask.yield()\n  for (let bi = 0; bi < datFile.rowLength; bi += 1) {\n    const stat = stats[bi]\n    const sMem = (datFile.rowLength - bi) >= datFile.memsize\n    const sMemMem = (datFile.rowLength - bi) >= datFile.memsize * 2\n\n    if (!sMem) {\n      stat.refString = false\n      stat.keySelf = false\n    }\n\n    if (!sMemMem) {\n      stat.refArray = false\n    }\n\n    for (let ri = 0; ri < datFile.rowCount; ri += 1) {\n      const row = ri * datFile.rowLength\n\n      const byte = datFile.dataFixed[row + bi]\n      stat.b00 = stat.b00 && (byte === 0x00)\n      stat.b01 = stat.b01 && (byte === 0x01)\n      stat.bMax = Math.max(stat.bMax, byte)\n\n      if (!stat.nullableMemsize && sMem) {\n        stat.nullableMemsize = (\n          byte === 0xfe &&\n          isNULL(datFile.readerFixed.getSizeT(row + bi), datFile.memsize)\n        )\n      }\n\n      if (stat.refString) {\n        const varOffset = datFile.readerFixed.getSizeT(row + bi)\n        stat.refString = isValidVariableOffset(varOffset) &&\n          isStringAtOffset(varOffset, datFile.readerVariable)\n      }\n\n      if (stat.keySelf) {\n        const rowIdx = datFile.readerFixed.getSizeT(row + bi)\n        if (!isNULL(rowIdx, datFile.memsize)) {\n          stat.keySelf = (rowIdx < datFile.rowCount)\n        }\n      }\n\n      if (stat.refArray) {\n        const arrayLength = datFile.readerFixed.getSizeT(row + bi)\n        const varOffset = datFile.readerFixed.getSizeT(row + bi + datFile.memsize)\n        if (\n          !isValidVariableOffset(varOffset) ||\n          !isValidVariableOffset(varOffset + (1 * arrayLength))\n        ) {\n          if (arrayLength !== 0 || varOffset !== datFile.readerVariable.byteLength) {\n            stat.refArray = false\n          }\n        } else {\n          stat.refArray.short = stat.refArray.short &&\n            isValidVariableOffset(varOffset + (2 * arrayLength))\n          stat.refArray.long = stat.refArray.long &&\n            isValidVariableOffset(varOffset + (4 * arrayLength))\n          stat.refArray.longLong = stat.refArray.longLong &&\n            isValidVariableOffset(varOffset + (8 * arrayLength))\n          stat.refArray.string = stat.refArray.string &&\n            isValidVariableOffset(varOffset + (datFile.memsize * arrayLength))\n          stat.refArray.keySelf = stat.refArray.keySelf &&\n            isValidVariableOffset(varOffset + (datFile.memsize * arrayLength))\n          stat.refArray.keyForeign = stat.refArray.keyForeign &&\n            isValidVariableOffset(varOffset + ((datFile.memsize * 2) * arrayLength))\n\n          for (let idx = 0; idx < arrayLength && stat.refArray.string; idx += 1) {\n            const strOffset = datFile.readerVariable.getSizeT(varOffset + (datFile.memsize * idx))\n            stat.refArray.string = isValidVariableOffset(strOffset) &&\n              isStringAtOffset(strOffset, datFile.readerVariable)\n          }\n\n          for (let idx = 0; idx < arrayLength && stat.refArray.keySelf; idx += 1) {\n            const rowIdx = datFile.readerVariable.getSizeT(varOffset + (datFile.memsize * idx))\n            if (!isNULL(rowIdx, datFile.memsize)) {\n              stat.refArray.keySelf = (rowIdx < datFile.rowCount)\n            }\n          }\n\n          for (let idx = 0; idx < arrayLength && stat.refArray.boolean; idx += 1) {\n            stat.refArray.boolean = (\n              datFile.dataVariable[varOffset + idx] <= 0x01\n            )\n          }\n\n          if (\n            !stat.refArray.string &&\n            !stat.refArray.longLong &&\n            !stat.refArray.long &&\n            !stat.refArray.short &&\n            !stat.refArray.boolean\n          ) {\n            stat.refArray = false\n          }\n        }\n      }\n    }\n\n    if (CPUTask.mustYield(start)) {\n      start = await CPUTask.yield()\n    }\n  }\n\n  return stats\n}\n\nfunction isStringAtOffset (offset: number, data: BinaryReader) {\n  while (true) {\n    if ((offset + 3) >= data.byteLength) {\n      return false\n    }\n    const c1 = data.getUint16(offset)\n    const c2 = data.getUint16(offset + 2)\n    if (c1 === 0x0000 && c2 === 0x0000) {\n      break\n    }\n    // + 0000 = 00000\n    // + D7FF = 55295\n    // h D800 = 55296\n    // h DBFF = 56319\n    // l DC00 = 56320\n    // l DFFF = 57343\n    // + E000 = 57344\n    // + FFFF = 65535\n    if (c1 > 0xD7FF && c1 < 0xE000) {\n      if (c1 > 0xDBFF) {\n        return false\n      }\n      if (c2 < 0xDC00 || c2 > 0xDFFF) {\n        return false\n      } else {\n        offset += 4\n      }\n    } else {\n      offset += 2\n    }\n  }\n  return true\n}\n","import { DatFile } from '../dat/dat-file'\nimport { analyze, ColumnStats } from '../dat/analysis'\nimport { Header, createHeaderFromSelected, byteView } from './headers'\nimport { selectColsByHeader, clearColumnSelection } from './selection'\nimport { calcRowNumLength, cacheHeaderDataView } from './formatting'\nimport { DatSerializedHeader, getHeaderLength, validateImportedHeader, serializeHeaders } from '../exporters/internal'\nimport { updateFileHeaders } from '../dat/db'\nimport { CPUTask } from '../cpu-task'\nimport { readColumn } from '../dat/reader'\nimport { Loading, Notify } from 'quasar'\n\nexport interface StateColumn {\n  readonly offset: number\n  readonly colNum99: string\n  readonly colNum100: string\n  selected: boolean\n  header: Header | null\n  dataStart: boolean\n  readonly stats: {\n    string: boolean\n    array: boolean\n    b00: boolean\n    nullable: boolean\n    bMax: string\n  }\n}\n\nclass App {\n  exportSchemaDialog = false\n  helpDialog = false\n  importDialog = true\n  settingsDialog = false\n  config = {\n    rowNumStart: 0,\n    colNumStart: 0\n  }\n\n  viewers: Array<{ instance: Viewer }> = []\n\n  constructor () {\n    this.viewers.push({ instance: new Viewer(this) })\n  }\n}\n\nconst ROW_NUM_MIN_LENGTH = 4\n\nclass Viewer {\n  headers = [] as Header[]\n  columns = [] as StateColumn[]\n  datFile = null as DatFile | null\n  columnStats = [] as ColumnStats[]\n  rowNumberLength = -1\n  editHeader = null as Header | null\n  rowSorting = null as number[] | null\n\n  // eslint-disable-next-line no-useless-constructor\n  constructor (\n    private app: App\n  ) {}\n\n  async loadDat (parsed: DatFile, overrideHeaders?: DatSerializedHeader[]) {\n    Loading.show({ delay: 0 })\n    try {\n      await this._loadDat(parsed)\n      try {\n        const headers = overrideHeaders || parsed.meta.headers\n        await this.tryImportHeaders(headers)\n      } catch (e) {\n        Notify.create({ color: 'warning', message: e.message, progress: true })\n      }\n    } catch (e) {\n      Notify.create({ color: 'negative', message: e.message, progress: true })\n      throw e\n    } finally {\n      Loading.hide()\n    }\n  }\n\n  private async _loadDat (parsed: DatFile) {\n    const { app } = this\n    this.columnStats = await analyze(parsed)\n    this.rowNumberLength = calcRowNumLength(parsed.rowCount, app.config.rowNumStart, ROW_NUM_MIN_LENGTH)\n    this.datFile = parsed\n    this.columns = this.stateColumns(this.columnStats)\n    this.rowSorting = null\n    if (parsed.rowLength) {\n      this.headers = [{\n        name: null,\n        offset: 0,\n        length: parsed.rowLength,\n        type: byteView()\n      }]\n    } else {\n      this.headers = []\n    }\n  }\n\n  stateColumns (columnStats: ColumnStats[]) {\n    const { app } = this\n    const columns = new Array(columnStats.length).fill(undefined)\n      .map<StateColumn>((_, idx) => ({\n        offset: idx,\n        colNum99: String((idx + app.config.colNumStart) % 100).padStart(2, '0'),\n        // colNum100: String(Math.floor((idx + this.app.config.colNumStart) / 100)),\n        colNum100: String(idx + app.config.colNumStart).padStart(2, '0'),\n        selected: false,\n        header: null,\n        dataStart: false,\n        stats: {\n          string: false,\n          array: false,\n          b00: columnStats[idx].b00,\n          bMax: columnStats[idx].bMax.toString(16).padStart(2, '0'),\n          nullable: false\n        }\n      }))\n\n    for (let idx = 0; idx < columnStats.length; idx += 1) {\n      const stat = columnStats[idx]\n      if (stat.refString) {\n        for (let k = 0; k < stat.memsize; k += 1) {\n          columns[idx + k].stats.string = true\n        }\n      }\n      if (stat.refArray) {\n        for (let k = 0; k < stat.memsize * 2; k += 1) {\n          columns[idx + k].stats.array = true\n        }\n      }\n      if (stat.nullableMemsize) {\n        for (let k = 0; k < stat.memsize; k += 1) {\n          columns[idx + k].stats.nullable = true\n        }\n      }\n    }\n\n    return columns\n  }\n\n  async tryImportHeaders (serialized: DatSerializedHeader[]) {\n    const { datFile, columns, columnStats, headers } = this\n    let start = await CPUTask.yield()\n\n    let offset = 0\n    for (const hdrSerialized of serialized) {\n      const headerLength = getHeaderLength(hdrSerialized, datFile!.memsize)\n      if (hdrSerialized.name == null) {\n        offset += headerLength\n        continue\n      }\n\n      let header = {\n        length: headerLength,\n        offset: offset,\n        type: hdrSerialized.type\n      } as Header\n\n      const isValid = validateImportedHeader(header, columnStats)\n      if (!isValid) {\n        throw new Error('The schema is invalid.')\n      }\n\n      selectColsByHeader(header, columns)\n      header = createHeaderFromSelected(columns, headers)\n      header.name = hdrSerialized.name\n      clearColumnSelection(columns)\n\n      const type = hdrSerialized.type\n      if (type.boolean || type.decimal || type.integer || type.key || type.string) {\n        header.type = type\n        cacheHeaderDataView(header, this.datFile!)\n        this.disableByteView(header)\n      }\n\n      offset += headerLength\n\n      if (CPUTask.mustYield(start)) {\n        start = await CPUTask.yield()\n      }\n    }\n  }\n\n  async saveHeadersToFileCache () {\n    await updateFileHeaders(\n      this.datFile!.meta.name,\n      serializeHeaders(this.headers)\n    )\n  }\n\n  disableByteView (header: Header) {\n    const { columns } = this\n    header.type.byteView = undefined\n    const colIdx = columns.findIndex(col => col.offset === header.offset)\n    columns.splice(colIdx + 1, header.length - 1)\n    columns[colIdx].header = header\n    columns[colIdx].selected = false\n  }\n\n  enableByteView (header: Header) {\n    const { columns, columnStats } = this\n    header.type.byteView = { array: false }\n    const colIdx = columns.findIndex(col => col.offset === header.offset)\n    const fresh = this.stateColumns(columnStats)\n    columns.splice(colIdx + 1, 0, ...fresh.slice(header.offset + 1, header.offset + header.length))\n    columns[colIdx].header = null\n  }\n\n  collectData () {\n    const columns = this.headers\n      .filter(({ type }) => type.boolean || type.decimal || type.integer || type.key || type.string)\n      .map((header, idx) => ({\n        name: header.name || `Unknown${idx + 1}`,\n        data: (() => {\n          const data = header.cachedView?.entriesRaw || readColumn(header, this.datFile!)\n\n          if (header.type.key?.foreign) {\n            if (!header.type.ref?.array) {\n              const data_ = data as ({ rid: number, unknown: number } | null)[]\n              if (!data_.every(row => row == null || row.unknown === 0)) {\n                throw new Error('never')\n              }\n              return data_.map(row => row && row.rid)\n            } else {\n              const data_ = data as (Array<{ rid: number, unknown: number }>)[]\n              if (!data_.every(row => row.every(entry => entry.unknown === 0))) {\n                throw new Error('never')\n              }\n              return data_.map(row => row.map(entry => entry.rid))\n            }\n          }\n\n          return data\n        })()\n      }))\n\n    columns.unshift({\n      name: '_rid',\n      data: Array(this.datFile!.rowCount).fill(undefined)\n        .map((_, idx) => idx)\n    })\n\n    return Array(this.datFile!.rowCount).fill(undefined)\n      .map((_, idx) => Object.fromEntries(\n        columns.map(col => [col.name, col.data[idx]])\n      ))\n  }\n}\n\nexport const app = new App()\n","import { decompressBundle, decompressFileTransferBundle } from '../worker/interface'\nimport { readFilesIndex, getFileLocation } from './bundle-index'\nimport { fetchFile } from './cache'\nimport Vue from 'vue'\nimport FileSaver from 'file-saver'\nimport { importFromFile as importDat } from '../dat/dat-file'\nimport { app } from '../viewer/Viewer'\n\nlet index_ = null as {\n  bundle: Uint8Array\n  filesOffset: number\n  dirs: Map<string, string[]>\n} | null\n\nexport const ContentTree = Vue.observable({\n  tree: [] as Readonly<\n    Array<{ label: string, isFile: boolean }>\n  >,\n  current: ''\n})\n\nfunction initRoots () {\n  const firstLvl = [] as string[]\n  for (const dirName of index_!.dirs.keys()) {\n    if (!dirName.includes('/')) {\n      firstLvl.push(dirName)\n    }\n  }\n\n  ContentTree.tree = firstLvl.map(dirName => ({\n    label: dirName,\n    isFile: false\n  })).sort((a, b) => a.label.localeCompare(b.label))\n  ContentTree.current = ''\n}\n\nexport function listDirContent (fullPath: string) {\n  if (fullPath === '') {\n    initRoots()\n    return\n  }\n\n  const files = index_!.dirs.get(fullPath)!\n\n  const childDirs = [] as string[]\n  for (const dirName of index_!.dirs.keys()) {\n    if (\n      dirName.startsWith(fullPath) &&\n      dirName.lastIndexOf('/') === fullPath.length\n    ) {\n      childDirs.push(dirName.substring(dirName.lastIndexOf('/') + 1))\n    }\n  }\n\n  ContentTree.tree = Object.freeze([\n    {\n      label: '../',\n      isFile: false\n    },\n    ...childDirs.map(dirName => ({\n      label: dirName,\n      isFile: false\n    })).sort((a, b) => a.label.localeCompare(b.label)),\n    ...files.map(fileName => ({\n      label: fileName,\n      isFile: true\n    })).sort((a, b) => a.label.localeCompare(b.label))\n  ])\n\n  ContentTree.current = fullPath\n}\n\nexport async function loadFile (fullPath: string) {\n  const fileContent = await loadFileContent(fullPath)\n\n  if (fullPath.endsWith('.dat') || fullPath.endsWith('.dat64')) {\n    const datFile = await importDat(fullPath, fileContent)\n    await app.viewers[0].instance.loadDat(datFile)\n    return\n  }\n\n  FileSaver.saveAs(new File(\n    [fileContent],\n    fullPath.substring(fullPath.lastIndexOf('/') + 1),\n    { type: 'application/octet-stream' }\n  ))\n}\n\nexport async function loadFileContent (fullPath: string) {\n  const location = getFileLocation(index_!.bundle, fullPath, index_!.filesOffset)\n  const bundleBin = await fetchFile(null, location.bundle)\n\n  return await decompressFileTransferBundle(bundleBin, location.offset, location.size)\n}\n\nexport async function loadIndex (indexBin: ArrayBuffer) {\n  const indexBundle = await decompressBundle(new Uint8Array(indexBin))\n  const index = await readFilesIndex(indexBundle)\n  index_ = {\n    bundle: indexBundle,\n    ...index\n  }\n  initRoots()\n}\n","import { DatSerializedHeader } from '../exporters/internal'\n\nexport const DEMO_HDRS: DatSerializedHeader[] = [\n  {\n    name: 'Id',\n    type: {\n      ref: { array: false },\n      string: {}\n    }\n  },\n  {\n    name: 'ItemClassesKey',\n    type: {\n      key: { foreign: true }\n    }\n  },\n  {\n    name: 'Width',\n    length: 4,\n    type: {\n      integer: { unsigned: true, size: 4 }\n    }\n  },\n  {\n    name: 'Height',\n    length: 4,\n    type: {\n      integer: { unsigned: true, size: 4 }\n    }\n  },\n  {\n    name: 'Name',\n    type: {\n      ref: { array: false },\n      string: {}\n    }\n  }\n]\n","<template>\n  <q-card style=\"max-width: 80vw;\">\n    <q-card-section>\n      <div class=\"q-gutter-xs flex items-baseline\">\n        <q-input value=\"patchcdn.pathofexile.com/\" filled hint=\"Patch CDN\" readonly dense style=\"width: 200px;\" />\n        <q-input v-model.trim=\"poePatch\" filled hint=\"Patch #\" dense placeholder=\"3.12.x.x.x\" style=\"width: 100px;\" />\n        <q-input value=\"/Bundles2/_.index.bin\" filled hint=\"Index\" readonly dense style=\"width: 250px;\" />\n        <q-btn label=\"Import\" color=\"primary\" @click=\"cdnImport\" :loading=\"isCdnImportRunning\" />\n      </div>\n    </q-card-section>\n    <q-separator />\n    <q-card-section>\n      <div class=\"flex items-baseline\">\n        <q-file\n          label=\"Pick local file\"\n          accept=\".dat,.dat64\"\n          filled dense\n          style=\"max-width: 250px\"\n          @input=\"handleFile\"\n        />\n      </div>\n      <div class=\"q-pt-sm\">\n        Or import <a @click.prevent=\"importDemo\" class=\"q-link text-primary\" style=\"border-bottom: 1px dashed currentColor;\" href=\"#\">demo file</a>\n      </div>\n    </q-card-section>\n  </q-card>\n</template>\n\n<script>\nimport { importFromFile } from './dat/dat-file'\nimport { fetchFile, progress } from './patchcdn/cache'\nimport { loadIndex, ContentTree, loadFileContent } from './patchcdn/index-store'\nimport { DEMO_HDRS } from './viewer/_demo_data'\n\nexport default {\n  inject: ['app', 'viewer'],\n  data () {\n    return {\n      poePatch: '',\n      isCdnImportRunning: false\n    }\n  },\n  created () {\n    this.poePatch = localStorage.getItem('POE_PATCH_VER') || ''\n    if (this.poePatch && !ContentTree.tree.length) {\n      this.cdnImport()\n    }\n  },\n  methods: {\n    async handleFile (e) {\n      let datFile\n      try {\n        const fileContent = await e.arrayBuffer()\n        const fileName = e.name\n        datFile = await importFromFile(fileName, fileContent)\n      } catch (e) {\n        this.$q.notify({ color: 'negative', message: e.message, progress: true })\n        throw e\n      }\n      await this.viewer.loadDat(datFile)\n      this.app.importDialog = false\n    },\n    async cdnImport () {\n      let bundle\n      try {\n        this.isCdnImportRunning = true\n        bundle = await fetchFile(this.poePatch, '_.index.bin')\n      } finally {\n        this.isCdnImportRunning = false\n      }\n\n      try {\n        this.$q.loading.show({ delay: 0, message: 'Reading index of 500,000+ files and 35,000+ folders' })\n        await loadIndex(bundle)\n        localStorage.setItem('POE_PATCH_VER', this.poePatch)\n      } catch (e) {\n        this.$q.notify({ color: 'negative', message: e.message, progress: true })\n      } finally {\n        this.$q.loading.hide()\n      }\n    },\n    async importDemo () {\n      if (!ContentTree.tree.length) {\n        this.poePatch = '3.12.2.3.2'\n        await this.cdnImport()\n      }\n\n      const fileName = 'Data/Russian/BaseItemTypes.dat'\n      const fileContent = await loadFileContent(fileName)\n      const datFile = await importFromFile(fileName, fileContent)\n      await this.viewer.loadDat(datFile, DEMO_HDRS)\n      this.app.importDialog = false\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImportDialog.vue?vue&type=template&id=0eeec546&\"\nimport script from \"./ImportDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./ImportDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-card',{staticStyle:{\"width\":\"500px\",\"max-width\":\"80vw\"}},[_c('q-card-section',[_c('div',{staticClass:\"text-h6\"},[_vm._v(\"Settings\")])]),_c('q-card-section',[_vm._v(\" There is nothing to configure here yet. Open an issue on GitHub for new settings. \")]),_c('q-card-actions',{attrs:{\"align\":\"right\"}},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"flat\":\"\",\"dense\":\"\"}},[_vm._v(\"Close\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./SettingsDialog.vue?vue&type=template&id=097839d4&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-dialog',{attrs:{\"value\":_vm.active,\"seamless\":\"\",\"position\":\"bottom\"}},[_c('q-card',{staticStyle:{\"width\":\"350px\"}},[_c('q-linear-progress',{attrs:{\"value\":_vm.received/_vm.totalSize,\"instant-feedback\":\"\",\"size\":\"md\",\"indeterminate\":!_vm.totalSize}}),_c('q-card-section',{staticClass:\"row items-center no-wrap\"},[_c('div',{staticClass:\"min-w-0\"},[_c('div',{staticClass:\"text-weight-bold ellipsis\"},[_vm._v(_vm._s(_vm.bundleName))]),_c('div',{staticClass:\"text-grey\"},[(_vm.totalSize)?[_vm._v(_vm._s((_vm.totalSize / 1000000).toFixed(1))+\" MB\")]:[_vm._v(\"Downloading...\")]],2)])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <q-dialog :value=\"active\" seamless position=\"bottom\">\n    <q-card style=\"width: 350px\">\n      <q-linear-progress :value=\"received/totalSize\" instant-feedback size=\"md\" :indeterminate=\"!totalSize\" />\n      <q-card-section class=\"row items-center no-wrap\">\n        <div class=\"min-w-0\">\n          <div class=\"text-weight-bold ellipsis\">{{ bundleName }}</div>\n          <div class=\"text-grey\">\n            <template v-if=\"totalSize\">{{ (totalSize / 1000000).toFixed(1) }} MB</template>\n            <template v-else>Downloading...</template>\n          </div>\n        </div>\n      </q-card-section>\n    </q-card>\n  </q-dialog>\n</template>\n\n<script>\nimport { progress } from './patchcdn/cache'\n\nexport default {\n  data () {\n    return progress\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DownloadProgress.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DownloadProgress.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DownloadProgress.vue?vue&type=template&id=a385cab6&\"\nimport script from \"./DownloadProgress.vue?vue&type=script&lang=js&\"\nexport * from \"./DownloadProgress.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-scroll-area',{staticClass:\"shadow-1 q-pa-xs\",staticStyle:{\"width\":\"300px\",\"flex-shrink\":\"0\"},attrs:{\"id\":\"content-tree-fancy-scroll\"}},[_c('q-virtual-scroll',{attrs:{\"items\":_vm.tree,\"virtual-scroll-item-size\":29,\"scroll-target\":\"#content-tree-fancy-scroll > .scroll\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('q-btn',{staticClass:\"full-width\",staticStyle:{\"font-weight\":\"normal\"},attrs:{\"label\":item.label,\"flat\":\"\",\"no-caps\":\"\",\"dense\":\"\",\"align\":\"left\",\"no-wrap\":\"\",\"icon\":item.isFile ? '' : 'la la-folder-open'},on:{\"click\":function($event){return _vm.handleFolderNav(item)}}})]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <q-scroll-area\n    style=\"width: 300px; flex-shrink: 0;\" class=\"shadow-1 q-pa-xs\"\n    id=\"content-tree-fancy-scroll\"\n  >\n    <q-virtual-scroll\n      :items=\"tree\"\n      :virtual-scroll-item-size=\"29\"\n      scroll-target=\"#content-tree-fancy-scroll > .scroll\"\n      >\n      <template v-slot=\"{ item }\">\n        <q-btn :label=\"item.label\"\n          flat no-caps style=\"font-weight: normal\" dense\n          class=\"full-width\" align=\"left\" no-wrap\n          :icon=\"item.isFile ? '' : 'la la-folder-open'\"\n          @click=\"handleFolderNav(item)\" />\n      </template>\n    </q-virtual-scroll>\n  </q-scroll-area>\n</template>\n\n<script>\nimport { ContentTree, listDirContent, loadFile } from './patchcdn/index-store'\n\nexport default {\n  data () {\n    return ContentTree\n  },\n  methods: {\n    handleFolderNav (item) {\n      let fullPath\n      if (item.label === '../') {\n        const slashIdx = this.current.lastIndexOf('/')\n        fullPath = (slashIdx === -1) ? '' : this.current.substring(0, slashIdx)\n      } else {\n        fullPath = this.current ? `${this.current}/${item.label}` : item.label\n      }\n\n      if (!item.isFile) {\n        listDirContent(fullPath)\n      } else {\n        loadFile(fullPath)\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContentTree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContentTree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContentTree.vue?vue&type=template&id=50d59fd2&\"\nimport script from \"./ContentTree.vue?vue&type=script&lang=js&\"\nexport * from \"./ContentTree.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div style=\"display: flex; width: 100%; height: 100%;\">\n    <content-tree />\n    <div class=\"layout-column flex-1\" style=\"min-width: 0;\">\n      <div class=\"app-titlebar\">\n        <div v-if=\"viewer.datFile\" class=\"ellipsis q-mr-xs\">{{ viewer.datFile.meta.name }}</div>\n        <q-space />\n        <q-btn padding=\"0 sm\" label=\"Import\" no-caps flat @click=\"app.importDialog = true\" class=\"q-mr-sm\" />\n        <q-btn padding=\"0 sm\" label=\"Help\" no-caps flat @click=\"app.helpDialog = true\" class=\"q-mr-sm\" />\n        <q-btn padding=\"0 sm\" label=\"Settings\" no-caps flat @click=\"app.settingsDialog = true\" />\n      </div>\n      <q-dialog v-model=\"app.exportSchemaDialog\">\n        <export-schema />\n      </q-dialog>\n      <q-dialog v-model=\"app.helpDialog\">\n        <help-content />\n      </q-dialog>\n      <q-dialog v-model=\"app.importDialog\">\n        <import-dialog />\n      </q-dialog>\n      <q-dialog v-model=\"app.settingsDialog\">\n        <settings-dialog />\n      </q-dialog>\n      <div class=\"flex no-wrap bg-blue-grey-9 q-pa-sm\">\n        <div class=\"flex no-wrap\">\n          <template v-if=\"selections.length === 0\">\n            <div class=\"text-blue-grey-4 text-italic\">No bytes selected</div>\n          </template>\n          <template v-else-if=\"selections.length === 1\">\n            <q-btn @click=\"defineColumn\" padding=\"0 sm\" label=\"Define column\" no-caps color=\"blue-grey-8\" />\n          </template>\n          <template v-else-if=\"selections.length > 1\">\n            <div class=\"text-blue-grey-2 q-pr-xs\">Selections</div>\n            <!-- eslint-disable-next-line vue/require-v-for-key -->\n            <div v-for=\"sel in selections\"\n              class=\"q-px-xs q-mr-xs font-mono bg-blue-grey-2 text-blue-grey-10 rounded-borders\"\n              >{{ sel }}</div>\n          </template>\n        </div>\n        <q-space />\n        <div class=\"flex no-wrap q-gutter-x-sm\">\n          <q-btn @click=\"viewer.rowSorting = null\" v-if=\"viewer.rowSorting\" padding=\"0 sm\" label=\"Reset sorting\" no-caps color=\"blue-grey-8\" />\n          <q-btn @click=\"exportDataJson\" :disable=\"!viewer.datFile\" padding=\"0 sm\" label=\"Export data\" no-caps color=\"blue-grey-8\" />\n          <q-btn @click=\"app.exportSchemaDialog = true\" :disable=\"!viewer.datFile\" padding=\"0 sm\" label=\"Export schema\" no-caps color=\"blue-grey-8\" />\n        </div>\n      </div>\n      <div class=\"flex min-h-0 flex-1\">\n        <div class=\"layout-column min-w-0 flex-1\">\n          <div\n            class=\"flex-1 font-mono scroll\"\n            style=\"--ppc: 8px; letter-spacing: calc(var(--ppc) - 1ch);\"\n            id=\"viewer-fancy-scroll\"\n          >\n            <q-virtual-scroll\n              :items=\"rows\"\n              :virtual-scroll-item-size=\"21\"\n              scroll-target=\"#viewer-fancy-scroll > .scroll\"\n              style=\"min-width: min-content;\"\n              >\n              <template #before>\n                <viewer-head\n                  :headers=\"viewer.headers\"\n                  :columns=\"viewer.columns\" />\n              </template>\n              <template v-slot=\"{ index }\">\n                <data-row\n                  :row-idx=\"rows[index]\"\n                  :format=\"rowFormat\" />\n              </template>\n            </q-virtual-scroll>\n          </div>\n          <div class=\"app-footer bg-blue-grey-9 q-pa-sm text-white text-body2 flex\">\n            <div>Made by Alexander Drozdov, v{{ appVersion }} <a class=\"q-link text-white border-b\" href=\"https://github.com/SnosMe/poe-dat-viewer\">GitHub</a></div>\n            <a href=\"https://discord.gg/SJjBdT3\" class=\"flex q-ml-lg\"><img src=\"@/assets/discord-badge.svg\" /></a>\n          </div>\n        </div>\n        <div class=\"flex-shrink-0\">\n          <header-props />\n        </div>\n      </div>\n      <download-progress />\n    </div>\n  </div>\n</template>\n\n<script>\nimport DataRow from './DataRow'\nimport ViewerHead from './ViewerHead'\nimport HeaderProps from './HeaderProps'\nimport ExportSchema from './ExportSchema'\nimport HelpContent from './HelpContent'\nimport ImportDialog from './ImportDialog'\nimport SettingsDialog from './SettingsDialog'\nimport { app } from './viewer/Viewer'\nimport { getColumnSelections, clearColumnSelection } from './viewer/selection'\nimport { getRowFormating } from './viewer/formatting'\nimport { createHeaderFromSelected } from './viewer/headers'\nimport FileSaver from 'file-saver'\nimport DownloadProgress from './DownloadProgress'\nimport ContentTree from './ContentTree'\n\nexport default {\n  components: { ViewerHead, HeaderProps, DataRow, ExportSchema, HelpContent, ImportDialog, SettingsDialog, DownloadProgress, ContentTree },\n  provide () {\n    return {\n      viewer: this.viewer,\n      app: this.app\n    }\n  },\n  data () {\n    return {\n      app: app,\n      viewer: app.viewers[0].instance\n    }\n  },\n  computed: {\n    rowComponent () {\n      return DataRow\n    },\n    rowFormat () {\n      return getRowFormating(this.viewer.columns)\n    },\n    selections () {\n      return getColumnSelections(this.viewer.columns).map(range =>\n        range.map(col => col.colNum100).join(' ')\n      )\n    },\n    rows () {\n      if (this.viewer.datFile) {\n        if (this.viewer.rowSorting) {\n          return this.viewer.rowSorting\n        } else {\n          return new Array(this.viewer.datFile.rowCount).fill(undefined)\n            .map((_, idx) => idx)\n        }\n      }\n      return []\n    },\n    appVersion () {\n      return process.env.APP_VERSION\n    }\n  },\n  methods: {\n    defineColumn () {\n      const { viewer } = this\n      viewer.editHeader = createHeaderFromSelected(viewer.columns, viewer.headers)\n      clearColumnSelection(viewer.columns)\n      viewer.saveHeadersToFileCache()\n    },\n    exportDataJson () {\n      const data = this.viewer.collectData()\n\n      FileSaver.saveAs(new File(\n        [JSON.stringify(data, null, 2)],\n        `${this.viewer.datFile.meta.name}.json`,\n        { type: 'application/json;charset=utf-8' }\n      ))\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import '@/styles/quasar.variables';\n\n.app-titlebar {\n  display: flex;\n  justify-content: space-between;\n  padding: 0.5rem;\n  background: $blue-grey-9;\n  color: $grey-1;\n  box-shadow: $shadow-1;\n  z-index: 1;\n}\n\n.app-footer {\n  img {\n    filter: grayscale(0.75);\n  }\n\n  &:hover {\n    img {\n      filter: grayscale(0);\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Analyze.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Analyze.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Analyze.vue?vue&type=template&id=09a9d52e&\"\nimport script from \"./Analyze.vue?vue&type=script&lang=js&\"\nexport * from \"./Analyze.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Analyze.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <analyze />\n  </div>\n</template>\n\n<script>\nimport Analyze from './app/Analyze'\n\nexport default {\n  name: 'App',\n  components: { Analyze }\n}\n</script>\n\n<style lang=\"scss\">\n@import '@/styles/quasar.variables';\n\n#app {\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  justify-content: space-between;\n}\n\n.layout-column {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.flex-1 { flex: 1 1 0%; }\n.flex-shrink-0 { flex-shrink: 0; }\n\n.min-h-0 { min-height: 0; }\n.min-w-0 { min-width: 0; }\n.h-full { height: 100%; }\n\n.q-px-px { padding-right: 1px; padding-left: 1px; }\n.q-mx-px { margin-right: 1px; margin-left: 1px; }\n.q-mr-px { margin-right: 1px; }\n\n.font-sans { font-family: $font-sans; }\n.font-mono { font-family: $font-mono; }\n\n.border-b { border-bottom: 1px solid currentColor; }\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=78d7c5e7&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\n\nimport './styles/quasar.scss'\nimport '@quasar/extras/line-awesome/line-awesome.css'\nimport iconSet from 'quasar/icon-set/line-awesome.js'\nimport {\n  Quasar,\n  QBtn,\n  QVirtualScroll,\n  QScrollArea,\n  QBtnGroup,\n  QInput,\n  QBtnToggle,\n  QOptionGroup,\n  QToggle,\n  QDialog,\n  ClosePopup,\n  QCard,\n  QCardActions,\n  QCardSection,\n  QSpace,\n  QTab,\n  QTabs,\n  QTabPanel,\n  QTabPanels,\n  QSeparator,\n  QMarkupTable,\n  QLinearProgress,\n  QBadge,\n  QFile,\n  QSlideTransition,\n  QIcon,\n  QItem,\n  QItemSection,\n  QItemLabel,\n  QList,\n  Notify,\n  Loading,\n  QTree\n} from 'quasar'\n\nVue.use(Quasar, {\n  config: {},\n  components: {\n    QTree,\n    QOptionGroup,\n    QBtnToggle,\n    QInput,\n    QBtnGroup,\n    QScrollArea,\n    QVirtualScroll,\n    QBtn,\n    QToggle,\n    QDialog,\n    QCard,\n    QCardActions,\n    QCardSection,\n    QSpace,\n    QTab,\n    QTabs,\n    QTabPanel,\n    QTabPanels,\n    QSeparator,\n    QMarkupTable,\n    QLinearProgress,\n    QBadge,\n    QFile,\n    QSlideTransition,\n    QIcon,\n    QItem,\n    QItemSection,\n    QItemLabel,\n    QList\n  },\n  directives: {\n    ClosePopup\n  },\n  plugins: {\n    Notify,\n    Loading\n  },\n  iconSet: iconSet\n})\n","import Vue from 'vue'\nimport App from './App.vue'\nimport './quasar'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App)\n}).$mount('#app')\n"],"sourceRoot":""}