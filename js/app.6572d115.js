(function(){"use strict";var e={242:function(e,t,l){var n=l(963),a=l(252),i=l(577),o=l.p+"img/discord-badge.59203335.svg";const r={class:"layout-column flex-1 min-w-0"},s={class:"layout-column flex-1 min-h-0"},c={key:1,class:"bg-gray-50 flex-1 text-lg text-gray-500 flex items-center justify-center"},u={class:"app-footer"},d=(0,a._)("a",{class:"q-link text-white border-b",href:"https://github.com/SnosMe/poe-dat-viewer"},"GitHub",-1),f=(0,a._)("a",{href:"https://discord.gg/SJjBdT3",class:"flex ml-8"},[(0,a._)("img",{src:o})],-1);function h(e,t,l,n,o,h){const p=(0,a.up)("index-tree"),v=(0,a.up)("viewer-tabs"),y=(0,a.up)("download-progress");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(p),(0,a._)("div",r,[(0,a.Wm)(v),(0,a._)("div",s,[e.activeTab?((0,a.wg)(),(0,a.j4)((0,a.LL)(e.activeTab.type),{args:e.activeTab.args,key:e.activeTab.id,"ka-state":e.activeTab.kaState,"onUpdate:ka-state":t[0]||(t[0]=t=>e.activeTab.kaState=t)},null,8,["args","ka-state"])):((0,a.wg)(),(0,a.iD)("div",c,"The viewer is ready to fulfill your wishes ðŸ‘¾"))]),(0,a._)("div",u,[(0,a._)("div",null,[(0,a.Uk)("Made by Alexander Drozdov, v"+(0,i.zw)(e.appVersion)+" ",1),d]),f])]),(0,a.Wm)(y)],64)}var p=l(262);const v={class:"flex overflow-hidden divide-x divide-gray-600"},y=["onClick","onMouseup"],g=["onClick"],m=(0,a._)("i",{class:"codicon codicon-close"},null,-1),b=[m],w={class:"flex p-1.5 flex-shrink-0 space-x-1"},x=(0,a._)("i",{class:"codicon codicon-question"},null,-1),_=[x],k=(0,a._)("i",{class:"codicon codicon-settings"},null,-1),S=[k];function z(e,t,l,o,r,s){return(0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)(e.$style.titlebar)},[(0,a._)("div",v,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.tabs,(t=>((0,a.wg)(),(0,a.iD)("div",{key:t.id,class:(0,i.C_)([e.$style.tab,{[e.$style.active]:t.isActive}])},[(0,a._)("button",{class:"pl-3 h-full",onClick:l=>e.setActiveTab(t.id),onMouseup:(0,n.iM)((l=>e.closeTab(t.id)),["middle"])},(0,i.zw)(t.title),41,y),(0,a._)("button",{class:"mx-2 w-7 h-7 hover:bg-gray-500 text-center",title:"Close",onClick:l=>e.closeTab(t.id)},b,8,g)],2)))),128))]),(0,a._)("div",w,[(0,a._)("button",{class:(0,i.C_)(e.$style.rightBtn),onClick:t[0]||(t[0]=(...t)=>e.openImport&&e.openImport(...t))},"Import",2),(0,a._)("button",{class:(0,i.C_)(e.$style.rightBtn),title:"Help"},_,2),(0,a._)("button",{class:(0,i.C_)(e.$style.rightBtn),title:"Settings"},S,2)])],2)}const C={class:"p-4 overflow-auto border-l flex-1 text-base"},M={class:"flex space-x-4 items-baseline mt-4"},D=(0,a._)("div",{class:"max-w-xl mb-4 font-semibold"},"Useful when a new league is released. While the update is still downloading, you can review files and fix schema directly from the update servers.",-1),F={class:"inline-flex items-baseline pb-2"},$={style:{width:"200px"},class:"my-1"},I={style:{width:"100px"},class:"m-1"},T={style:{width:"220px"},class:"my-1"},P=["disabled","loading"],H={key:0},R=(0,a.Uk)(" Latest PoE patch is "),E={class:"px-1 border border-gray-300 rounded"},j={class:"flex space-x-4 items-baseline mt-4 border-b pb-3"},L={class:"flex items-baseline"},O=(0,a._)("span",{class:"pr-2"},"or just",-1),Y=(0,a._)("label",{class:"bg-gray-100 py-1 px-2 cursor-pointer hover:bg-gray-300",style:{width:"200px"},for:"import-local-file"},"Pick a local dat file",-1),W={class:"mt-3"},A=(0,a._)("i",{class:"codicon codicon-loading animate-spin"},null,-1),V=(0,a._)("span",null," Downloading schema from ",-1),N=(0,a._)("i",{class:"codicon codicon-check"},null,-1),q=(0,a._)("span",null," Downloaded schema from ",-1),B=(0,a._)("a",{href:"https://github.com/poe-tool-dev/dat-schema",class:"underline",target:"_blank"},"github.com/poe-tool-dev/dat-schema",-1);function U(e,t,l,o,r,s){return(0,a.wg)(),(0,a.iD)("div",C,[(0,a._)("div",M,[(0,a._)("div",{class:(0,i.C_)(e.$style.importVariant)},"1",2),(0,a._)("div",null,[D,(0,a._)("div",F,[(0,a._)("div",$,[(0,a._)("input",{value:"patchcdn.pathofexile.com/",readonly:"",class:(0,i.C_)(e.$style.input)},null,2),(0,a._)("label",{class:(0,i.C_)(e.$style.label)},"Patch CDN",2)]),(0,a._)("div",I,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.poePatch=t),placeholder:"3.12.x.x.x",class:(0,i.C_)(e.$style.input)},null,2),[[n.nr,e.poePatch,void 0,{trim:!0}]]),(0,a._)("label",{class:(0,i.C_)(e.$style.label)},"Patch #",2)]),(0,a._)("div",T,[(0,a._)("input",{value:"/Bundles2/_.index.bin",readonly:"",class:(0,i.C_)(e.$style.input)},null,2),(0,a._)("label",{class:(0,i.C_)(e.$style.label)},"Index",2)]),(0,a._)("button",{class:"ml-1 py-1 px-3 bg-blue-600 text-white hover:bg-blue-800",onClick:t[1]||(t[1]=(...t)=>e.cdnImport&&e.cdnImport(...t)),disabled:e.isCdnImportRunning,loading:e.isCdnImportRunning},(0,i.zw)(e.isCdnImportRunning?"Wait...":"Import"),9,P)]),e.latestPoEPatch&&e.poePatch!==e.latestPoEPatch?((0,a.wg)(),(0,a.iD)("div",H,[R,(0,a._)("code",E,(0,i.zw)(e.latestPoEPatch),1)])):(0,a.kq)("",!0)])]),(0,a._)("div",j,[(0,a._)("div",{class:(0,i.C_)(e.$style.importVariant)},"2",2),(0,a._)("div",L,[O,Y,(0,a._)("input",{class:"hidden",id:"import-local-file",type:"file",accept:".dat,.dat64",onInput:t[2]||(t[2]=(...t)=>e.handleFile&&e.handleFile(...t))},null,32)])]),(0,a._)("div",W,[e.isFetchingSchema?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[A,V],64)):((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[N,q],64)),B])])}var X=l(735);const K="Bundles2",G=(0,p.qj)({totalSize:0,received:0,active:!1,bundleName:""});async function Z(e,t){if(null==e&&(e=localStorage.getItem("POE_PATCH_VER"),!e))throw new Error("never");try{return await J(e,t)}catch(l){throw window.alert("You may need to adjust the patch version."),l}}async function J(e,t){const l=`${e}/${K}/${t}`;let n=await caches.open("bundles"),a=await n.match(l);if(!a){if(G.totalSize=0,G.received=0,G.active=!0,G.bundleName=t,a=await fetch(`https://poe-bundles.snos.workers.dev/${l}`),200!==a.status)throw G.active=!1,new Error(`patchcdn: ${a.status} ${a.statusText}`);let i;G.totalSize=Number(a.headers.get("content-length"));try{const e=a.body.getReader(),t=[];while(1){const{done:l,value:n}=await e.read();if(l)break;t.push(n),G.received+=n.length}i=new Uint8Array(G.received);let l=0;for(const n of t)i.set(n,l),l+=n.length}finally{G.active=!1}return localStorage.getItem("POE_PATCH_VER")!==e&&(await caches.delete("bundles"),n=await caches.open("bundles")),await n.put(l,new Response(i,{headers:{"content-length":String(i.byteLength),"content-type":"application/octet-stream"}})),i.buffer}return a.arrayBuffer()}function Q(){return new Worker(l.p+"js/script.452440e4.worker.js")}var ee=l(375);const te=ee.Ud(new Q);function le(e){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return te.decompressSliceInBundle(e);{const t=new Uint8Array(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength));return te.decompressSliceInBundle(ee.re(e,[t.buffer]))}}function ne(e,t,l){return te.decompressSliceInBundle(ee.re(new Uint8Array(e),[e]),t,l)}function ae(e){return te.analyzeDatFile(e)}var ie=l(568);const oe=(0,p.XI)(null);async function re(e){const t=(0,ie.hr)(e,oe.value.bundlesInfo,oe.value.filesInfo),l=await Z(null,t.bundle);return ne(l,t.offset,t.size)}async function se(e){const t=await le(new Uint8Array(e)),l=(0,ie.W6)(t);oe.value={bundlesInfo:l.bundlesInfo,filesInfo:l.filesInfo,dirsInfo:l.dirsInfo,pathReps:await le(l.pathRepsBundle)}}var ce=l(29);const ue=(0,p.XI)([]),de=(0,ce.X3)("poe-dat-viewer",3,{upgrade(e){e.createObjectStore("dat-schemas",{keyPath:"name"})}});async function fe(e){const t=await(await de).get("dat-schemas",e);return(null===t||void 0===t?void 0:t.headers)||ye(e)||[]}async function he(e,t){await(await de).put("dat-schemas",{name:e,headers:ve(t)})}async function pe(e){await(await de).delete("dat-schemas",e)}function ve(e){return e.map((e=>({...e,length:e.type.string||e.type.array||e.type.key||e.type.boolean||e.type.decimal||e.type.integer?void 0:e.length})))}function ye(e){const t=ue.value.find((t=>t.name===e));return t?t.columns.map((e=>({name:e.name||"",type:{array:e.array,byteView:"array"===e.type?{array:!0}:void 0,integer:"u8"===e.type?{unsigned:!0,size:1}:"u16"===e.type?{unsigned:!0,size:2}:"u32"===e.type?{unsigned:!0,size:4}:"u64"===e.type?{unsigned:!0,size:8}:"i8"===e.type?{unsigned:!1,size:1}:"i16"===e.type?{unsigned:!1,size:2}:"i32"===e.type?{unsigned:!1,size:4}:"i64"===e.type?{unsigned:!1,size:8}:void 0,decimal:"f32"===e.type?{size:4}:"f64"===e.type?{size:8}:void 0,string:"string"===e.type?{}:void 0,boolean:"bool"===e.type?{}:void 0,key:"row"===e.type||"foreignrow"===e.type?{foreign:"foreignrow"===e.type}:void 0},textLength:11}))):null}const ge={class:"flex flex-1"},me=["textContent"];function be(e,t,l,n,o,r){const s=(0,a.up)("viewer-actions"),c=(0,a.up)("viewer-head"),u=(0,a.up)("canvas-scroll"),d=(0,a.up)("resize-observer"),f=(0,a.up)("header-props");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(s),(0,a._)("div",ge,[(0,a.Wm)(d,{onResize:e.handleResize,class:"flex-1 min-h-0 relative"},{default:(0,a.w5)((()=>[(0,a._)("div",{class:"bg-gray-100 absolute",style:(0,i.j5)(e.headerBlockStyle)},[(0,a.Wm)(c,{style:(0,i.j5)(e.headerOverlayContentStyle),left:e.scrollLeft,width:e.rowsWidth,columns:e.renderColumns},null,8,["style","left","width","columns"])],4),(0,a.Wm)(u,{ref:"canvasScroll",class:"absolute bg-white",onScroll:e.handleScroll,style:(0,i.j5)(e.scrollableStyle),"paint-size":e.scrollablePaintSize,"full-size":e.scrollableFullSize},{default:(0,a.w5)((()=>[(0,a._)("canvas",{ref:"canvasRef",onClick:t[0]||(t[0]=(...t)=>e.handleCanvasClick&&e.handleCanvasClick(...t))},null,512)])),_:1},8,["onScroll","style","paint-size","full-size"]),(0,a._)("div",{class:(0,i.C_)(e.$style.rowsOverlay),style:(0,i.j5)(e.rowsOverlayStyle)},[(0,a._)("div",{class:"absolute",style:(0,i.j5)({transform:`translate(0, ${e.renderItems.top}px)`})},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.renderItems.ids,((t,l)=>((0,a.wg)(),(0,a.iD)("div",{key:t,style:(0,i.j5)({transform:`translate(0, ${l*e.LINE_HEIGHT}px)`,width:e.rowsNumberWidth,position:"absolute"}),textContent:(0,i.zw)(t)},null,12,me)))),128))],4)],6)])),_:1},8,["onResize"]),(0,a.Wm)(f,{onFocusEditingHeader:e.focusEditingHeader},null,8,["onFocusEditingHeader"])])],64)}function we(e,t,l,n,i,o){return(0,a.wg)(),(0,a.j4)((0,a.LL)(e.tag),{ref:"rootEl","data-role":"resize-observer"},{default:(0,a.w5)((()=>[(0,a.WI)(e.$slots,"default")])),_:3},512)}var xe=(0,a.aZ)({props:{tag:{type:String,default:"div"}},emits:["resize"],setup(e,t){const l=(0,p.iH)(null);return(0,a.bv)((()=>{const e=new ResizeObserver((e=>{t.emit("resize",{width:e[0].contentRect.width,height:e[0].contentRect.height})}));e.observe(l.value),(0,a.Jd)((()=>{e.unobserve(l.value)}))})),{rootEl:l}}});xe.render=we;var _e=xe;function ke(e,t,l,n,o,r){return(0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)(e.$style.scrollable),style:(0,i.j5)({width:e.paintSize.width+"px",height:e.paintSize.height+"px"}),onMousedown:t[2]||(t[2]=(...t)=>e.handleMousedown&&e.handleMousedown(...t)),onWheel:t[3]||(t[3]=(...t)=>e.handleMousewheel&&e.handleMousewheel(...t))},[(0,a.WI)(e.$slots,"default"),e.scrollbarY?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,i.C_)(`${e.$style.track} ${e.$style.y}`),onMousedown:t[0]||(t[0]=(...t)=>e.handleTrackMousedownY&&e.handleTrackMousedownY(...t)),style:(0,i.j5)({width:e.scrollbarY.fixedSize+"px",height:e.scrollbarY.trackSize+"px"})},[(0,a._)("div",{class:(0,i.C_)(e.$style.thumb),style:(0,i.j5)({transform:`translate(0, ${e.scrollbarY.thumbPos}px)`,width:e.scrollbarY.fixedSize+"px",height:e.scrollbarY.thumbSize+"px"})},null,6)],38)):(0,a.kq)("",!0),e.scrollbarX?((0,a.wg)(),(0,a.iD)("div",{key:1,class:(0,i.C_)(`${e.$style.track} ${e.$style.x}`),onMousedown:t[1]||(t[1]=(...t)=>e.handleTrackMousedownX&&e.handleTrackMousedownX(...t)),style:(0,i.j5)({width:e.scrollbarX.trackSize+"px",height:e.scrollbarX.fixedSize+"px"})},[(0,a._)("div",{class:(0,i.C_)(e.$style.thumb),style:(0,i.j5)({transform:`translate(${e.scrollbarX.thumbPos}px, 0)`,width:e.scrollbarX.thumbSize+"px",height:e.scrollbarX.fixedSize+"px"})},null,6)],38)):(0,a.kq)("",!0)],38)}const Se=40,ze=15,Ce=100,Me=(e,t)=>Math.max(1,Math.pow(.003*e*t,2))*Math.sign(e);function De(e,t,l,n,a){var i;if(l<=t)return null;const o=Math.max(0,t-(null!==(i=null===n||void 0===n?void 0:n.fixedSize)&&void 0!==i?i:0)),r=Math.max(Se,Math.floor(t*o/l)),s=(o-r)/(l-t),c=Math.round(a*s);return{trackSize:o,thumbSize:r,fixedSize:e,thumbRatio:s,thumbPos:c}}function Fe(e){let t=0,l=0,n=0,a=0,i=null,o=0,r=0;function s(e){1===e.button&&(e.preventDefault(),e.stopPropagation(),document.body.style.cursor="all-scroll",i=null,t=e.clientY,l=e.clientX,n=0,a=0,o=0,r=requestAnimationFrame(d),document.addEventListener("mousemove",u),document.addEventListener("mouseup",c),document.addEventListener("mouseleave",c))}function c(){cancelAnimationFrame(r),document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",c),document.removeEventListener("mouseleave",c),document.body.style.removeProperty("cursor")}function u(e){const o=e.clientY-t,r=e.clientX-l;if(null===i)if(Math.abs(o)>ze)i="vertical",document.body.style.cursor="ns-resize";else{if(!(Math.abs(r)>ze))return;i="horizontal",document.body.style.cursor="ew-resize"}"vertical"===i?n=o:a=r}function d(t){const l=t-(o||t);o=t,r=requestAnimationFrame(d),e(Me(a,l),Me(n,l))}return{handleMousedown:s}}function $e(e){function t(t){e(0,Math.sign(t.deltaY)*Ce)}return{handleMousewheel:t}}function Ie(e,t,l){let n=0,a=0;const i="y"===t?"y":"x",o="y"===t?"clientY":"clientX";function r(t){t.preventDefault(),t.stopPropagation();const l=t.currentTarget;if(n=l.getBoundingClientRect()[i],t.target!==l){const e=t.target;a=t[o]-e.getBoundingClientRect()[i]}else a=e.value.thumbSize/2,s(t),a=t[o]-n-e.value.thumbPos;document.addEventListener("mousemove",s),document.addEventListener("mouseup",c),document.addEventListener("mouseleave",c)}function s(i){const r=(i[o]-n-a)/e.value.thumbRatio;"x"===t?l(r,void 0):l(void 0,r)}function c(){document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",c),document.removeEventListener("mouseleave",c)}return{handleTrackMousedown:r}}var Te=(0,a.aZ)({props:{paintSize:{type:Object,required:!0},fullSize:{type:Object,required:!0},widthY:{type:Number,default:14},widthX:{type:Number,default:12}},emits:["scroll"],setup(e,t){const l=(0,p.Um)({y:0,x:0});(0,a.YP)((()=>[e.paintSize,e.fullSize]),(()=>{const{paintSize:t,fullSize:n}=e;l.x=Math.max(0,Math.min(l.x,n.width-t.width)),l.y=Math.max(0,Math.min(l.y,n.height-t.height))}),{deep:!0}),(0,a.YP)(l,(()=>{t.emit("scroll",{y:l.y,x:l.x})}));const n=(0,p.Fl)((()=>De(e.widthY,e.paintSize.height,e.fullSize.height,null,l.y))),i=(0,p.Fl)((()=>De(e.widthX,e.paintSize.width,e.fullSize.width,n.value,l.x)));function o(t,n){const{paintSize:a,fullSize:i}=e;l.y=Math.max(0,Math.min(l.y+Math.floor(n),i.height-a.height)),l.x=Math.max(0,Math.min(l.x+Math.floor(t),i.width-a.width))}function r(t,n){const{paintSize:a,fullSize:i}=e;void 0!==t&&(l.x=Math.max(0,Math.min(Math.floor(t),i.width-a.width))),void 0!==n&&(l.y=Math.max(0,Math.min(Math.floor(n),i.height-a.height)))}return{scrollbarY:n,scrollbarX:i,scrollPos:(0,p.OT)(l),scrollTo:r,scrollByDelta:o,handleMousedown:Fe(o).handleMousedown,handleMousewheel:$e(o).handleMousewheel,handleTrackMousedownY:Ie(n,"y",r).handleTrackMousedown,handleTrackMousedownX:Ie(i,"x",r).handleTrackMousedown}}}),Pe={scrollable:"CanvasScroll_scrollable_2JJue",track:"CanvasScroll_track_2TQj3",y:"CanvasScroll_y_31A4K",x:"CanvasScroll_x_1tP3O",thumb:"CanvasScroll_thumb_3KZWl"};const He=Te.__cssModules={};He["$style"]=Pe,Te.render=ke;var Re=Te,Ee=l(928),je=l(923),Le=l(53);function Oe(e,t){for(let l=e.offset;l<e.offset+e.length;++l)t[l]=!0}function Ye(e,t,l,n){const a=Math.min(t,l),i=Math.max(t,l);n=n.filter((e=>e.type.byteView&&!e.type.byteView.array));for(let o=a;o<=i;++o)n.some((e=>o>=e.offset&&o<e.offset+e.length))&&(e[o]=!e[o])}function We(e){e.fill(!1)}function Ae(e){const t=[];let l,n=e.indexOf(!0);if(n<0)return t;for(l=n,t.push([l]),n+=1;n<e.length;++n)if(e[n]){const e=n;e-l===1?t[t.length-1].push(e):t.push([e]),l=e}return t}const Ve=()=>({byteView:{array:!1}});function Ne(e,t){for(let l=0;l<t.length;){const n=t[l];null!=n.name&&e.some((e=>e>=n.offset&&e<n.offset+n.length))?Be(n,t):l+=1}}function qe(e,t){const l=Ae(e);if(0===l.length)throw new Error("No bytes selected");if(l.length>1)throw new Error("Cannot create header from non-contiguous selection");const n=l[0];Ne(n,t);const a=t.find((e=>n[0]>=e.offset&&n[0]+n.length<=e.offset+e.length));let i=[{name:null,offset:a.offset,length:n[0]-a.offset,type:Ve()},{name:"",offset:n[0],length:n.length,type:Ve(),textLength:11},{name:null,offset:n[0]+n.length,length:a.length-(n[0]-a.offset+n.length),type:Ve()}];const o=i[1];return i=i.filter((e=>e.length)),t.splice(t.indexOf(a),1,...i),o}function Be(e,t){if(null==e.name)throw new Error("Cannot remove empty header");e.name=null,e.type=Ve();for(let l=0;l<t.length-1;){const e=Ue(t[l],t[l+1]);e?t.splice(l,2,e):l+=1}}function Ue(e,t){return null===e.name&&null===t.name?{name:null,offset:e.offset,length:e.length+t.length,type:Ve()}:null}function Xe(e,t){const l=(0,Ee.qc)(e,t),n={headers:(0,p.XI)(l.rowLength?[{name:null,offset:0,length:l.rowLength,type:Ve()}]:[]),datFile:l,name:Je(e),columnStats:(0,p.XI)([]),columnSelection:(0,p.XI)(new Array(l.rowLength).fill(!1)),editHeader:(0,p.XI)(null),selectedRow:(0,p.XI)(null),rowSorting:(0,p.XI)(null),scrollPos:(0,p.Um)({x:0,y:0})};return ae(n.datFile).then((async e=>{n.columnStats.value=e,await Ke(n)})),n}async function Ke(e){e.editHeader.value=null,e.headers.value=e.datFile.rowLength?[{name:null,offset:0,length:e.datFile.rowLength,type:Ve()}]:[];const t=await fe(e.name);try{Ge(t,e)}catch(l){window.alert(`WARN: ${l.message}`)}finally{(0,p.oR)(e.headers)}}function Ge(e,t){let l=0;for(const n of e){const e=n.length||(0,Le.getHeaderLength)(n,t.datFile);if(null==n.name){l+=e;continue}const a={...n,length:e,offset:l},i=n.length?t.datFile.rowLength-a.offset>=a.length:(0,je.A)(a,t.columnStats.value,t.datFile);if(!i)throw new Error("The schema is invalid.");Oe(a,t.columnSelection.value);const o=qe(t.columnSelection.value,t.headers.value);Object.assign(o,a),We(t.columnSelection.value),l+=e}}function Ze(e,t){const l=e.filter((({type:e})=>e.boolean||e.decimal||e.integer||e.key||e.string)).map(((e,l)=>({name:e.name||`Unknown${l+1}`,data:(()=>{var l;const n=(0,Ee.Fs)(e,t);if(null===(l=e.type.key)||void 0===l?void 0:l.foreign){if(e.type.array){const e=n;if(!e.every((e=>e.every((e=>0===e.unknown)))))throw new Error("never");return e.map((e=>e.map((e=>e.rid))))}{const e=n;if(!e.every((e=>null==e||0===e.unknown)))throw new Error("never");return e.map((e=>e&&e.rid))}}return n})()})));return l.unshift({name:"_rid",data:Array(t.rowCount).fill(void 0).map(((e,t)=>t))}),Array(t.rowCount).fill(void 0).map(((e,t)=>Object.fromEntries(l.map((e=>[e.name,e.data[t]])))))}function Je(e){return e.match(/[^/]+(?=\..+$)/)[0]}async function Qe(e){await he(e.name,e.headers.value)}async function et(e){await pe(e.name)}const tt={class:"flex"},lt={key:0,class:"text-gray-400 italic px-1.5 self-center"},nt=(0,a._)("i",{class:"codicon codicon-add"},null,-1),at=(0,a.Uk)(" Define column"),it=[nt,at],ot=(0,a._)("div",{class:"text-gray-300 px-1.5 mr-1 self-center"},"Selections",-1),rt=["textContent"],st={class:"flex space-x-1"},ct=(0,a._)("i",{class:"codicon codicon-discard"},null,-1),ut=(0,a.Uk)(" Restore schema"),dt=[ct,ut],ft=(0,a._)("i",{class:"codicon codicon-json"},null,-1),ht=(0,a.Uk)(" Show schema"),pt=[ft,ht],vt=(0,a._)("i",{class:"codicon codicon-database"},null,-1),yt=(0,a.Uk)(" Export data"),gt=[vt,yt];function mt(e,t,l,n,o,r){return(0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)(e.$style.bar)},[(0,a._)("div",tt,[0===e.selections.length?((0,a.wg)(),(0,a.iD)("div",lt,"No bytes selected")):1===e.selections.length?((0,a.wg)(),(0,a.iD)("button",{key:1,class:"hover:bg-gray-300 hover:text-black px-1.5",onClick:t[0]||(t[0]=(...t)=>e.defineColumn&&e.defineColumn(...t))},it)):e.selections.length>1?((0,a.wg)(),(0,a.iD)(a.HY,{key:2},[ot,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.selections,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"px-1.5 mr-1 font-mono bg-gray-200 text-black flex items-center",textContent:(0,i.zw)(e)},null,8,rt)))),256))],64)):(0,a.kq)("",!0)]),(0,a._)("div",st,[e.rowSorting?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"bg-gray-600 hover:bg-gray-300 hover:text-black px-1.5 border border-gray-500",onClick:t[1]||(t[1]=t=>e.rowSorting=null)},"Clear sorting")):(0,a.kq)("",!0),(0,a._)("button",{class:"hover:bg-gray-300 hover:text-black px-1.5",onClick:t[2]||(t[2]=(...t)=>e.restoreSchema&&e.restoreSchema(...t))},dt),(0,a._)("button",{class:"hover:bg-gray-300 hover:text-black px-1.5",onClick:t[3]||(t[3]=(...t)=>e.showSchema&&e.showSchema(...t))},pt),(0,a._)("button",{class:"hover:bg-gray-300 hover:text-black px-1.5",onClick:t[4]||(t[4]=(...t)=>e.exportDataJson&&e.exportDataJson(...t))},gt)])],2)}var bt=l(162),wt=l.n(bt);const xt={class:"p-4 overflow-auto border-l flex-1 text-base"};function _t(e,t,l,n,o,r){return(0,a.wg)(),(0,a.iD)("div",xt,[(0,a._)("pre",null,(0,i.zw)(e.text),1)])}var kt=(0,a.aZ)({props:{args:{type:Object,required:!0}},setup(e){return{text:(0,p.Fl)((()=>{var t,l,n,a,i,o;const{name:r,headers:s}=e.args;let c="";for(const e of s){if(null==e.name)break;let s="";if(e.type.boolean?s="bool":e.type.string?s="string":1===(null===(t=e.type.integer)||void 0===t?void 0:t.size)?s=e.type.integer.unsigned?"u8":"i8":2===(null===(l=e.type.integer)||void 0===l?void 0:l.size)?s=e.type.integer.unsigned?"u16":"i16":4===(null===(n=e.type.integer)||void 0===n?void 0:n.size)?s=e.type.integer.unsigned?"u32":"i32":8===(null===(a=e.type.integer)||void 0===a?void 0:a.size)?s=e.type.integer.unsigned?"u64":"i64":4===(null===(i=e.type.decimal)||void 0===i?void 0:i.size)?s="f32":8===(null===(o=e.type.decimal)||void 0===o?void 0:o.size)?s="f64":e.type.key&&(s=e.type.key.foreign?"rid":r),e.type.array)c+=`  ${e.name||"_"}: [${s||"_"}]\n`;else{if(!s)break;c+=`  ${e.name||"_"}: ${s}\n`}}return`type ${r} {\n${c}}\n`}))}}});kt.render=_t;var St=kt,zt=(0,a.aZ)({setup(){const e=(0,a.f3)("viewer"),t=(0,p.Fl)((()=>Ae(e.columnSelection.value).map((e=>e.map((e=>String(e))).join(" ")))));function l(){const{editHeader:t,columnSelection:l,headers:n}=e;t.value=qe(l.value,n.value),We(l.value),(0,p.oR)(n),(0,p.oR)(l),Qe(e)}function n(){const t=Ze(e.headers.value,e.datFile);wt().saveAs(new File([JSON.stringify(t,null,2)],`${e.name}.json`,{type:"application/json;charset=utf-8"}))}function i(){_n({id:"poe-dat-viewer@show-schema",title:"Schema",type:St,args:{name:e.name,headers:JSON.parse(JSON.stringify(e.headers.value))}})}async function o(){await et(e),await Ke(e)}return{rowSorting:e.rowSorting,selections:t,defineColumn:l,exportDataJson:n,showSchema:i,restoreSchema:o}}}),Ct={bar:"Actions_bar_3KpDj"};const Mt=zt.__cssModules={};Mt["$style"]=Ct,zt.render=mt;var Dt=zt;const Ft={class:"datv-header-layer"},$t=["title","onClick","onWheel"],It=(0,a.Uk)("Â "),Tt={key:1,class:"bg-gray-500 text-gray-200 px-1"},Pt=["onMousedown","onMouseenter","title","textContent"],Ht={key:0,class:"datv-stat__line bg-yellow-500",style:{top:"0"}},Rt={key:1,class:"datv-stat__line bg-green-500",style:{top:"7px"}},Et={key:2,class:"datv-stat__line bg-gray-800",style:{top:"14px"}},jt={key:3,class:"datv-stat__line bg-pink-400",style:{top:"14px"}},Lt=["textContent"];function Ot(e,t,l,n,o,r){return(0,a.wg)(),(0,a.iD)("div",Ft,[(0,a._)("div",{style:(0,i.j5)(e.headersRowStyle),class:"absolute"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.headers,(t=>((0,a.wg)(),(0,a.iD)("button",{key:t.offset,class:(0,i.C_)(["datv-header",{"datv-col--border":t.border,"datv-header--active":t.active}]),style:(0,i.j5)({width:t.widthPx+"px",transform:`translate(${t.leftPx}px, 0)`}),title:t.name,onClick:l=>e.editHeader(t.offset),onWheel:l=>e.handleHeaderWheel(t.offset,l)},[null===t.name?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[It],64)):""===t.name?((0,a.wg)(),(0,a.iD)("span",Tt,"?")):((0,a.wg)(),(0,a.iD)(a.HY,{key:2},[(0,a.Uk)((0,i.zw)(t.name),1)],64))],46,$t)))),128))],4),(0,a._)("div",{style:(0,i.j5)(e.colsRowStyle),class:"absolute"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.columns,(t=>((0,a.wg)(),(0,a.iD)("button",{key:t.offset,class:(0,i.C_)(["datv-byte",{"datv-col--border":t.border,"datv-byte--selected":t.selected}]),style:(0,i.j5)({width:t.widthPx+"px",transform:`translate(${t.leftPx}px, 0)`}),onMousedown:l=>e.selectStart(t.offset),onMouseenter:l=>e.selectContinue(t.offset,l),title:t.offset,textContent:(0,i.zw)(t.text)},null,46,Pt)))),128))],4),(0,a._)("div",{style:(0,i.j5)(e.statsRowStyle),class:"absolute datv-stats_row"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.columns,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.offset,class:(0,i.C_)(["datv-stat",{"datv-col--border":e.border,"datv-byte--selected":e.selected}]),style:(0,i.j5)({width:e.widthPx+"px",transform:`translate(${e.leftPx}px, 0)`})},[e.stat?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[e.stat.string?((0,a.wg)(),(0,a.iD)("div",Ht)):(0,a.kq)("",!0),e.stat.array?((0,a.wg)(),(0,a.iD)("div",Rt)):(0,a.kq)("",!0),e.stat.zero?((0,a.wg)(),(0,a.iD)("div",Et)):e.stat.nullable?((0,a.wg)(),(0,a.iD)("div",jt)):(0,a.kq)("",!0),(0,a._)("div",{class:"datv-stat__max",textContent:(0,i.zw)(e.stat.max)},null,8,Lt)],64)):(0,a.kq)("",!0)],6)))),128))],4)])}function Yt(e,t,l){const n=(0,Ee.Fs)(e,l),a=Array.from({length:l.rowCount},((e,t)=>t));return e.type.array?a.sort(((e,l)=>{const a=n[e],i=n[l];return(i.length-a.length)*t})):e.type.boolean?a.sort(((e,l)=>{const a=Number(n[e]),i=Number(n[l]);return(a-i)*t})):e.type.string?a.sort(((e,l)=>{const a=n[e],i=n[l];return a.localeCompare(i)*t})):e.type.integer||e.type.decimal?a.sort(((e,l)=>{const a=n[e],i=n[l];return(i-a)*t})):e.type.key&&(e.type.key.foreign?a.sort(((e,l)=>{const a=n[e],i=n[l];return(((null===i||void 0===i?void 0:i.rid)||0)-((null===a||void 0===a?void 0:a.rid)||0))*t})):a.sort(((e,l)=>{const a=Number(n[e]),i=Number(n[l]);return(i-a)*t}))),a}var Wt=l(236);function At(e,t){t.text=String(e),t.color="#098658"}function Vt(e,t){t.text=`[${e.join(", ")}]`,t.color="#098658"}function Nt(e,t){t.text=String(e),t.color="#0000ff"}function qt(e,t){t.text=`[${e.join(", ")}]`,t.color="#0000ff"}function Bt(e,t){""===e?(t.text="null",t.color="#0000ff"):(t.text=String(e),t.color="#001080")}function Ut(e,t){t.text=`[${e.map((e=>'"'+e+'"')).join(", ")}]`,t.color="#001080"}function Xt(e,t){null===e?(t.text="null",t.color="#0000ff"):(t.text=`<${e}, self>`,t.color="#098658")}function Kt(e,t){t.text=`[${e.map((e=>`<${e}, self>`)).join(", ")}]`,t.color="#098658"}function Gt(e,t){null===e?(t.text="null",t.color="#0000ff"):(t.text=`<${e.rid}, ${e.unknown}>`,t.color="#098658")}function Zt(e,t){t.text=`[${e.map((e=>`<${e.rid}, ${e.unknown}>`)).join(", ")}]`,t.color="#098658"}function Jt(e,t,l,n){const a=(0,Wt.getFieldReader)(t,l),i={text:"",color:""},o=(()=>{if(t.type.array){if(t.type.boolean)return qt;if(t.type.string)return Ut;if(t.type.integer||t.type.decimal)return Vt;if(t.type.key&&t.type.key.foreign)return Zt;if(t.type.key&&!t.type.key.foreign)return Kt}else{if(t.type.boolean)return Nt;if(t.type.string)return Bt;if(t.type.integer||t.type.decimal)return At;if(t.type.key&&t.type.key.foreign)return Gt;if(t.type.key&&!t.type.key.foreign)return Xt}throw new Error("never")})();let r=0,s="";for(const c of n)o(a(c),i),s!==i.color&&(e.fillStyle=i.color,s=i.color),e.fillText(i.text,0,r),r+=il}function Qt(e,t,l,n,a,i){e.fillStyle="#000";let o=0;for(const r of n){const n=l.dataFixed.subarray(r*l.rowLength+t.offset+a,r*l.rowLength+t.offset+i),s=Array.from(n,(e=>e.toString(16).padStart(2,"0"))).join(" ");e.fillText(s,a*(3*nl),o),o+=il}}function el(e,t,l,n,a){e.fillStyle="#000";const i=a.refArray,o=Math.max(i.keyForeign?l.fieldSize.KEY_FOREIGN:0,i.keySelf?l.fieldSize.KEY:0,i.string?l.fieldSize.STRING:0,i.longLong?l.fieldSize.LONGLONG:0,i.long?l.fieldSize.LONG:0,i.short?l.fieldSize.SHORT:0,l.fieldSize.BYTE),r=Math.ceil(t.textLength/3);let s=0;for(const c of n){const n=l.readerFixed.getSizeT(c*l.rowLength+t.offset);if(0===n)e.fillText("[]",0,s);else{const a=l.readerFixed.getSizeT(c*l.rowLength+t.offset+l.memsize),i=l.dataVariable.subarray(a,a+Math.min(o*n,r)),u=Array.from(i,(e=>e.toString(16).padStart(2,"0"))).join(" ");e.fillText(`${n} { ${u} }`,0,s)}s+=il}}const tl='Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace',ll=14,nl=pl(ll,tl),al=vl(ll,tl),il=19,ol=3,rl=1,sl=7,cl=Math.round(3*nl),ul=2*cl+3*sl;function dl(e){const t=String(e-1).length;return Math.max(t,ol)}function fl(e){return Math.ceil(dl(e)*nl)}function hl(e){return fl(e)+16}function pl(e,t){const l=document.createElement("canvas"),n=l.getContext("2d");n.font=`${e}px ${t}`;const a=n.measureText("0");return a.width}function vl(e,t){const l=document.createElement("canvas"),n=l.getContext("2d");n.font=`${e}px ${t}`,n.textBaseline="middle";const a=n.measureText("0"),i=e/2+(void 0!==a.alphabeticBaseline?-a.alphabeticBaseline:a.actualBoundingBoxDescent);return i}function yl(e){return 1+(e-ll)/2+al}function gl(e){const{ctx:t}=e;if(t.fillStyle="#fff",t.fillRect(0,0,t.canvas.width,t.canvas.height),null!==e.viewer.selectedRow.value){const l=e.rows.indexOf(e.viewer.selectedRow.value);-1!==l&&(t.fillStyle="#bee3f8",t.fillRect(0,e.top+l*il,t.canvas.width,il))}t.save(),t.translate(-e.left,0),ml(t,e.columns),t.restore(),t.font=`${ll}px ${tl}`,t.fillStyle="#000";const l=bl(e.viewer,e.left,e.left+e.paintWidth);for(const n of l)t.save(),t.beginPath(),t.translate(n.left-e.left,0),t.rect(0,0,n.width,t.canvas.height),t.clip(),t.translate(nl/2,e.top+yl(il)),n.exec(t,e.rows),t.restore();{const e=t.createLinearGradient(0,-16,0,4);e.addColorStop(0,"rgba(254,254,254,0.6)"),e.addColorStop(1,"transparent"),t.fillStyle=e,t.fillRect(0,0,t.canvas.width,6);const l=t.createLinearGradient(-16,0,4,0);l.addColorStop(0,"rgba(254,254,254,0.5)"),l.addColorStop(1,"transparent"),t.fillStyle=l,t.fillRect(0,0,6,t.canvas.height)}}function ml(e,t){for(const l of t)l.selected&&(e.fillStyle="#bee3f8",e.fillRect(l.leftPx+(l.border?rl:0),0,l.widthPx,e.canvas.height)),l.border&&(e.fillStyle="#bdbdbd",e.fillRect(l.leftPx,0,rl,e.canvas.height))}function bl(e,t,l){const n=e.headers.value,a=e.columnStats.value,i=e.datFile,o=[];let r=0;for(const s of n){const e=wl(s);if(r+e.borderWidth>=t)if(s.type.byteView)if(s.type.byteView.array)o.push({left:r+(e.borderWidth?rl:0),width:e.paddingWidth,exec:(e,t)=>el(e,s,i,t,a[s.offset])});else{const n=Math.max(0,Math.floor((t-r)/(3*nl))),a=Math.min(s.length,Math.ceil((l-r)/(3*nl)));o.push({left:r+(e.borderWidth?rl:0),width:e.paddingWidth,exec:(e,t)=>Qt(e,s,i,t,n,a)})}else o.push({left:r+(e.borderWidth?rl:0),width:e.paddingWidth,exec:(e,t)=>Jt(e,s,i,t)});if(r+=e.borderWidth,r>=l)return o}return o}function wl(e){const t=e.type.byteView&&!e.type.byteView.array?3*e.length-1:e.textLength;return{paddingWidth:Math.ceil((t+1)*nl),borderWidth:Math.ceil((t+1)*nl)+(e.offset>0?rl:0),hasBorder:e.offset>0}}function xl(e){let t=0;for(const l of e){const e=wl(l);t+=e.borderWidth}return t}function _l(e,t,l,n){const a=[];let i=0;for(const o of e){const e=wl(o);if(i+e.borderWidth>=l&&a.push({offset:o.offset,border:e.hasBorder,active:o===t,widthPx:e.borderWidth,leftPx:i,name:o.name}),i+=e.borderWidth,i>=n)return a}return a}var kl=(0,a.aZ)({props:{left:{type:Number,required:!0},width:{type:Number,required:!0},columns:{type:Array,required:!0}},setup(e){const t=(0,p.XI)(0);let l=-1,n=[];const i=(0,a.f3)("viewer");function o(e){function t(){l=-1,document.removeEventListener("mouseup",t),document.removeEventListener("mouseleave",t)}l=e,n=[...i.columnSelection.value],Ye(i.columnSelection.value,l,l,i.headers.value),(0,p.oR)(i.columnSelection),document.addEventListener("mouseup",t),document.addEventListener("mouseleave",t)}function r(e,t){if(-1===l||1!==t.buttons)return;const{memsize:a}=i.datFile,o=e-l;o>=a?e=l+2*a-1:o>=4?e=l+8-1:o>=2&&(e=l+4-1),o<=-a?e=l-2*a+1:o<=-4?e=l-8+1:o<=-2&&(e=l-4+1),i.columnSelection.value=[...n],Ye(i.columnSelection.value,l,e,i.headers.value)}function s(e){const l=i.headers.value.find((t=>t.offset===e));i.editHeader.value!==l||l.type.byteView&&!l.type.byteView.array?(i.editHeader.value=l,t.value=0):(0===t.value?t.value=1:1===t.value?t.value=-1:-1===t.value&&(t.value=1),i.rowSorting.value=Yt(l,t.value,i.datFile))}function c(e,t){t.preventDefault();const l=i.headers.value.find((t=>t.offset===e));null!=l.textLength&&(l.textLength=Math.max(1,l.textLength-Math.sign(t.deltaY)*(t.ctrlKey?10:1)),(0,p.oR)(i.headers),Qe(i))}const u=(0,p.Fl)((()=>_l(i.headers.value,i.editHeader.value,e.left,e.left+e.width)));return{headers:u,selectStart:o,selectContinue:r,editHeader:s,handleHeaderWheel:c,headersRowStyle:(0,p.Fl)((()=>({transform:`translate(${-e.left}px, 0)`,lineHeight:cl+"px",fontFamily:tl,fontSize:ll+"px"}))),colsRowStyle:(0,p.Fl)((()=>({transform:`translate(${-e.left}px, ${cl}px)`,lineHeight:cl+"px",fontFamily:tl,fontSize:ll+"px"}))),statsRowStyle:(0,p.Fl)((()=>({transform:`translate(${-e.left}px, ${2*cl}px)`,fontFamily:tl,fontSize:ll+"px"})))}}});kl.render=Ot;var Sl=kl;const zl={key:0,style:{width:"300px"},class:"relative overflow-hidden"},Cl={class:"m-2 shadow border border-gray-300 bg-white absolute inset-0 flex flex-col"},Ml={class:"p-2 bg-gray-100 text-gray-600 shadow flex items-baseline"},Dl=(0,a._)("span",{class:"px-2"},"Column properties",-1),Fl=(0,a._)("i",{class:"codicon codicon-close"},null,-1),$l=[Fl],Il={key:0,class:"p-4"},Tl={key:1,class:"p-4 overflow-auto"},Pl={class:"mb-4"},Hl=(0,a._)("label",{for:"datv-header-name"},"Name",-1),Rl={class:"mb-4 flex items-baseline"},El=(0,a._)("div",{class:"mr-2"},"View mode",-1),jl={class:"space-x-px flex"},Ll=["onClick","disabled","textContent"],Ol={class:"mb-4"},Yl={class:"mb-2 flex justify-between items-baseline"},Wl=(0,a._)("span",null,"Data type",-1),Al={class:"inline-flex items-center"},Vl=["value"],Nl={class:"ml-2 cursor-pointer"},ql={key:0,class:"mt-3"},Bl=(0,a._)("div",{class:"mb-1"},"of ...",-1),Ul={class:"inline-flex items-center"},Xl=["value"],Kl={class:"ml-2 cursor-pointer"},Gl={key:0,class:"mb-4"},Zl={class:"inline-flex items-center"},Jl=(0,a._)("span",{class:"ml-2 cursor-pointer"},"Unsigned",-1),Ql={key:1,class:"mb-4 border-t pt-4"},en=(0,a._)("label",{class:"mr-4"},"Width",-1),tn=(0,a.Uk)(" chars ");function ln(e,t,l,o,r,s){return e.isVisible?((0,a.wg)(),(0,a.iD)("div",zl,[(0,a._)("div",{style:(0,i.j5)({height:e.HEADERS_HEIGHT+"px"}),class:"bg-gray-100"},null,4),(0,a._)("div",Cl,[(0,a._)("div",Ml,[Dl,(0,a._)("button",{class:"border border-gray-400 rounded-full px-3",onClick:t[0]||(t[0]=t=>e.$emit("focus-editing-header"))},"Focus"),(0,a._)("button",{onClick:t[1]||(t[1]=(...t)=>e.close&&e.close(...t)),class:"px-2 py-1 ml-auto",title:"Close"},$l)]),null===e.header.name?((0,a.wg)(),(0,a.iD)("div",Il,[(0,a._)("div",null,(0,i.zw)(e.header.length)+" bytes of unidentified data",1)])):((0,a.wg)(),(0,a.iD)("div",Tl,[(0,a._)("div",Pl,[Hl,(0,a.wy)((0,a._)("input",{id:"datv-header-name",placeholder:"Unnamed","onUpdate:modelValue":t[2]||(t[2]=t=>e.header.name=t),class:"border p-1 mt-1 w-full focus:border-blue-500",spellcheck:"false"},null,512),[[n.nr,e.header.name,void 0,{trim:!0}]])]),(0,a._)("div",Rl,[El,(0,a._)("div",jl,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.viewModeOpts,(t=>((0,a.wg)(),(0,a.iD)("button",{key:t.value,class:(0,i.C_)(["px-2",e.byteViewMode===t.value?"bg-blue-600 text-white":"bg-gray-100 hover:bg-gray-300"]),onClick:l=>e.byteViewMode=t.value,disabled:t.disabled,textContent:(0,i.zw)(t.label)},null,10,Ll)))),128))])]),(0,a._)("div",Ol,[(0,a._)("div",Yl,[Wl,(0,a._)("button",{class:"text-red-700 bg-red-100 px-2",onClick:t[3]||(t[3]=(...t)=>e.remove&&e.remove(...t))},"Delete")]),(0,a._)("div",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.dataTypeOpts,(l=>((0,a.wg)(),(0,a.iD)("div",{key:l.value,class:"mb-0.5"},[(0,a._)("label",Al,[(0,a.wy)((0,a._)("input",{type:"radio","onUpdate:modelValue":t[4]||(t[4]=t=>e.dataType=t),value:l.value},null,8,Vl),[[n.G2,e.dataType]]),(0,a._)("span",Nl,(0,i.zw)(l.label),1)])])))),128)),e.arrayTypeOpts.length?((0,a.wg)(),(0,a.iD)("div",ql,[Bl,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.arrayTypeOpts,(l=>((0,a.wg)(),(0,a.iD)("div",{key:l.value,class:"mb-0.5"},[(0,a._)("label",Ul,[(0,a.wy)((0,a._)("input",{type:"radio","onUpdate:modelValue":t[5]||(t[5]=t=>e.arrayType=t),value:l.value},null,8,Xl),[[n.G2,e.arrayType]]),(0,a._)("span",Kl,(0,i.zw)(l.label),1)])])))),128))])):(0,a.kq)("",!0)])]),e.header.type.integer?((0,a.wg)(),(0,a.iD)("div",Gl,[(0,a._)("label",Zl,[(0,a.wy)((0,a._)("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=t=>e.header.type.integer.unsigned=t)},null,512),[[n.e8,e.header.type.integer.unsigned]]),Jl])])):(0,a.kq)("",!0),e.dataType?((0,a.wg)(),(0,a.iD)("div",Ql,[en,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[7]||(t[7]=t=>e.header.textLength=t),class:"border w-16 text-center"},null,512),[[n.nr,e.header.textLength,void 0,{number:!0}]]),tn])):(0,a.kq)("",!0)]))])])):(0,a.kq)("",!0)}function nn(e,t,l){const n=[],{fieldSize:a}=l,i=e.length;return i===a.ARRAY&&t.refArray&&n.push({label:"Array",value:"array"}),i===a.STRING&&t.refString&&n.push({label:"String",value:"string"}),i===a.KEY&&t.keySelf&&n.push({label:"Key (self)",value:"key_self"}),i===a.KEY_FOREIGN&&n.push({label:"Key (foreign)",value:"key_foreign"}),8!==i&&4!==i&&2!==i&&1!==i||n.push({label:"Integer",value:"integer"}),8!==i&&4!==i||n.push({label:"Decimal",value:"decimal"}),1===i&&t.bMax<=1&&n.push({label:"Boolean",value:"boolean"}),n}function an(e,t){const l=[];if(!e.type.array||!t.refArray)return l;const n=t.refArray;return n.string&&l.push({label:"String",value:"string"}),n.keySelf&&l.push({label:"Key (self)",value:"key_self"}),n.keyForeign&&l.push({label:"Key (foreign)",value:"key_foreign"}),n.longLong&&l.push({label:"Integer - 8 bytes",value:"integer_8"}),n.long&&l.push({label:"Integer - 4 bytes",value:"integer_4"}),n.short&&l.push({label:"Integer - 2 bytes",value:"integer_2"}),n.longLong&&l.push({label:"Decimal - 8 bytes",value:"decimal_8"}),n.long&&l.push({label:"Decimal - 4 bytes",value:"decimal_4"}),n.boolean&&l.push({label:"Boolean",value:"boolean"}),l.push({label:"Integer - byte",value:"integer_1"}),l}var on=(0,a.aZ)({setup(){const e=(0,a.f3)("viewer"),t=(0,p.Fl)((()=>e.editHeader.value&&(0,p.qj)(e.editHeader.value)));{let l=null;(0,a.YP)(t,(t=>{l&&(l(),l=null),t&&(l=(0,a.YP)(t,(()=>{(0,p.oR)(e.headers),Qe(e)}),{deep:!0}))}))}const l=(0,p.Fl)((()=>e.columnStats.value[t.value.offset])),n=(0,p.Fl)({get(){const e=t.value.type;return e.array?"array":e.string?"string":e.key?e.key.foreign?"key_foreign":"key_self":e.integer?"integer":e.decimal?"decimal":e.boolean?"boolean":void 0},set(e){const l=t.value;l.type={},"array"===e?(l.type.array=!0,l.type.byteView={array:!0}):"string"===e?l.type.string={}:"key_foreign"===e?l.type.key={foreign:!0}:"key_self"===e?l.type.key={foreign:!1}:"integer"===e?l.type.integer={unsigned:!1,size:l.length}:"decimal"===e?l.type.decimal={size:l.length}:"boolean"===e&&(l.type.boolean={})}}),i=(0,p.Fl)({get(){const e=t.value.type;return e.string?"string":e.key?e.key.foreign?"key_foreign":"key_self":e.integer?`integer_${e.integer.size}`:e.decimal?`decimal_${e.decimal.size}`:e.boolean?"boolean":void 0},set(e){const l=t.value;l.type={array:!0},"string"===e?l.type.string={}:"key_foreign"===e?l.type.key={foreign:!0}:"key_self"===e?l.type.key={foreign:!1}:"integer_1"===e?l.type.integer={unsigned:!1,size:1}:"integer_2"===e?l.type.integer={unsigned:!1,size:2}:"integer_4"===e?l.type.integer={unsigned:!1,size:4}:"integer_8"===e?l.type.integer={unsigned:!1,size:8}:"decimal_4"===e?l.type.decimal={size:4}:"decimal_8"===e?l.type.decimal={size:8}:"boolean"===e&&(l.type.boolean={})}}),o=(0,p.Fl)((()=>{const e=[],l=t.value.type;return e.push({label:"Bytes",value:"bytes"}),l.array&&e.push({label:"Var. bytes",value:"array-bytes"}),e.push({label:"Data",value:"data",disabled:!n.value||"array"===n.value&&!i.value}),e})),r=(0,p.Fl)({get(){const e=t.value.type;return e.byteView?e.byteView.array?"array-bytes":"bytes":"data"},set(e){const l=t.value.type;l.byteView="data"===e?void 0:{array:"array-bytes"===e}}});function s(){e.editHeader.value=null}function c(){Be(t.value,e.headers.value),e.editHeader.value=null,(0,p.oR)(e.headers),Qe(e)}return{isVisible:(0,p.Fl)((()=>null!=e.editHeader.value)),HEADERS_HEIGHT:ul,header:t,byteViewMode:r,dataType:n,arrayType:i,close:s,remove:c,viewModeOpts:o,dataTypeOpts:(0,p.Fl)((()=>nn(t.value,l.value,e.datFile))),arrayTypeOpts:(0,p.Fl)((()=>an(t.value,l.value)))}}});on.render=ln;var rn=on;const sn=Math.ceil(3*nl);function cn(e,t,l,n,a){const i=[];let o=0;for(const r of l){const l=wl(r);if(r.type.byteView&&!r.type.byteView.array){let s=o;for(let o=0;o<r.length;++o){const c=l.hasBorder&&0===o,u=3*nl+(c?rl:0);if(Math.ceil(s)+u<n){s+=u;continue}const d=r.offset+o;if(i.push({offset:d,selected:e[d],border:c,widthPx:sn,leftPx:Math.ceil(s),text:String(d%100).padStart(2,"0"),stat:t[d]}),s+=u,Math.ceil(s)>=a)return i}}else o+l.borderWidth>=n&&i.push({offset:r.offset,selected:!1,border:l.hasBorder,widthPx:l.paddingWidth,leftPx:o,text:String(r.offset%100).padStart(2,"0")});if(o+=l.borderWidth,o>=a)return i}return i}function un(e,t){const l=e.map((e=>({max:e.bMax.toString(16).padStart(2,"0"),array:!1,string:!1,nullable:!1,zero:0===e.bMax}))),{fieldSize:n}=t;for(let a=0;a<e.length;++a){const i=e[a];if(i.refString)for(let e=0;e<n.STRING;++e)l[a+e].string=!0;if(i.refArray)for(let e=0;e<n.ARRAY;++e)l[a+e].array=!0;if(i.nullableMemsize)for(let e=0;e<t.memsize;++e)l[a+e].nullable=!0}return l}var dn=(0,a.aZ)({components:{ResizeObserver:_e,CanvasScroll:Re,ViewerActions:Dt,ViewerHead:Sl,HeaderProps:rn},emits:["update:kaState"],props:{args:{type:Object,required:!0},kaState:{type:Object,default:void 0}},setup(e,t){let l;e.kaState?l=e.kaState:(l=Xe(e.args.fullPath,e.args.fileContent),t.emit("update:kaState",l)),(0,a.JJ)("viewer",l);const n=(0,p.iH)(null),i=(0,p.iH)(null);(0,a.bv)((()=>{i.value.scrollTo(l.scrollPos.x,l.scrollPos.y)}));const o=(0,p.Fl)((()=>l.rowSorting.value?l.rowSorting.value:Array.from({length:l.datFile.rowCount},((e,t)=>t)))),r=(0,p.iH)(0),s=(0,p.iH)(0);function c(e){r.value=e.width,s.value=e.height}const{scrollPos:u}=l;function d(e){u.x=e.x,u.y=e.y}const f=(0,p.Fl)((()=>xl(l.headers.value))),h=(0,p.Fl)((()=>l.datFile.rowCount*il)),v=(0,p.Fl)((()=>hl(l.datFile.rowCount))),y=(0,p.Fl)((()=>Math.max(0,r.value-v.value))),g=(0,p.Fl)((()=>Math.max(0,s.value-ul)));(0,a.YP)([y,g],(()=>{const e=window.devicePixelRatio;n.value.style.width=y.value+"px",n.value.style.height=g.value+"px",n.value.width=y.value*e,n.value.height=g.value*e;const t=n.value.getContext("2d",{alpha:!1});t.scale(e,e),w()}));const m=(0,p.Fl)((()=>un(l.columnStats.value,l.datFile))),b=(0,p.Fl)((()=>cn(l.columnSelection.value,m.value,l.headers.value,u.x,u.x+Math.min(f.value,y.value))));function w(){const e=n.value.getContext("2d",{alpha:!1});gl({left:u.x,paintWidth:y.value,top:x.value.top,rows:x.value.ids,columns:b.value,viewer:l,ctx:e})}(0,a.YP)([u,b,o,l.selectedRow],(()=>{w()}));const x=(0,p.Fl)((()=>{const e=u.y,t=Math.ceil(g.value/il)+1,l=Math.floor(e/il),n=l*il-e;return{top:n,ids:o.value.slice(l,l+t)}}));function _(){const e=l.editHeader.value,t=_l(l.headers.value,null,0,1/0),n=t.find((t=>t.offset===e.offset));i.value.scrollTo(n.leftPx-.33*y.value,void 0)}function k(e){const{selectedRow:t}=l,n=Math.floor((e.offsetY+u.y)/il),a=o.value[n];t.value=t.value!==a?a:null}return{headerBlockStyle:(0,p.Fl)((()=>({height:ul+"px",width:r.value+"px"}))),headerOverlayContentStyle:(0,p.Fl)((()=>({left:v.value+"px",height:ul+"px",width:y.value+"px"}))),scrollableStyle:(0,p.Fl)((()=>({top:ul+"px",left:v.value+"px"}))),scrollablePaintSize:(0,p.Fl)((()=>({width:y.value,height:g.value}))),scrollableFullSize:(0,p.Fl)((()=>({width:f.value,height:h.value}))),rowsOverlayStyle:(0,p.Fl)((()=>({top:ul+"px",width:v.value+"px",height:g.value+"px",fontFamily:tl,fontSize:ll+"px",lineHeight:il+"px"}))),handleScroll:d,handleResize:c,renderItems:x,canvasRef:n,renderColumns:b,scrollLeft:(0,p.Fl)((()=>u.x)),rowsWidth:(0,p.Fl)((()=>Math.min(f.value,y.value))),LINE_HEIGHT:il,canvasScroll:i,rowsNumberWidth:fl(l.datFile.rowCount)+"px",focusEditingHeader:_,handleCanvasClick:k}}}),fn={rowsOverlay:"DatViewer_rowsOverlay_10_gM"};const hn=dn.__cssModules={};hn["$style"]=fn,dn.render=be;var pn=dn,vn=(0,a.aZ)({setup(){const e=(0,p.XI)(localStorage.getItem("POE_PATCH_VER")||""),t=(0,p.XI)(""),l=(0,p.XI)(!1),n=(0,p.XI)(!1);async function a(e){const t=e.target.files[0],l=new Uint8Array(await t.arrayBuffer()),n=t.name;_n({id:`file@${n}`,title:n,type:pn,args:{fileContent:l,fullPath:n}})}async function i(){let t;try{l.value=!0,t=await Z(e.value,"_.index.bin")}finally{l.value=!1}try{await se(t),localStorage.setItem("POE_PATCH_VER",e.value)}catch(n){throw window.alert(n.message),n}}async function o(){n.value=!0;const e=await fetch("https://poe-bundles.snos.workers.dev/schema.min.json"),t=await e.json();t.version===X.SCHEMA_VERSION?ue.value=t.tables:console.warn("Latest schema version is not supported."),n.value=!1}async function r(){const e=await fetch("https://raw.githubusercontent.com/poe-tool-dev/latest-patch-version/main/latest.txt"),l=await e.text();t.value=l}return e.value&&!oe.value&&i(),ue.value.length||o(),r(),{poePatch:e,latestPoEPatch:t,isCdnImportRunning:l,isFetchingSchema:n,handleFile:a,cdnImport:i}}}),yn={input:"ImportDialog_input_1F68e",label:"ImportDialog_label_3GNMX",importVariant:"ImportDialog_importVariant_3VzOU"};const gn=vn.__cssModules={};gn["$style"]=yn,vn.render=U;var mn=vn;const bn=(0,p.XI)("poe-dat-viewer@import");function wn(e){bn.value=e}const xn=(0,p.XI)([{id:"poe-dat-viewer@import",title:"Import",type:mn,args:void 0,kaState:void 0}]);function _n(e){const t=xn.value.find((t=>t.id===e.id));t||xn.value.push({id:e.id,title:e.title,type:e.type,args:e.args,kaState:void 0}),wn(e.id),(0,p.oR)(xn)}function kn(e){const t=xn.value.findIndex((t=>t.id===e));e===bn.value&&(t+1<xn.value.length?wn(xn.value[t+1].id):wn(0!==t?xn.value[t-1].id:null)),xn.value=xn.value.filter((t=>t.id!==e))}var Sn=(0,a.aZ)({setup(){const e=(0,p.Fl)((()=>xn.value.map((e=>({id:e.id,title:e.title,isActive:e.id===bn.value})))));function t(){_n({id:"poe-dat-viewer@import",title:"Import",type:mn,args:void 0})}return{tabs:e,setActiveTab:wn,closeTab:kn,openImport:t}}}),zn={titlebar:"Tabs_titlebar_3NzUh",tab:"Tabs_tab_1nc-U",active:"Tabs_active_1pZ1q",rightBtn:"Tabs_rightBtn_RmPDC"};const Cn=Sn.__cssModules={};Cn["$style"]=zn,Sn.render=z;var Mn=Sn;const Dn={class:"flex p-1 items-center mb-px"},Fn=(0,a._)("i",{class:"codicon codicon-list-flat"},null,-1),$n=[Fn],In={key:0,class:"flex gap-x-1 border-b pb-1.5 px-2 justify-end"},Tn=["onClick","textContent"],Pn={key:1,class:"italic text-center text-gray-500 p-2"},Hn={key:2,class:"italic text-center text-gray-500 p-2"},Rn=["onClick"],En={key:0,class:"codicon codicon-folder pr-3"};function jn(e,t,l,o,r,s){const c=(0,a.up)("virtual-scroll");return(0,a.wg)(),(0,a.iD)("div",{class:"layout-column flex-shrink-0",style:(0,i.j5)({width:e.showTree?"300px":void 0})},[(0,a._)("div",Dn,[(0,a._)("button",{title:"Toggle tree visibility",class:(0,i.C_)(e.$style.treeToggle),onClick:t[0]||(t[0]=(...t)=>e.toggleTree&&e.toggleTree(...t))},$n,2),e.showTree?(0,a.wy)(((0,a.wg)(),(0,a.iD)("input",{key:0,"onUpdate:modelValue":t[1]||(t[1]=t=>e.searchText=t),placeholder:"Search in current folder",class:(0,i.C_)(e.$style.searchInput),type:"search",spellcheck:"false"},null,2)),[[n.nr,e.searchText,void 0,{trim:!0}]]):(0,a.kq)("",!0)]),e.showTree?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[e.extensionOpts?((0,a.wg)(),(0,a.iD)("div",In,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.extensionOpts,(e=>((0,a.wg)(),(0,a.iD)("button",{key:e.value,onClick:e.handleClick,class:(0,i.C_)(["px-2",e.active?"bg-gray-200":"hover:bg-gray-100"]),textContent:(0,i.zw)(e.value)},null,10,Tn)))),128))])):(0,a.kq)("",!0),e.isIndexLoaded?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",Pn,"Waiting for Index bundle...")),e.isIndexLoaded&&!e.tree.length?((0,a.wg)(),(0,a.iD)("div",Hn,"No results found")):(0,a.kq)("",!0),(0,a.Wm)(c,{class:"flex-1","scrollable-props":{style:"background: #fff;",widthY:10},items:e.tree,"item-height":22},{default:(0,a.w5)((t=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.entries,(t=>((0,a.wg)(),(0,a.iD)("button",{key:t.item.fullPath,class:(0,i.C_)({[e.$style.itemBtn]:!0,[e.$style.active]:t.item.isActive}),style:(0,i.j5)({transform:`translate(0, ${t.top}px`}),onClick:l=>e.handleTreeNav(t.item)},[t.item.isFile?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("i",En)),(0,a.Uk)((0,i.zw)(t.item.label),1)],14,Rn)))),128))])),_:1},8,["items"])],64)):(0,a.kq)("",!0)],4)}function Ln(e,t,l,n,i,o){const r=(0,a.up)("canvas-scroll"),s=(0,a.up)("resize-observer");return(0,a.wg)(),(0,a.j4)(s,{onResize:e.handleResize,class:"relative"},{default:(0,a.w5)((()=>[(0,a.Wm)(r,(0,a.dG)({ref:"scrollable"},e.scrollableProps,{class:"absolute","paint-size":e.paintSize,"full-size":e.fullSize}),{default:(0,a.w5)((()=>[(0,a.WI)(e.$slots,"default",{entries:e.renderItems})])),_:3},16,["paint-size","full-size"])])),_:3},8,["onResize"])}var On=(0,a.aZ)({components:{ResizeObserver:_e,CanvasScroll:Re},props:{items:{type:Array,required:!0},itemHeight:{type:Number,required:!0},scrollableProps:{type:Object,default:()=>({})}},setup(e){const t=(0,p.Um)({width:0,height:0}),l=(0,p.Fl)((()=>({width:t.width,height:e.items.length*e.itemHeight})));function n(e){t.width=e.width,t.height=e.height}const a=(0,p.iH)(null),i=(0,p.Fl)((()=>{var l,n;const i=null!==(n=null===(l=a.value)||void 0===l?void 0:l.scrollPos.y)&&void 0!==n?n:0,o=Math.ceil(t.height/e.itemHeight)+1,r=Math.floor(i/e.itemHeight),s=r*e.itemHeight-i;return e.items.slice(r,r+o).map(((t,l)=>({top:s+l*e.itemHeight,item:t})))}));return{handleResize:n,paintSize:t,fullSize:l,scrollable:a,renderItems:i}}});On.render=Ln;var Yn=On,Wn=l(573);function An(){return Date.now()}function Vn(e,t){const l=Date.now()-t;console.log(`${e}. Done in -> ${l} ms`)}function Nn(e,t){const l=An(),n=t();return Vn(e,l),n}function qn(){const e=(0,p.XI)("");(0,a.YP)(oe,(()=>{e.value=""}));const t=(0,p.Fl)((()=>{if(!oe.value)return[];if(""===e.value){const e=Nn("Getting root dirs",(()=>(0,Wn.CI)(oe.value.pathReps,oe.value.dirsInfo)));return e.map((e=>({label:e,fullPath:e,isFile:!1}))).sort(((e,t)=>e.label.localeCompare(t.label)))}const t=Nn(`Getting "${e.value}" dir`,(()=>(0,Wn.wl)(e.value,oe.value.pathReps,oe.value.dirsInfo)));return[{label:"../",fullPath:-1===e.value.indexOf("/")?"":e.value.split("/").slice(0,-1).join("/"),isFile:!1},...t.dirs.map((t=>({label:t.substr(e.value.length+1),fullPath:t,isFile:!1}))).sort(((e,t)=>e.label.localeCompare(t.label))),...t.files.map((t=>({label:t.substr(e.value.length+1),fullPath:t,isFile:!0,isActive:`bundles@${t}`===bn.value}))).sort(((e,t)=>e.label.localeCompare(t.label)))]}));async function l(t){if(t.isFile){const e=await re(t.fullPath);t.fullPath.endsWith(".dat")||t.fullPath.endsWith(".dat64")?_n({id:`bundles@${t.fullPath}`,title:t.label,type:pn,args:{fileContent:e,fullPath:t.fullPath}}):wt().saveAs(new File([e],t.fullPath.substring(t.fullPath.lastIndexOf("/")+1),{type:"application/octet-stream"}))}else e.value=t.fullPath}return{currentDir:e,tree:t,handleTreeNav:l}}var Bn=(0,a.aZ)({components:{VirtualScroll:Yn},setup(){const e=(0,p.XI)(!0);function t(){e.value=!e.value}const l=(0,p.Fl)((()=>Boolean(oe.value))),{tree:n,handleTreeNav:a,currentDir:i}=qn(),o=(0,p.XI)(".dat64"),r=(0,p.Fl)((()=>i.value.startsWith("Data")?[".dat",".dat64",".datl",".datl64"].map((e=>({value:e,active:o.value===e,handleClick:()=>{o.value=e}}))):null)),s=(0,p.XI)(""),c=(0,p.Fl)((()=>{const e=s.value.toLowerCase(),t=r.value?o.value:"";return n.value.filter((l=>l.label.toLowerCase().includes(e)&&(!l.isFile||l.label.endsWith(t))))}));return{showTree:e,toggleTree:t,tree:c,handleTreeNav:a,searchText:s,isIndexLoaded:l,extensionOpts:r}}}),Un={treeToggle:"IndexTree_treeToggle_1Disw",searchInput:"IndexTree_searchInput_1f5gZ",itemBtn:"IndexTree_itemBtn_3xH8n",active:"IndexTree_active_1ajD8"};const Xn=Bn.__cssModules={};Xn["$style"]=Un,Bn.render=jn;var Kn=Bn;const Gn=(0,a._)("div",{class:"bg-gray-200 h-1"},null,-1),Zn={class:"p-3"},Jn={class:"font-semibold truncate"},Qn={class:"text-grey text-sm"},ea=(0,a.Uk)("Downloading...");function ta(e,t,l,n,o,r){return e.active?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,i.C_)(e.$style.notification)},[e.totalSize?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[Gn,(0,a._)("div",{class:"bg-blue-500 h-1 absolute top-0",style:(0,i.j5)({width:e.received/e.totalSize*100+"%"})},null,4)],64)):(0,a.kq)("",!0),(0,a._)("div",Zn,[(0,a._)("div",Jn,(0,i.zw)(e.bundleName),1),(0,a._)("div",Qn,[e.totalSize?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a.Uk)((0,i.zw)((e.totalSize/1e6).toFixed(1))+" MB",1)],64)):((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[ea],64))])])],2)):(0,a.kq)("",!0)}var la=(0,a.aZ)({setup(){return G}}),na={notification:"DownloadProgress_notification_1LAA4"};const aa=la.__cssModules={};aa["$style"]=na,la.render=ta;var ia=la,oa=(0,a.aZ)({components:{IndexTree:Kn,ViewerTabs:Mn,DownloadProgress:ia},setup(){const e=(0,p.Fl)((()=>xn.value.find((e=>e.id===bn.value))));return{activeTab:e,appVersion:"3.2.0"}}});oa.render=h;var ra=oa;(0,n.ri)(ra).mount("#app")}},t={};function l(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,l),i.exports}l.m=e,function(){var e=[];l.O=function(t,n,a,i){if(!n){var o=1/0;for(u=0;u<e.length;u++){n=e[u][0],a=e[u][1],i=e[u][2];for(var r=!0,s=0;s<n.length;s++)(!1&i||o>=i)&&Object.keys(l.O).every((function(e){return l.O[e](n[s])}))?n.splice(s--,1):(r=!1,i<o&&(o=i));if(r){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,a,i]}}(),function(){l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,{a:t}),t}}(),function(){l.d=function(e,t){for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){l.p="/poe-dat-viewer/"}(),function(){var e={143:0};l.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,i,o=n[0],r=n[1],s=n[2],c=0;for(a in r)l.o(r,a)&&(l.m[a]=r[a]);if(s)var u=s(l);for(t&&t(n);c<o.length;c++)i=o[c],l.o(e,i)&&e[i]&&e[i][0](),e[o[c]]=0;return l.O(u)},n=self["webpackChunkpoe_dat_viewer"]=self["webpackChunkpoe_dat_viewer"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=l.O(void 0,[998],(function(){return l(242)}));n=l.O(n)})();
//# sourceMappingURL=app.6572d115.js.map