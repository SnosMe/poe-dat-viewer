{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/app/Analyze.vue?39c0","webpack:///./src/app/DataRow.vue?26e4","webpack:///./src/App.vue?c650","webpack:///./src/app/ExportSchema.vue?8441","webpack:///./src/assets/discord-badge.svg","webpack:///./src/app/ExportSchema.vue?f321","webpack:///./src/app/ViewerHead.vue?3900","webpack:///./src/App.vue?97d1","webpack:///./src/app/Analyze.vue?6a4a","webpack:///./src/app/DataRow.vue?e8b2","webpack:///./src/app/dat/reader.ts","webpack:///./src/app/viewer/formatting.ts","webpack:///src/app/DataRow.vue","webpack:///./src/app/DataRow.vue?cbf8","webpack:///./src/app/DataRow.vue","webpack:///./src/app/ViewerHead.vue?6fe0","webpack:///./src/app/viewer/selection.ts","webpack:///./src/app/viewer/sorting.ts","webpack:///src/app/ViewerHead.vue","webpack:///./src/app/ViewerHead.vue?1607","webpack:///./src/app/ViewerHead.vue","webpack:///./src/app/HeaderProps.vue?aab5","webpack:///./src/app/viewer/headers.ts","webpack:///src/app/HeaderProps.vue","webpack:///./src/app/HeaderProps.vue?4879","webpack:///./src/app/HeaderProps.vue","webpack:///./src/app/ExportSchema.vue?8f2f","webpack:///./src/app/exporters/common.ts","webpack:///./src/app/dat/file-cache.ts","webpack:///./src/app/dat/dat-file.ts","webpack:///./src/app/exporters/pogo.ts","webpack:///./src/app/exporters/pypoe.ts","webpack:///./src/app/exporters/c-struct.ts","webpack:///./src/app/exporters/internal.ts","webpack:///src/app/ExportSchema.vue","webpack:///./src/app/ExportSchema.vue?165c","webpack:///./src/app/ExportSchema.vue","webpack:///./src/app/HelpContent.vue?187b","webpack:///./src/app/HelpContent.vue","webpack:///./src/app/ImportDialog.vue?5f65","webpack:///./src/app/viewer/_demo_data.ts","webpack:///src/app/ImportDialog.vue","webpack:///./src/app/ImportDialog.vue?a9ce","webpack:///./src/app/ImportDialog.vue","webpack:///./src/app/SettingsDialog.vue?1ebb","webpack:///./src/app/SettingsDialog.vue","webpack:///./src/app/cpu-task.ts","webpack:///./src/app/dat/analysis.ts","webpack:///./src/app/viewer/Viewer.ts","webpack:///src/app/Analyze.vue","webpack:///./src/app/Analyze.vue?0098","webpack:///./src/app/Analyze.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/quasar.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","staticClass","viewer","_v","_s","datFile","meta","ggpkPath","_e","on","$event","app","importDialog","helpDialog","settingsDialog","model","callback","$$v","$set","expression","selections","defineColumn","_l","sel","rowSorting","exportSchemaDialog","staticStyle","rows","scopedSlots","_u","fn","headers","columns","proxy","ref","index","rowFormat","appVersion","_m","rowNum","part","class","dataStart","selected","color","style","width","text","INT32_NULL","INT64_NULL","TEXT_DECODER","TextDecoder","STRING_TERMINATOR","readInteger","offset","size","unsigned","getUint8","getUint16","getUint32","Number","getBigUint64","getBigInt64","getInt32","getInt16","getInt8","readDecimal","getFloat32","getFloat64","readString","end","findSequence","decode","subarray","readBoolean","Boolean","isNULL","memsize","readKeySelf","rowIdx","getSizeT","readKeyForeign","readScalar","header","type","boolean","dataFixed","string","varOffset","readerFixed","dataVariable","integer","decimal","foreign","readArray","arrayLength","out","Array","fill","undefined","map","_","idx","readerVariable","readCellValue","array","sequence","fromIndex","indexOf","matched","di","si","getRowFormating","fmt","colToFmt","col","cachedView","byteView","reduce","last","curr","formatRow","row","rowLength","entries","from","hexDump","byte","toString","padStart","join","calcRowNumLength","rowCount","rowNumStart","minLength","maxLen","String","Math","max","cacheHeaderDataView","entriesRaw","isArray","medianEntriesLength","freeze","arr","filter","sort","a","b","mid","floor","props","inject","computed","formatted","format","config","component","rowNumberLength","calcHeaderWidth","editHeader","selectColumn","colNum99","stats","bMax","selectColsByHeader","cols","colIdx","findIndex","toggleColsBetween","start","min","clearColumnSelection","getColumnSelections","ranges","sortRows","order","ai","bi","localeCompare","required","sortOrder","methods","selectStart","selectionStart","colsBeforeSelection","selectContinue","len","forEach","e","event","buttons","el","dispatchEvent","preventDefault","trim","setByteViewMode","dataType","remove","dataTypeOpts","arrayTypeOpts","arrayType","recacheAfterOptChange","removeHeadersAtOffsets","offsets","some","removeHeader","createHeaderFromSelected","Error","emptyHeader","find","updatedHeaders","merged","mergeEmptyHeaders","h1","h2","refArray","opts","refString","keySelf","keyForeign","longLong","long","short","columnStats","set","saveHeadersToFileCache","enableByteView","disableByteView","$style","code","pypoe","pogo","clang","json","directives","rawName","headerToFieldFormat","unknownNum","undefinedNum","getFieldType","fields","db","upgrade","createObjectStore","keyPath","CACHE_NAME","getAllFilesMeta","Promise","getAll","findByPath","patch","files","hash","file","sha256","findByHash","caches","open","cache","match","res","arrayBuffer","content","deleteByHash","delete","putFile","crypto","subtle","digest","Uint8Array","existing","cachedAt","Date","byteLength","put","Response","updateFileHeaders","fileHash","initDatFile","filename","fileReader","DataView","buffer","endsWith","boundary","findBBBB","byteOffset","BinaryReader","importFromPoeCdn","startsWith","FILE_URL","fetch","status","statusText","importFromFile","upload","getByHash","findLatestHeaders","typeName","getNamePart","getTime","path","_data","exportToPogo","flatMap","getPogoFieldType","field","fieldsText","padEnd","exportToPypoe","getPypoeFieldType","exportToClang","getClangFieldType","exportInternalState","JSON","stringify","serializeHeaders","getHeaderLength","validateImportedHeader","space","injectStyles","context","locals","script","poePatch","isCdnImportRunning","cdnImport","handleFile","totalSize","toFixed","fasAngleDown","showRecent","importDemo","substr","toLocaleDateString","day","month","year","DEMO_HDRS","cacheFiles","MAX_PER_FRAME","CPUTask","mustYield","prevTime","performance","now","yield","resolve","requestAnimationFrame","ms","analyze","isValidVariableOffset","b00","b01","nullableMemsize","stat","sMem","sMemMem","ri","isStringAtOffset","strOffset","c1","c2","colNumStart","viewers","instance","ROW_NUM_MIN_LENGTH","loadDat","parsed","stateColumns","colNum100","nullable","k","tryImportHeaders","serialized","hdrSerialized","headerLength","isValid","fresh","components","provide","rowComponent","DataRow","use","QOptionGroup","QBtnToggle","QInput","QBtnGroup","QScrollArea","QVirtualScroll","QBtn","QToggle","QDialog","QCard","QCardActions","QCardSection","QSpace","QTab","QTabs","QTabPanel","QTabPanels","QSeparator","QMarkupTable","QLinearProgress","QBadge","QFile","QSlideTransition","QIcon","QItem","QItemSection","QItemLabel","QList","ClosePopup","plugins","Notify","Loading","iconSet","productionTip","render","h","$mount"],"mappings":"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","file":"js/app.2c6f751c.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Analyze.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Analyze.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataRow.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataRow.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"code\":\"ExportSchema_code_NS_l7\"};","module.exports = __webpack_public_path__ + \"img/discord-badge.b9bc316a.svg\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-0-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-0-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportSchema.vue?vue&type=style&index=0&lang=scss&module=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-0-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-0-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportSchema.vue?vue&type=style&index=0&lang=scss&module=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewerHead.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewerHead.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('analyze')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"layout-column\"},[_c('div',{staticClass:\"app-titlebar\"},[(_vm.viewer.datFile)?_c('div',{staticClass:\"ellipsis q-mr-xs\"},[_vm._v(_vm._s(_vm.viewer.datFile.meta.ggpkPath))]):_vm._e(),_c('q-space'),_c('q-btn',{staticClass:\"q-mr-sm\",attrs:{\"padding\":\"0 sm\",\"label\":\"Import\",\"no-caps\":\"\",\"flat\":\"\"},on:{\"click\":function($event){_vm.app.importDialog = true}}}),_c('q-btn',{staticClass:\"q-mr-sm\",attrs:{\"padding\":\"0 sm\",\"label\":\"Help\",\"no-caps\":\"\",\"flat\":\"\"},on:{\"click\":function($event){_vm.app.helpDialog = true}}}),_c('q-btn',{attrs:{\"padding\":\"0 sm\",\"label\":\"Settings\",\"no-caps\":\"\",\"flat\":\"\"},on:{\"click\":function($event){_vm.app.settingsDialog = true}}})],1),_c('q-dialog',{model:{value:(_vm.app.exportSchemaDialog),callback:function ($$v) {_vm.$set(_vm.app, \"exportSchemaDialog\", $$v)},expression:\"app.exportSchemaDialog\"}},[_c('export-schema')],1),_c('q-dialog',{model:{value:(_vm.app.helpDialog),callback:function ($$v) {_vm.$set(_vm.app, \"helpDialog\", $$v)},expression:\"app.helpDialog\"}},[_c('help-content')],1),_c('q-dialog',{model:{value:(_vm.app.importDialog),callback:function ($$v) {_vm.$set(_vm.app, \"importDialog\", $$v)},expression:\"app.importDialog\"}},[_c('import-dialog')],1),_c('q-dialog',{model:{value:(_vm.app.settingsDialog),callback:function ($$v) {_vm.$set(_vm.app, \"settingsDialog\", $$v)},expression:\"app.settingsDialog\"}},[_c('settings-dialog')],1),_c('div',{staticClass:\"flex no-wrap bg-blue-grey-9 q-pa-sm\"},[_c('div',{staticClass:\"flex no-wrap\"},[(_vm.selections.length === 0)?[_c('div',{staticClass:\"text-blue-grey-4 text-italic\"},[_vm._v(\"No bytes selected\")])]:(_vm.selections.length === 1)?[_c('q-btn',{attrs:{\"padding\":\"0 sm\",\"label\":\"Define column\",\"no-caps\":\"\",\"color\":\"blue-grey-8\"},on:{\"click\":_vm.defineColumn}})]:(_vm.selections.length > 1)?[_c('div',{staticClass:\"text-blue-grey-2 q-pr-xs\"},[_vm._v(\"Selections\")]),_vm._l((_vm.selections),function(sel){return _c('div',{staticClass:\"q-px-xs q-mr-xs font-mono bg-blue-grey-2 text-blue-grey-10 rounded-borders\"},[_vm._v(_vm._s(sel))])})]:_vm._e()],2),_c('q-space'),_c('div',{staticClass:\"flex no-wrap q-gutter-x-sm\"},[(_vm.viewer.rowSorting)?_c('q-btn',{attrs:{\"padding\":\"0 sm\",\"label\":\"Reset sorting\",\"no-caps\":\"\",\"color\":\"blue-grey-8\"},on:{\"click\":function($event){_vm.viewer.rowSorting = null}}}):_vm._e(),_c('q-btn',{attrs:{\"disable\":!_vm.viewer.datFile,\"padding\":\"0 sm\",\"label\":\"Export schema\",\"no-caps\":\"\",\"color\":\"blue-grey-8\"},on:{\"click\":function($event){_vm.app.exportSchemaDialog = true}}})],1)],1),_c('div',{staticClass:\"flex min-h-0 flex-1\"},[_c('div',{staticClass:\"layout-column min-w-0 flex-1\"},[_c('div',{staticClass:\"flex-1 font-mono scroll\",staticStyle:{\"--ppc\":\"8px\",\"letter-spacing\":\"calc(var(--ppc) - 1ch)\"},attrs:{\"id\":\"viewer-fancy-scroll\"}},[_c('q-virtual-scroll',{staticStyle:{\"min-width\":\"min-content\"},attrs:{\"items\":_vm.rows,\"virtual-scroll-item-size\":21,\"scroll-target\":\"#viewer-fancy-scroll > .scroll\"},scopedSlots:_vm._u([{key:\"before\",fn:function(){return [_c('viewer-head',{attrs:{\"headers\":_vm.viewer.headers,\"columns\":_vm.viewer.columns}})]},proxy:true},{key:\"default\",fn:function(ref){\nvar index = ref.index;\nreturn [_c('data-row',{attrs:{\"row-idx\":_vm.rows[index],\"format\":_vm.rowFormat}})]}}])})],1),_c('div',{staticClass:\"app-footer bg-blue-grey-9 q-pa-sm text-white text-body2 flex q-gutter-x-lg\"},[_c('div',[_vm._v(\"Made by Alexander Drozdov, v\"+_vm._s(_vm.appVersion)+\" \"),_c('a',{staticClass:\"q-link text-white border-b\",attrs:{\"href\":\"https://github.com/SnosMe/poe-dat-viewer\"}},[_vm._v(\"GitHub\")])]),_vm._m(0)])]),_c('div',{staticClass:\"flex-shrink-0\"},[_c('header-props')],1)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{staticClass:\"flex\",attrs:{\"href\":\"https://discord.gg/SJjBdT3\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/discord-badge.svg\")}})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex no-wrap\"},[_c('div',{staticClass:\"viewer-rownum\"},[_vm._v(_vm._s(_vm.rowNum))]),_vm._l((_vm.formatted),function(part){return _c('div',{staticClass:\"viewer-row\",class:{\n      'viewer-row--border': part.dataStart,\n      'viewer-row--selected': part.selected,\n      'text-grey-7': part.color === 1,\n      'text-green-9': part.color === 2,\n      'text-indigo-14': part.color === 3\n    },style:({ width: (\"calc(var(--ppc) * \" + (part.width) + \")\") })},[_vm._v(_vm._s(part.text))])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Header } from '../viewer/headers'\nimport { DatFile, BinaryReader } from './dat-file'\n\nconst INT32_NULL = 0xfefefefe\nconst INT64_NULL = 0xfefefefefefefefe\n\nconst TEXT_DECODER = new TextDecoder('utf-16le')\nconst STRING_TERMINATOR = [0x00, 0x00, 0x00, 0x00]\n\nfunction readInteger (data: BinaryReader, offset: number, size: number, unsigned: boolean): number | null {\n  if (size === 1 && unsigned) return data.getUint8(offset)\n  else if (size === 2 && unsigned) return data.getUint16(offset)\n  else if (size === 4 && unsigned) return data.getUint32(offset)\n  else if (size === 8 && unsigned) return Number(data.getBigUint64(offset))\n  else if (size === 1 && !unsigned) return data.getInt8(offset)\n  else if (size === 2 && !unsigned) return data.getInt16(offset)\n  else if (size === 4 && !unsigned) return data.getInt32(offset)\n  else if (size === 8 && !unsigned) return Number(data.getBigInt64(offset))\n\n  return undefined as never\n}\n\nfunction readDecimal (data: BinaryReader, offset: number, size: number): number {\n  if (size === 4) {\n    return data.getFloat32(offset)\n  } else if (size === 8) {\n    return data.getFloat64(offset)\n  }\n  return undefined as never\n}\n\nfunction readString (data: Uint8Array, offset: number): string {\n  let end = findSequence(data, STRING_TERMINATOR, offset)\n  while ((end - offset) % 2 !== 0) {\n    end = findSequence(data, STRING_TERMINATOR, end + 1)\n  }\n  return TEXT_DECODER.decode(data.subarray(offset, end))\n}\n\nfunction readBoolean (data: Uint8Array, offset: number): boolean {\n  return Boolean(data[offset])\n}\n\nexport function isNULL (value: number, memsize: number) {\n  return value === (memsize === 4 ? INT32_NULL : INT64_NULL)\n}\n\nfunction readKeySelf (data: BinaryReader, offset: number): number | null {\n  const rowIdx = data.getSizeT(offset)\n  return isNULL(rowIdx, data.memsize) ? null : rowIdx\n}\n\nfunction readKeyForeign (data: BinaryReader, offset: number): [number, number] | null {\n  const rowIdx = [data.getSizeT(offset), data.getSizeT(offset + data.memsize)] as [number, number]\n  return isNULL(rowIdx[0], data.memsize) ? null : rowIdx\n}\n\nfunction readScalar (offset: number, header: Header, datFile: DatFile) {\n  const { type } = header\n  if (type.boolean) {\n    return readBoolean(datFile.dataFixed, offset)\n  }\n  if (type.string) {\n    const varOffset = datFile.readerFixed.getSizeT(offset)\n    return readString(datFile.dataVariable, varOffset)\n  }\n  if (type.integer) {\n    return readInteger(datFile.readerFixed, offset, type.integer.size, type.integer.unsigned)\n  }\n  if (type.decimal) {\n    return readDecimal(datFile.readerFixed, offset, type.decimal.size)\n  }\n  if (type.key) {\n    if (type.key.foreign) {\n      return readKeyForeign(datFile.readerFixed, offset)\n    } else {\n      return readKeySelf(datFile.readerFixed, offset)\n    }\n  }\n  return undefined as never\n}\n\nfunction readArray (offset: number, header: Header, datFile: DatFile) {\n  const { type } = header\n  const arrayLength = datFile.readerFixed.getSizeT(offset)\n  const varOffset = datFile.readerFixed.getSizeT(offset + datFile.memsize)\n\n  if (arrayLength === 0) {\n    return []\n  }\n  const out = Array(arrayLength).fill(undefined)\n\n  if (type.boolean) {\n    return out.map((_, idx) =>\n      readBoolean(datFile.dataVariable, varOffset + (1 * idx))\n    )\n  }\n  if (type.string) {\n    return out.map((_, idx) =>\n      readString(datFile.dataVariable, varOffset + (datFile.memsize * idx))\n    )\n  }\n  if (type.integer) {\n    return out.map((_, idx) =>\n      readInteger(datFile.readerVariable, varOffset + (type.integer!.size * idx), type.integer!.size, type.integer!.unsigned)\n    )\n  }\n  if (type.decimal) {\n    return out.map((_, idx) =>\n      readDecimal(datFile.readerVariable, varOffset + (type.decimal!.size * idx), type.decimal!.size)\n    )\n  }\n  if (type.key) {\n    return out.map((_, idx) =>\n      (type.key!.foreign)\n        ? readKeyForeign(datFile.readerVariable, varOffset + ((datFile.memsize * 2) * idx))\n        : readKeySelf(datFile.readerVariable, varOffset + (datFile.memsize * idx))\n    )\n  }\n  return out as never\n}\n\nexport function readCellValue (offset: number, header: Header, datFile: DatFile) {\n  if (header.type.ref?.array) {\n    return readArray(offset, header, datFile)\n  } else {\n    return readScalar(offset, header, datFile)\n  }\n}\n\nexport function findSequence (data: Uint8Array, sequence: number[], fromIndex = 0): number {\n  for (;;) {\n    const idx = data.indexOf(sequence[0], fromIndex)\n    if (idx === -1 || (idx + sequence.length) > data.length) return -1\n\n    let matched = true\n    for (let di = idx, si = 0; si < sequence.length; di += 1, si += 1) {\n      if (data[di] !== sequence[si]) {\n        fromIndex = di\n        matched = false\n        break\n      }\n    }\n\n    if (matched) return idx\n  }\n}\n","import { StateColumn } from './Viewer'\nimport { DatFile } from '../dat/dat-file'\nimport { Header } from './headers'\nimport { readCellValue } from '../dat/reader'\n\ninterface RowPartFormat {\n  offset: number\n  length: number\n  selected: boolean\n  dataStart: boolean\n  cachedView: Header['cachedView'] | null\n}\n\ninterface RowPart {\n  text: string\n  selected: boolean\n  dataStart: boolean\n  color: number\n  width: number\n}\n\nexport function getRowFormating (columns: StateColumn[]) {\n  const fmt: RowPartFormat[] = []\n\n  function colToFmt (col: StateColumn) {\n    /* subscribe to Vue reactivity */\n    // eslint-disable-next-line no-unused-expressions\n    col.header?.type.integer?.unsigned\n\n    return {\n      offset: col.offset,\n      length: 1,\n      selected: col.selected,\n      dataStart: col.dataStart,\n      cachedView: (col.header && !col.header.type.byteView) ? col.header.cachedView : null\n    }\n  }\n\n  if (!columns.length) return fmt\n\n  columns = [...columns]\n  fmt.push(colToFmt(columns.shift()!))\n\n  columns.reduce((last, curr) => {\n    if (\n      last.selected === curr.selected &&\n      curr.dataStart === false\n    ) {\n      last.length += 1\n    } else {\n      last = colToFmt(curr)\n      fmt.push(last)\n    }\n    return last\n  }, fmt[0])\n\n  return fmt\n}\n\nexport function formatRow (rowIdx: number, fmt: RowPartFormat[], datFile: DatFile) {\n  const row = datFile.dataFixed.subarray(\n    rowIdx * datFile.rowLength,\n    rowIdx * datFile.rowLength + datFile.rowLength\n  )\n\n  return fmt.map<RowPart>(fmt => {\n    if (fmt.cachedView) {\n      return {\n        selected: false,\n        dataStart: true,\n        text: fmt.cachedView.entries[rowIdx][0],\n        color: fmt.cachedView.entries[rowIdx][1],\n        width: fmt.cachedView.length\n      }\n    } else {\n      const slice = Array.from(\n        row.subarray(fmt.offset, fmt.offset + fmt.length)\n      )\n      const hexDump = slice\n        .map(byte => byte.toString(16).padStart(2, '0'))\n        .join(' ')\n\n      return {\n        selected: fmt.selected,\n        dataStart: fmt.dataStart,\n        text: hexDump,\n        color: 0,\n        width: hexDump.length\n      }\n    }\n  })\n}\n\nexport function calcRowNumLength (rowCount: number, rowNumStart: number, minLength: number) {\n  const maxLen = String(rowCount - 1 + rowNumStart).length\n  return Math.max(maxLen, minLength)\n}\n\nexport function cacheHeaderDataView (header: Header, datFile: DatFile) {\n  const entriesRaw = Array(datFile.rowCount).fill(undefined).map((_, rowIdx) => {\n    return readCellValue((rowIdx * datFile.rowLength) + header.offset, header, datFile)\n  })\n\n  // NOTE: length of the string is in UTF-16 code units, not code points!\n  let length = 0\n\n  const entries = entriesRaw.map<[string, number]>((value) => {\n    let text = ''\n    let color = 0\n\n    if (Array.isArray(value) && header.type.ref?.array) {\n      if (header.type.boolean) {\n        text = `[${value.join(', ')}]`\n        color = 3\n      } else if (header.type.string) {\n        text = `[${(value as string[]).map(_ => '\"' + _ + '\"').join(', ')}]`\n        color = 1\n      } else if (header.type.integer || header.type.decimal) {\n        text = `[${value.join(', ')}]`\n        color = 2\n      } else if (header.type.key) {\n        if (header.type.key.foreign) {\n          text = `[${(value as Array<[number, number]>).map(rowIdx => `<${rowIdx[0]}, ${rowIdx[1]}>`).join(', ')}]`\n        } else {\n          text = `[${(value as number[]).map(rowIdx => `<${rowIdx}, self>`).join(', ')}]`\n        }\n        color = 2\n      }\n    } else {\n      if (header.type.boolean) {\n        text = String(value)\n        color = 3\n      } else if (header.type.string) {\n        if (value === '') {\n          text = 'null'\n          color = 3\n        } else {\n          text = String(value)\n          color = 1\n        }\n      } else if (header.type.integer || header.type.decimal) {\n        if (value === null) {\n          text = 'null'\n          color = 3\n        } else {\n          text = String(value)\n          color = 2\n        }\n      } else if (header.type.key) {\n        if (value === null) {\n          text = 'null'\n          color = 3\n        } else {\n          if (header.type.key.foreign) {\n            text = `<${(value as unknown as [number, number])[0]}, ${(value as unknown as [number, number])[1]}>`\n          } else {\n            text = `<${value}, self>`\n          }\n          color = 2\n        }\n      }\n    }\n\n    length = Math.max(length, text.length)\n\n    return [text, color]\n  })\n\n  if (header.type.ref?.array || header.type.string) {\n    length = medianEntriesLength(entries)\n  }\n  length = Math.max(length, (4 * 3 - 1))\n\n  header.cachedView = Object.freeze({\n    length,\n    entries,\n    entriesRaw\n  })\n}\n\nfunction medianEntriesLength (entries: Array<[string, number]>) {\n  const arr = entries\n    .filter(_ => _[0] !== '[]' && _[0] !== 'null')\n    .map(_ => _[0].length)\n  if (!arr.length) return 0\n  arr.sort((a, b) => a - b)\n  const mid = Math.floor(arr.length / 2)\n  return arr.length % 2 !== 0 ? arr[mid] : (arr[mid - 1] + arr[mid]) / 2\n}\n","<template>\n  <div class=\"flex no-wrap\">\n    <div class=\"viewer-rownum\">{{ rowNum }}</div>\n    <!-- eslint-disable-next-line vue/require-v-for-key -->\n    <div v-for=\"part in formatted\"\n      class=\"viewer-row\"\n      :class=\"{\n        'viewer-row--border': part.dataStart,\n        'viewer-row--selected': part.selected,\n        'text-grey-7': part.color === 1,\n        'text-green-9': part.color === 2,\n        'text-indigo-14': part.color === 3\n      }\"\n      :style=\"{ width: `calc(var(--ppc) * ${part.width})` }\"\n      >{{ part.text }}</div>\n  </div>\n</template>\n\n<script>\nimport { formatRow } from './viewer/formatting'\n\nexport default {\n  props: ['rowIdx', 'format'],\n  inject: ['viewer', 'app'],\n  computed: {\n    formatted () {\n      return formatRow(this.rowIdx, this.format, this.viewer.datFile)\n    },\n    rowNum () {\n      return String(this.rowIdx + this.app.config.rowNumStart)\n        .padStart(this.viewer.rowNumberLength, ' ')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import '@/styles/quasar.variables';\n\n.viewer-row {\n  white-space: pre;\n  padding: 0 calc(var(--ppc) / 2);\n  z-index: -2;\n  box-sizing: content-box;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n\n  &.viewer-row--border {\n    border-left: 1px solid $grey-5;\n  }\n\n  &.viewer-row--selected {\n    background: $blue-2;\n  }\n\n  &:nth-child(2) {\n    border: none;\n  }\n}\n\n.viewer-rownum {\n  white-space: pre;\n  position: sticky;\n  left: 0;\n  z-index: -1;\n  padding: 0 0.25rem;\n  background: $grey-1;\n  color: $blue-8;\n  border-right: 1px solid $blue-grey-1;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataRow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataRow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DataRow.vue?vue&type=template&id=8507860a&\"\nimport script from \"./DataRow.vue?vue&type=script&lang=js&\"\nexport * from \"./DataRow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DataRow.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"viewer-sticky-head\"},[_c('div',{staticClass:\"viewer-col-rownum\"},[_vm._v(_vm._s(''.padStart(_vm.viewer.rowNumberLength)))]),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\"}},[_c('div',{staticClass:\"flex no-wrap\"},[_vm._l((_vm.headers),function(col){return _c('button',{staticClass:\"viewer-col viewer-col--border\",style:({ width: _vm.calcHeaderWidth(col) }),on:{\"click\":function($event){return _vm.editHeader(col)}}},[(col.name === null)?_c('span',[_vm._v(_vm._s('\\u00a0'))]):(col.name === '')?_c('span',{staticClass:\"bg-blue-grey-6 text-grey-2 rounded-borders q-px-px\"},[_vm._v(\"?\")]):[_vm._v(_vm._s(col.name))]],2)}),(!_vm.headers.length)?_c('div',{staticClass:\"viewer-col\"},[_vm._v(\"File does not have data\")]):_vm._e()],2),_c('div',{staticClass:\"flex no-wrap\"},_vm._l((_vm.columns),function(col){return _c('button',{key:col.offset,staticClass:\"viewer-col\",class:{\n          'viewer-col--border': col.dataStart,\n          'viewer-col--selected': col.selected\n        },style:({ width: (\"calc(var(--ppc) * \" + (col.header ? col.header.cachedView.length : 2) + \")\") }),on:{\"mousedown\":function($event){return _vm.selectColumn(col.offset, $event)},\"mouseenter\":function($event){return _vm.selectColumn(col.offset, $event)},\"touchstart\":function($event){return _vm.selectColumn(col.offset, $event)},\"touchmove\":function($event){return _vm.selectColumn(col.offset, $event)}}},[_vm._v(_vm._s(col.colNum99))])}),0),_c('div',{staticClass:\"flex no-wrap\"},_vm._l((_vm.columns),function(col){return _c('div',{key:col.offset,staticClass:\"viewer-col-stat\",class:{\n          'viewer-col-stat--border': col.dataStart,\n          'viewer-col-stat--selected': col.selected\n        },style:({ width: (\"calc(var(--ppc) * \" + (col.header ? col.header.cachedView.length + 1 : 3) + \")\") })},[(!col.header)?[(col.stats.string)?_c('div',{staticClass:\"viewer-col-stat_indicator bg-brown-4\",staticStyle:{\"top\":\"0\"}}):_vm._e(),(col.stats.array)?_c('div',{staticClass:\"viewer-col-stat_indicator bg-teal-4\",staticStyle:{\"top\":\"var(--ppc)\"}}):_vm._e(),(col.stats.b00)?_c('div',{staticClass:\"viewer-col-stat_indicator bg-grey-10\",staticStyle:{\"top\":\"calc(var(--ppc) * 2)\"}}):(col.stats.nullable)?_c('div',{staticClass:\"viewer-col-stat_indicator bg-pink-4\",staticStyle:{\"top\":\"calc(var(--ppc) * 2)\"}}):_vm._e(),(col.selected)?_c('div',{staticClass:\"viewer-col-stat_indicator bg-grey-10\",staticStyle:{\"top\":\"0\",\"height\":\"calc(var(--ppc) * 3)\",\"opacity\":\"0.25\"}}):_vm._e(),_c('div',{staticClass:\"viewer-col-stat_max\",staticStyle:{\"top\":\"0\",\"height\":\"calc(var(--ppc) * 3)\"}},[_vm._v(_vm._s(col.stats.bMax))])]:_vm._e()],2)}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { StateColumn } from './Viewer'\nimport { Header } from './headers'\n\nexport function selectColsByHeader (header: Header, cols: StateColumn[]) {\n  const colIdx = cols.findIndex(col => col.offset === header.offset)\n  for (let i = 0; i < header.length; i += 1) {\n    cols[colIdx + i].selected = true\n  }\n}\n\nexport function toggleColsBetween (cols: StateColumn[], a: number, b: number) {\n  const start = Math.min(a, b)\n  const end = Math.max(a, b)\n\n  for (const col of cols) {\n    if (col.offset >= start && col.offset <= end) {\n      if (!col.header) {\n        col.selected = !col.selected\n      }\n    }\n  }\n}\n\nexport function clearColumnSelection (columns: StateColumn[]) {\n  for (const col of columns) {\n    col.selected = false\n  }\n}\n\nexport function getColumnSelections (columns: readonly StateColumn[]) {\n  const ranges: StateColumn[][] = []\n\n  let idx = columns.findIndex(col => col.selected)\n  let last: StateColumn\n  if (idx < 0) {\n    return ranges\n  } else {\n    last = columns[idx]\n    ranges.push([last])\n  }\n\n  for (idx += 1; idx < columns.length; idx += 1) {\n    if (columns[idx].selected) {\n      const curr = columns[idx]\n      if ((curr.offset - last.offset) === 1) {\n        ranges[ranges.length - 1].push(curr)\n      } else {\n        ranges.push([curr])\n      }\n      last = curr\n    }\n  }\n\n  return ranges\n}\n","import { Header } from './headers'\n\nexport function sortRows (header: Header, order: 1 | -1): number[] {\n  const { entriesRaw } = header.cachedView!\n  const rows = entriesRaw.map((_, idx) => idx)\n\n  if (header.type.ref?.array) {\n    rows.sort((ai, bi) => {\n      const a = entriesRaw[ai] as unknown[]\n      const b = entriesRaw[bi] as unknown[]\n      return (b.length - a.length) * order\n    })\n  } else {\n    if (header.type.boolean) {\n      rows.sort((ai, bi) => {\n        const a = Number(entriesRaw[ai] as boolean)\n        const b = Number(entriesRaw[bi] as boolean)\n        return (a - b) * order\n      })\n    } else if (header.type.string) {\n      rows.sort((ai, bi) => {\n        const a = entriesRaw[ai] as string\n        const b = entriesRaw[bi] as string\n        return a.localeCompare(b) * order\n      })\n    } else if (header.type.integer || header.type.decimal) {\n      rows.sort((ai, bi) => {\n        const a = entriesRaw[ai] as number\n        const b = entriesRaw[bi] as number\n        return (b - a) * order\n      })\n    } else if (header.type.key) {\n      if (header.type.key.foreign) {\n        rows.sort((ai, bi) => {\n          const a = entriesRaw[ai] as [number, number] | null\n          const b = entriesRaw[bi] as [number, number] | null\n          return ((b?.[0] || 0) - (a?.[0] || 0)) * order\n        })\n      } else {\n        rows.sort((ai, bi) => {\n          const a = Number(entriesRaw[ai] as number | null)\n          const b = Number(entriesRaw[bi] as number | null)\n          return (b - a) * order\n        })\n      }\n    }\n  }\n\n  return rows\n}\n","<template>\n  <div class=\"viewer-sticky-head\">\n    <div class=\"viewer-col-rownum\"\n      >{{ ''.padStart(viewer.rowNumberLength) }}</div>\n    <!-- // -->\n    <div style=\"display: flex; flex-direction: column;\">\n      <div class=\"flex no-wrap\">\n        <!-- eslint-disable-next-line vue/require-v-for-key -->\n        <button v-for=\"col in headers\"\n          class=\"viewer-col viewer-col--border\"\n          :style=\"{ width: calcHeaderWidth(col) }\"\n          @click=\"editHeader(col)\">\n          <span v-if=\"col.name === null\">{{ '\\u00a0' }}</span>\n          <span v-else-if=\"col.name === ''\" class=\"bg-blue-grey-6 text-grey-2 rounded-borders q-px-px\">?</span>\n          <template v-else>{{ col.name }}</template>\n        </button>\n        <div v-if=\"!headers.length\" class=\"viewer-col\">File does not have data</div>\n      </div>\n      <div class=\"flex no-wrap\">\n        <button v-for=\"col in columns\" :key=\"col.offset\"\n          class=\"viewer-col\"\n          :class=\"{\n            'viewer-col--border': col.dataStart,\n            'viewer-col--selected': col.selected\n          }\"\n          :style=\"{ width: `calc(var(--ppc) * ${col.header ? col.header.cachedView.length : 2})` }\"\n          @mousedown=\"selectColumn(col.offset, $event)\"\n          @mouseenter=\"selectColumn(col.offset, $event)\"\n          @touchstart=\"selectColumn(col.offset, $event)\"\n          @touchmove=\"selectColumn(col.offset, $event)\"\n          >{{ col.colNum99 }}</button>\n      </div>\n      <div class=\"flex no-wrap\">\n        <div v-for=\"col in columns\" :key=\"col.offset\"\n          class=\"viewer-col-stat\"\n          :class=\"{\n            'viewer-col-stat--border': col.dataStart,\n            'viewer-col-stat--selected': col.selected\n          }\"\n          :style=\"{ width: `calc(var(--ppc) * ${col.header ? col.header.cachedView.length + 1 : 3})` }\"\n        >\n          <template v-if=\"!col.header\">\n            <div v-if=\"col.stats.string\"\n              class=\"viewer-col-stat_indicator bg-brown-4\"\n              style=\"top: 0;\" />\n            <div v-if=\"col.stats.array\"\n              class=\"viewer-col-stat_indicator bg-teal-4\"\n              style=\"top: var(--ppc);\" />\n            <div v-if=\"col.stats.b00\"\n              class=\"viewer-col-stat_indicator bg-grey-10\"\n              style=\"top: calc(var(--ppc) * 2);\" />\n            <div v-else-if=\"col.stats.nullable\"\n              class=\"viewer-col-stat_indicator bg-pink-4\"\n              style=\"top: calc(var(--ppc) * 2);\" />\n            <div v-if=\"col.selected\"\n              class=\"viewer-col-stat_indicator bg-grey-10\"\n              style=\"top: 0; height: calc(var(--ppc) * 3); opacity: 0.25;\" />\n            <div\n              class=\"viewer-col-stat_max\"\n              style=\"top: 0; height: calc(var(--ppc) * 3);\">{{ col.stats.bMax }}</div>\n          </template>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { toggleColsBetween } from './viewer/selection'\nimport { sortRows } from './viewer/sorting'\n\nexport default {\n  props: {\n    headers: {\n      type: Array,\n      required: true\n    },\n    columns: {\n      type: Array,\n      required: true\n    }\n  },\n  inject: ['viewer'],\n  data () {\n    return {\n      sortOrder: 0\n      // this.selectionStart: 0,\n      // this.colsBeforeSelection: []\n    }\n  },\n  methods: {\n    selectStart (offset) {\n      this.selectionStart = offset\n      this.colsBeforeSelection = Object.freeze(\n        this.columns.map(col => ({ selected: col.selected }))\n      )\n      toggleColsBetween(this.columns, this.selectionStart, this.selectionStart)\n    },\n    selectContinue (offset) {\n      if (this.selectionStart === undefined) return\n\n      const { memsize } = this.viewer.datFile\n      const len = offset - this.selectionStart\n      if (len >= memsize) {\n        offset = this.selectionStart + (memsize * 2 - 1)\n      } else if (len >= 4) {\n        offset = this.selectionStart + 7\n      } else if (len >= 2) {\n        offset = this.selectionStart + 3\n      }\n      if (len <= -memsize) {\n        offset = this.selectionStart - (memsize * 2 - 1)\n      } else if (len <= -4) {\n        offset = this.selectionStart - 7\n      } else if (len <= -2) {\n        offset = this.selectionStart - 3\n      }\n\n      this.columns.forEach((col, idx) => {\n        col.selected = this.colsBeforeSelection[idx].selected\n      })\n      toggleColsBetween(this.columns, this.selectionStart, offset)\n    },\n    selectColumn (offset, e) {\n      if (e.type === 'mousedown' || e.type === 'touchstart') {\n        this.selectStart(offset)\n      } else if (e.type === 'mouseenter' && e.buttons === 1) {\n        this.selectContinue(offset)\n      } else if (e.type === 'touchmove' && e.changedTouches.length === 1) {\n        const el = document.elementFromPoint(e.changedTouches[0].clientX, e.changedTouches[0].clientY)\n        const event = new Event('mouseenter')\n        event.buttons = 1\n        el.dispatchEvent(event)\n      }\n\n      if (e.type === 'touchstart' || e.type === 'touchmove') {\n        e.preventDefault()\n      }\n    },\n    editHeader (header) {\n      if (\n        this.viewer.editHeader === header &&\n        header.cachedView &&\n        !header.type.byteView\n      ) {\n        if (this.sortOrder === 0) {\n          this.sortOrder = 1\n        } else if (this.sortOrder === 1) {\n          this.sortOrder = -1\n        } else if (this.sortOrder === -1) {\n          this.sortOrder = 1\n        }\n        const rows = sortRows(header, this.sortOrder)\n        this.viewer.rowSorting = Object.freeze(rows)\n      } else {\n        this.viewer.editHeader = header\n        this.sortOrder = 0\n      }\n    },\n    calcHeaderWidth (header) {\n      const width = header.type.byteView\n        ? header.length * 3 - 1\n        : header.cachedView.length\n      return `calc(var(--ppc) * ${width})`\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import '@/styles/quasar.variables';\n\n.viewer-col {\n  color: $blue-grey-6;\n  background: $grey-2;\n  border: none;\n  cursor: pointer;\n  padding: 0 calc(var(--ppc) / 2);\n  text-align: center;\n  box-sizing: content-box;\n  line-height: calc(var(--ppc) * 3);\n  white-space: nowrap;\n  overflow: hidden;\n\n  &.viewer-col--border {\n    border-left: 1px solid $grey-5;\n  }\n\n  &:hover {\n    background: $blue-4;\n    color: $blue-1;\n  }\n\n  &.viewer-col--selected {\n    background: $blue-6;\n    color: $blue-1;\n  }\n\n  &.viewer-col--selected.viewer-col--border,\n  &.viewer-col--selected + &.viewer-col--border {\n    border-left-color: $blue-8;\n  }\n\n  &:first-child { border: none; }\n  &:focus { outline: 0; }\n}\n\n.viewer-col-stat {\n  color: $blue-grey-6;\n  background: $grey-2;\n  box-sizing: content-box;\n  height: calc(var(--ppc) * 3);\n  position: relative;\n\n  &.viewer-col-stat--border {\n    border-left: 1px solid $grey-5;\n  }\n\n  &.viewer-col-stat--selected + &.viewer-col-stat--border {\n    border-left-color: $grey-6;\n  }\n  &.viewer-col-stat--selected.viewer-col-stat--border {\n    border-left-color: $grey-5;\n  }\n\n  &:first-child { border: none; }\n}\n\n.viewer-col-stat_indicator {\n  position: absolute;\n  width: calc(var(--ppc) * 3);\n  height: var(--ppc);\n  z-index: 1;\n\n  .viewer-col-stat--border:not(:first-child) > & {\n    width: calc(var(--ppc) * 3 + 1px);\n    margin-left: -1px;\n  }\n}\n\n.viewer-col-stat_max {\n  visibility: hidden;\n  text-align: center;\n  cursor: default;\n  line-height: calc(var(--ppc) * 3);\n  z-index: 1;\n  position: relative;\n  color: $grey-1;\n  text-shadow: 0 0 0.5ch rgba(0,0,0,0.7);\n  background: #757575b0;\n\n  div:hover > .viewer-col-stat > & {\n    visibility: visible;\n  }\n}\n\n.viewer-col-rownum {\n  background: $grey-2;\n  position: sticky;\n  top: 0;\n  left: 0;\n  z-index: 2;\n  user-select: none;\n  white-space: pre;\n  padding: 0 0.25rem;\n  margin-right: 1px;\n}\n\n.viewer-sticky-head {\n  display: flex;\n  background: $grey-2;\n  box-shadow: $shadow-1;\n  position: sticky;\n  top: 0;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewerHead.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewerHead.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ViewerHead.vue?vue&type=template&id=5d227498&\"\nimport script from \"./ViewerHead.vue?vue&type=script&lang=js&\"\nexport * from \"./ViewerHead.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ViewerHead.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.header)?_c('div',{staticClass:\"shadow-1 h-full\",staticStyle:{\"width\":\"20rem\"}},[_vm._m(0),(_vm.header.name === null)?_c('div',{staticClass:\"q-pa-md\"},[_c('div',[_vm._v(_vm._s(_vm.header.length)+\" bytes of unidentified data\")])]):_c('div',{staticClass:\"q-pa-sm\"},[_c('div',{staticClass:\"q-mb-md q-mt-sm q-px-sm\"},[_c('q-input',{attrs:{\"label\":\"Name\",\"placeholder\":\"unnamed\",\"outlined\":\"\"},model:{value:(_vm.header.name),callback:function ($$v) {_vm.$set(_vm.header, \"name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"header.name\"}})],1),_c('div',{staticClass:\"q-mb-sm q-pl-sm flex no-wrap items-baseline\"},[_c('div',{staticClass:\"q-mb-xs q-mr-sm\"},[_vm._v(\"View mode\")]),_c('q-btn-group',{attrs:{\"unelevated\":\"\"}},[_c('q-btn',{staticClass:\"q-mr-px\",attrs:{\"label\":\"Bytes\",\"padding\":\"0 sm\",\"no-caps\":\"\",\"color\":_vm.header.type.byteView ? 'primary' : 'blue-grey-1',\"text-color\":_vm.header.type.byteView ? 'white' : 'black'},on:{\"click\":function($event){return _vm.setByteViewMode(true)}}}),_c('q-btn',{attrs:{\"label\":\"Data\",\"disable\":!_vm.dataType,\"padding\":\"0 sm\",\"no-caps\":\"\",\"color\":_vm.header.type.byteView ? 'blue-grey-1' : 'primary',\"text-color\":_vm.header.type.byteView ? 'black' : 'white'},on:{\"click\":function($event){return _vm.setByteViewMode(false)}}})],1)],1),_c('div',{staticClass:\"q-mb-sm q-pl-sm\"},[_c('div',{staticClass:\"q-mb-xs flex items-baseline justify-between\"},[_c('span',[_vm._v(\"Data type\")]),_c('q-btn',{attrs:{\"padding\":\"0 sm\",\"label\":\"Remove\",\"no-caps\":\"\",\"flat\":\"\",\"color\":\"negative\"},on:{\"click\":_vm.remove}})],1),_c('q-option-group',{attrs:{\"dense\":\"\",\"size\":\"xs\",\"options\":_vm.dataTypeOpts},model:{value:(_vm.dataType),callback:function ($$v) {_vm.dataType=$$v},expression:\"dataType\"}}),(_vm.arrayTypeOpts.length)?_c('div',{staticClass:\"q-mt-sm\"},[_c('div',[_vm._v(\"of ...\")]),_c('q-option-group',{attrs:{\"dense\":\"\",\"size\":\"xs\",\"options\":_vm.arrayTypeOpts},model:{value:(_vm.arrayType),callback:function ($$v) {_vm.arrayType=$$v},expression:\"arrayType\"}})],1):_vm._e(),(_vm.header.type.integer)?_c('div',{staticClass:\"q-mt-sm\"},[_c('q-toggle',{attrs:{\"label\":\"Unsigned\",\"dense\":\"\",\"size\":\"xs\"},on:{\"input\":_vm.recacheAfterOptChange},model:{value:(_vm.header.type.integer.unsigned),callback:function ($$v) {_vm.$set(_vm.header.type.integer, \"unsigned\", $$v)},expression:\"header.type.integer.unsigned\"}})],1):_vm._e()],1)])]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex items-center bg-blue-grey-8 q-px-md shadow-1 font-mono\",staticStyle:{\"height\":\"6ch\"}},[_c('div',{staticClass:\"text-white font-sans\"},[_vm._v(\"Column properties\")])])}]\n\nexport { render, staticRenderFns }","import { StateColumn } from './Viewer'\nimport { getColumnSelections } from './selection'\nimport { readCellValue } from '../dat/reader'\n\nexport interface Header {\n  name: string | null\n  readonly offset: number\n  readonly length: number\n  type: {\n    byteView?: {}\n    ref?: { array: boolean }\n    boolean?: {}\n    integer?: { unsigned: boolean, size: number }\n    decimal?: { size: number }\n    string?: {}\n    key?: { foreign: boolean }\n  }\n  cachedView?: Readonly<{\n    // stats: [] @TODO\n    entriesRaw: Array<ReturnType<typeof readCellValue>>,\n    length: number\n    entries: Array<[\n      string, // value\n      number // color\n    ]>\n  }>\n}\n\nfunction removeHeadersAtOffsets (offsets: number[], headers: Header[], columns: StateColumn[]) {\n  for (let idx = 0; idx < headers.length;) {\n    const header = headers[idx]\n    if (\n      header.name != null && offsets.some(offset =>\n        offset >= header.offset &&\n        offset < header.offset + header.length\n      )) {\n      removeHeader(header, headers, columns)\n    } else {\n      idx += 1\n    }\n  }\n}\n\nexport function createHeaderFromSelected (columns: StateColumn[], headers: Header[]) {\n  const selections = getColumnSelections(columns)\n  if (selections.length === 0) {\n    throw new Error('No bytes selected')\n  } else if (selections.length > 1) {\n    throw new Error('Cannot create header from non-contiguous selection')\n  }\n  const selected = selections[0]\n\n  removeHeadersAtOffsets(selected.map(col => col.offset), headers, columns)\n\n  const emptyHeader = headers.find(header =>\n    selected[0].offset >= header.offset &&\n    selected[0].offset + selected.length <= header.offset + header.length\n  )!\n\n  let updatedHeaders: Header[] = [\n    {\n      name: null,\n      offset: emptyHeader.offset,\n      length: selected[0].offset - emptyHeader.offset,\n      type: { byteView: {} }\n    }, {\n      name: '',\n      offset: selected[0].offset,\n      length: selected.length,\n      type: { byteView: {} }\n    }, {\n      name: null,\n      offset: selected[0].offset + selected.length,\n      length: emptyHeader.length - (selected[0].offset - emptyHeader.offset + selected.length),\n      type: { byteView: {} }\n    }\n  ]\n  const header = updatedHeaders[1]\n\n  updatedHeaders = updatedHeaders.filter(header => header.length)\n  headers.splice(headers.indexOf(emptyHeader), 1, ...updatedHeaders)\n  for (const col of columns) {\n    if (updatedHeaders.some(header => col.offset === header.offset)) {\n      col.dataStart = true\n    }\n  }\n\n  return header\n}\n\nexport function removeHeader (header: Header, headers: Header[], columns: StateColumn[]) {\n  if (header.name == null) {\n    throw new Error('Cannot remove empty header')\n  }\n  if (!header.type.byteView) {\n    throw new Error('Cannot remove header in data view mode')\n  }\n\n  header.name = null\n  header.type = {\n    byteView: {}\n  }\n\n  for (let idx = 0; idx < (headers.length - 1);) {\n    const merged = mergeEmptyHeaders(headers[idx], headers[idx + 1])\n    if (merged) {\n      for (const col of columns) {\n        if (col.offset === headers[idx + 1].offset) {\n          col.dataStart = false\n        }\n      }\n      headers.splice(idx, 2, merged)\n    } else {\n      idx += 1\n    }\n  }\n}\n\nfunction mergeEmptyHeaders (h1: Header, h2: Header): Header | false {\n  if (h1.name === null && h2.name === null) {\n    return {\n      name: null,\n      offset: h1.offset,\n      length: h1.length + h2.length,\n      type: {\n        byteView: {}\n      }\n    }\n  }\n\n  return false\n}\n","<template>\n  <div v-if=\"header\" style=\"width: 20rem;\" class=\"shadow-1 h-full\">\n    <div class=\"flex items-center bg-blue-grey-8 q-px-md shadow-1 font-mono\" style=\"height: 6ch;\">\n      <div class=\"text-white font-sans\">Column properties</div>\n    </div>\n    <div v-if=\"header.name === null\" class=\"q-pa-md\">\n      <div>{{ header.length }} bytes of unidentified data</div>\n    </div>\n    <div v-else class=\"q-pa-sm\">\n      <div class=\"q-mb-md q-mt-sm q-px-sm\">\n        <q-input label=\"Name\" placeholder=\"unnamed\" v-model.trim=\"header.name\" outlined />\n      </div>\n      <div\n        class=\"q-mb-sm q-pl-sm flex no-wrap items-baseline\">\n        <div class=\"q-mb-xs q-mr-sm\">View mode</div>\n        <q-btn-group unelevated>\n          <q-btn label=\"Bytes\" @click=\"setByteViewMode(true)\"\n            padding=\"0 sm\" no-caps :color=\"header.type.byteView ? 'primary' : 'blue-grey-1'\" :text-color=\"header.type.byteView ? 'white' : 'black'\" class=\"q-mr-px\" />\n          <q-btn label=\"Data\" @click=\"setByteViewMode(false)\" :disable=\"!dataType\"\n            padding=\"0 sm\" no-caps :color=\"header.type.byteView ? 'blue-grey-1' : 'primary'\" :text-color=\"header.type.byteView ? 'black' : 'white'\" />\n        </q-btn-group>\n      </div>\n      <div class=\"q-mb-sm q-pl-sm\">\n        <div class=\"q-mb-xs flex items-baseline justify-between\">\n          <span>Data type</span>\n          <q-btn @click=\"remove\"\n            padding=\"0 sm\" label=\"Remove\" no-caps flat color=\"negative\" />\n        </div>\n        <q-option-group dense size=\"xs\"\n          v-model=\"dataType\"\n          :options=\"dataTypeOpts\" />\n        <div v-if=\"arrayTypeOpts.length\" class=\"q-mt-sm\">\n          <div>of ...</div>\n          <q-option-group dense size=\"xs\"\n            v-model=\"arrayType\"\n            :options=\"arrayTypeOpts\" />\n        </div>\n        <div class=\"q-mt-sm\" v-if=\"header.type.integer\">\n          <q-toggle label=\"Unsigned\" dense size=\"xs\"\n            @input=\"recacheAfterOptChange\"\n            v-model=\"header.type.integer.unsigned\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { removeHeader } from './viewer/headers'\nimport { cacheHeaderDataView } from './viewer/formatting'\n\nexport default {\n  inject: ['viewer'],\n  computed: {\n    header () {\n      return this.viewer.editHeader\n    },\n    dataTypeOpts () {\n      const opts = []\n\n      const { memsize } = this.viewer.datFile\n      const len = this.header.length\n      if (len === memsize * 2 && this.stats.refArray) {\n        opts.push({ label: 'Array', value: 'reference' })\n      }\n      if (len === memsize && this.stats.refString) {\n        opts.push({ label: 'String', value: 'reference' })\n      }\n      if (len === memsize && this.stats.keySelf) {\n        opts.push({ label: 'Key (self)', value: 'key' })\n      }\n      if (len === memsize * 2) {\n        opts.push({ label: 'Key (foreign)', value: 'key' })\n      }\n      if (len === 8 || len === 4 || len === 2 || len === 1) {\n        opts.push({ label: 'Integer', value: 'integer' })\n      }\n      if (len === 8 || len === 4) {\n        opts.push({ label: 'Decimal', value: 'decimal' })\n      }\n      if (len === 1 && this.stats.bMax <= 0x01) {\n        opts.push({ label: 'Boolean', value: 'boolean' })\n      }\n\n      return opts\n    },\n    arrayTypeOpts () {\n      const opts = []\n\n      if (!this.header.type.ref || !this.header.type.ref.array) {\n        return opts\n      }\n\n      const array = this.stats.refArray\n      if (array.string) {\n        opts.push({ label: 'String', value: 'string' })\n      }\n      if (array.keySelf) {\n        opts.push({ label: 'Key (self)', value: 'key_self' })\n      }\n      if (array.keyForeign) {\n        opts.push({ label: 'Key (foreign)', value: 'key_foreign' })\n      }\n      if (array.longLong) {\n        opts.push({ label: 'Integer - 8 bytes', value: 'integer_8' })\n      }\n      if (array.long) {\n        opts.push({ label: 'Integer - 4 bytes', value: 'integer_4' })\n      }\n      if (array.short) {\n        opts.push({ label: 'Integer - 2 bytes', value: 'integer_2' })\n      }\n      if (array.longLong) {\n        opts.push({ label: 'Decimal - 8 bytes', value: 'decimal_8' })\n      }\n      if (array.long) {\n        opts.push({ label: 'Decimal - 4 bytes', value: 'decimal_4' })\n      }\n      if (array.boolean) {\n        opts.push({ label: 'Boolean', value: 'boolean' })\n      }\n      opts.push({ label: 'Integer - byte', value: 'integer_1' })\n\n      return opts\n    },\n    stats () {\n      return this.viewer.columnStats[this.header.offset]\n    },\n    dataType: {\n      get () {\n        const type = this.header.type\n        if (type.ref) {\n          return 'reference'\n        } else if (type.key) {\n          return 'key'\n        } else if (type.integer) {\n          return 'integer'\n        } else if (type.decimal) {\n          return 'decimal'\n        } else if (type.boolean) {\n          return 'boolean'\n        } else {\n          return undefined\n        }\n      },\n      set (type) {\n        this.setByteViewMode(true)\n        const header = this.header\n        header.type = {\n          byteView: {}\n        }\n        if (type === 'reference') {\n          const { memsize } = this.viewer.datFile\n          if (header.length === memsize) {\n            this.$set(header.type, 'ref', { array: false })\n            this.$set(header.type, 'string', {})\n          } else {\n            this.$set(header.type, 'ref', { array: true })\n            return\n          }\n        } else if (type === 'key') {\n          const { memsize } = this.viewer.datFile\n          if (header.length === memsize) {\n            this.$set(header.type, 'key', { foreign: false })\n          } else {\n            this.$set(header.type, 'key', { foreign: true })\n          }\n        } else if (type === 'integer') {\n          this.$set(header.type, 'integer', { unsigned: true, size: header.length })\n        } else if (type === 'decimal') {\n          this.$set(header.type, 'decimal', { size: header.length })\n        } else if (type === 'boolean') {\n          this.$set(header.type, 'boolean', {})\n        }\n        cacheHeaderDataView(header, this.viewer.datFile)\n        this.setByteViewMode(false)\n        this.viewer.saveHeadersToFileCache()\n      }\n    },\n    arrayType: {\n      get () {\n        const type = this.header.type\n        if (type.string) {\n          return 'string'\n        } else if (type.key) {\n          return (type.key.foreign) ? 'key_foreign' : 'key_self'\n        } else if (type.integer) {\n          return `integer_${type.integer.size}`\n        } else if (type.decimal) {\n          return `decimal_${type.decimal.size}`\n        } else if (type.boolean) {\n          return 'boolean'\n        } else {\n          return undefined\n        }\n      },\n      set (type) {\n        this.setByteViewMode(true)\n        const header = this.header\n        header.type = {\n          byteView: {},\n          ref: { array: true }\n        }\n        if (type === 'string') {\n          this.$set(header.type, 'string', {})\n        } else if (type === 'key_foreign') {\n          this.$set(header.type, 'key', { foreign: true })\n        } else if (type === 'key_self') {\n          this.$set(header.type, 'key', { foreign: false })\n        } else if (type === 'integer_1') {\n          this.$set(header.type, 'integer', { unsigned: true, size: 1 })\n        } else if (type === 'integer_2') {\n          this.$set(header.type, 'integer', { unsigned: true, size: 2 })\n        } else if (type === 'integer_4') {\n          this.$set(header.type, 'integer', { unsigned: true, size: 4 })\n        } else if (type === 'integer_8') {\n          this.$set(header.type, 'integer', { unsigned: true, size: 8 })\n        } else if (type === 'decimal_4') {\n          this.$set(header.type, 'decimal', { size: 4 })\n        } else if (type === 'decimal_8') {\n          this.$set(header.type, 'decimal', { size: 8 })\n        } else if (type === 'boolean') {\n          this.$set(header.type, 'boolean', {})\n        }\n        cacheHeaderDataView(header, this.viewer.datFile)\n        this.setByteViewMode(false)\n        this.viewer.saveHeadersToFileCache()\n      }\n    }\n  },\n  methods: {\n    recacheAfterOptChange () {\n      cacheHeaderDataView(this.header, this.viewer.datFile)\n      this.viewer.saveHeadersToFileCache()\n    },\n    remove () {\n      const { viewer } = this\n      this.setByteViewMode(true)\n      removeHeader(viewer.editHeader, viewer.headers, viewer.columns)\n      viewer.editHeader = null\n      viewer.saveHeadersToFileCache()\n    },\n    setByteViewMode (byteView) {\n      if (byteView) {\n        if (!this.header.type.byteView) {\n          this.viewer.enableByteView(this.header)\n        }\n      } else {\n        if (this.header.type.byteView) {\n          this.viewer.disableByteView(this.header)\n        }\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HeaderProps.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HeaderProps.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HeaderProps.vue?vue&type=template&id=0cc06cf3&\"\nimport script from \"./HeaderProps.vue?vue&type=script&lang=js&\"\nexport * from \"./HeaderProps.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-card',{staticStyle:{\"width\":\"700px\",\"max-width\":\"80vw\"}},[_c('q-tabs',{staticClass:\"text-grey\",attrs:{\"breakpoint\":0,\"dense\":\"\",\"align\":\"left\",\"narrow-indicator\":\"\",\"active-color\":\"primary\",\"indicator-color\":\"primary\"},model:{value:(_vm.format),callback:function ($$v) {_vm.format=$$v},expression:\"format\"}},[_c('q-tab',{attrs:{\"name\":\"pypoe\",\"label\":\"PyPoE\"}}),_c('q-tab',{attrs:{\"name\":\"pogo\",\"label\":\"pogo\"}}),_c('q-tab',{attrs:{\"name\":\"c_struct\",\"label\":\"C struct\"}}),_c('q-tab',{attrs:{\"name\":\"json\",\"label\":\"JSON\"}})],1),_c('q-separator'),_c('q-tab-panels',{attrs:{\"animated\":\"\"},model:{value:(_vm.format),callback:function ($$v) {_vm.format=$$v},expression:\"format\"}},[_c('q-tab-panel',{staticStyle:{\"max-height\":\"60vh\"},attrs:{\"name\":\"pypoe\"}},[_c('div',{class:_vm.$style.code},[_vm._v(_vm._s(_vm.pypoe))])]),_c('q-tab-panel',{staticStyle:{\"max-height\":\"60vh\"},attrs:{\"name\":\"pogo\"}},[_c('div',{class:_vm.$style.code},[_vm._v(_vm._s(_vm.pogo))])]),_c('q-tab-panel',{staticStyle:{\"max-height\":\"60vh\"},attrs:{\"name\":\"c_struct\"}},[_c('div',{class:_vm.$style.code},[_vm._v(_vm._s(_vm.clang))])]),_c('q-tab-panel',{staticStyle:{\"max-height\":\"60vh\"},attrs:{\"name\":\"json\"}},[_c('div',{class:_vm.$style.code},[_vm._v(_vm._s(_vm.json))])])],1),_c('q-separator'),_c('q-card-actions',{attrs:{\"align\":\"right\"}},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"flat\":\"\",\"dense\":\"\"}},[_vm._v(\"Close\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Header } from '../viewer/headers'\n\nexport type ExporterFieldType = string | { byte: string }\n\nexport function headerToFieldFormat (\n  header: Header,\n  unknownNum: number,\n  undefinedNum: number,\n  getFieldType: (header: Header) => ExporterFieldType\n) {\n  let fields: Array<[string, string]>\n\n  const type = getFieldType(header)\n  if (typeof type === 'string') {\n    fields = [\n      [header.name! || `Unknown${++unknownNum}`, type]\n    ]\n  } else {\n    fields = new Array(header.length).fill(undefined).map(_ =>\n      [`Undefined${++undefinedNum}`, type.byte]\n    )\n  }\n\n  return { unknownNum, undefinedNum, fields }\n}\n","import { openDB, DBSchema } from 'idb'\nimport { DatSerializedHeader } from '../exporters/internal'\n\nexport interface FileMeta {\n  patch: string | null\n  ggpkPath: string\n  sha256: string\n  size: number\n  cachedAt: Date\n  headers: DatSerializedHeader[]\n}\n\ninterface PoeDatViewerSchema extends DBSchema {\n  'dat-files': {\n    key: FileMeta['sha256']\n    value: FileMeta\n  }\n}\n\nconst db = openDB<PoeDatViewerSchema>('poe-dat-viewer', 1, {\n  upgrade (db) {\n    db.createObjectStore('dat-files', { keyPath: 'sha256' })\n  }\n})\n\nconst CACHE_NAME = 'dat-files'\n\nexport async function getAllFilesMeta (): Promise<FileMeta[]> {\n  return (await db).getAll('dat-files')\n}\n\nexport async function findByPath (patch: string, ggpkPath: string) {\n  const files = await (await db).getAll('dat-files')\n  const hash = files.find(file =>\n    file.patch === patch &&\n    file.ggpkPath === ggpkPath\n  )?.sha256\n\n  return hash ? findByHash(hash) : undefined\n}\n\nexport async function findByHash (sha256: string) {\n  const file = await (await db).get('dat-files', sha256)\n  if (!file) return\n\n  const cache = await caches.open(CACHE_NAME)\n  const res = await cache.match(sha256)\n  if (!res) {\n    throw new Error('Content for cached file is missing')\n  }\n  const content = await res.arrayBuffer()\n  return { content, meta: file }\n}\n\nexport async function deleteByHash (sha256: string) {\n  await (await db).delete('dat-files', sha256)\n\n  const cache = await caches.open(CACHE_NAME)\n  await cache.delete(sha256)\n}\n\nexport async function putFile (\n  patch: string | null,\n  ggpkPath: string,\n  content: ArrayBuffer\n) {\n  const digest = await crypto.subtle.digest('SHA-256', content)\n  const hash = Array.from(new Uint8Array(digest))\n    .map(b => b.toString(16).padStart(2, '0')).join('')\n\n  const existing = await findByHash(hash)\n  if (existing) return existing\n\n  const file: FileMeta = {\n    ggpkPath,\n    sha256: hash,\n    cachedAt: new Date(),\n    size: content.byteLength,\n    patch,\n    headers: []\n  }\n\n  ;(await db).put('dat-files', file)\n\n  const cache = await caches.open(CACHE_NAME)\n  await cache.put(hash, new Response(content, {\n    headers: {\n      'content-length': String(content.byteLength),\n      'content-type': 'application/octet-stream'\n    }\n  }))\n\n  return { content, meta: file }\n}\n\nexport async function updateFileHeaders (\n  headers: DatSerializedHeader[],\n  fileHash: string\n) {\n  const file = await (await db).get('dat-files', fileHash)\n  if (!file) {\n    throw new Error('No file found')\n  }\n\n  file.headers = headers\n\n  ;(await db).put('dat-files', file)\n}\n","import { findSequence } from './reader'\nimport * as FileCache from './file-cache'\n\nexport interface DatFile {\n  meta: FileCache.FileMeta\n  memsize: number\n  rowCount: number\n  rowLength: number\n  dataFixed: Uint8Array\n  dataVariable: Uint8Array\n  readerFixed: BinaryReader\n  readerVariable: BinaryReader\n}\n\nfunction initDatFile (filename: string, content: ArrayBuffer) {\n  if (content.byteLength < (4 + 8)) {\n    throw new Error('Invalid file size')\n  }\n\n  const file = new Uint8Array(content)\n  const fileReader = new DataView(file.buffer)\n  const memsize = filename.endsWith('.dat64') ? 8 : 4\n\n  const rowCount = fileReader.getUint32(0, true)\n  const boundary = findBBBB(file)\n  if (boundary === -1) {\n    throw new Error('Invalid file: section with variable data not found')\n  }\n  const rowLength = (boundary - 4) / rowCount\n\n  const dataFixed = file.subarray(4, boundary)\n  const dataVariable = file.subarray(boundary)\n\n  const readerFixed = new DataView(dataFixed.buffer, dataFixed.byteOffset, dataFixed.byteLength)\n  const readerVariable = new DataView(dataVariable.buffer, dataVariable.byteOffset, dataVariable.byteLength)\n\n  return {\n    memsize,\n    rowCount,\n    rowLength,\n    dataFixed,\n    dataVariable,\n    readerFixed: new BinaryReader(memsize, readerFixed),\n    readerVariable: new BinaryReader(memsize, readerVariable)\n  }\n}\n\nexport async function importFromPoeCdn (patch: string, ggpkPath: string): Promise<DatFile> {\n  if (!ggpkPath.startsWith('/')) {\n    ggpkPath = '/' + ggpkPath\n  }\n\n  let file = await FileCache.findByPath(patch, ggpkPath)\n  if (!file) {\n    const FILE_URL = `http://patch.poecdn.com/patch/${patch}${ggpkPath}`\n    const res = await fetch(`https://cors-anywhere.herokuapp.com/${FILE_URL}`)\n    if (res.status !== 200) {\n      throw new Error(`patch.poecdn.com: ${res.status} ${res.statusText}`)\n    }\n    file = await FileCache.putFile(patch, ggpkPath, await res.arrayBuffer())\n  }\n  return Object.freeze({\n    meta: file.meta,\n    ...initDatFile(file.meta.ggpkPath, file.content)\n  })\n}\n\nexport async function importFromFile (upload: File) {\n  const file = await FileCache.putFile(null, upload.name, await upload.arrayBuffer())\n  return Object.freeze({\n    meta: file.meta,\n    ...initDatFile(file.meta.ggpkPath, file.content)\n  })\n}\n\nexport async function getByHash (sha256: string) {\n  const file = await FileCache.findByHash(sha256)\n  if (file) {\n    return Object.freeze({\n      meta: file.meta,\n      ...initDatFile(file.meta.ggpkPath, file.content)\n    })\n  }\n}\n\nexport async function findLatestHeaders (typeName: string) {\n  let files = await FileCache.getAllFilesMeta()\n  files = files\n    .filter(file => getNamePart(file.ggpkPath) === typeName)\n    .filter(file => file.headers.length && (\n      file.headers.length > 1 || file.headers[0].name != null\n    ))\n  files.sort((a, b) => b.cachedAt.getTime() - a.cachedAt.getTime())\n  return files.length ? files[0].headers : undefined\n}\n\nexport function getNamePart (path: string) {\n  return path.match(/[^/]+(?=\\..+$)/)![0]\n}\n\nfunction findBBBB (data: Uint8Array): number {\n  return findSequence(data, [0xbb, 0xbb, 0xbb, 0xbb, 0xbb, 0xbb, 0xbb, 0xbb])\n}\n\nexport class BinaryReader {\n  public memsize: 4 | 8\n  private _data: DataView\n\n  constructor (memsize: 4 | 8, data: DataView) {\n    this.memsize = memsize\n    this._data = data\n  }\n\n  get buffer () {\n    return this._data.buffer\n  }\n\n  get byteLength () {\n    return this._data.byteLength\n  }\n\n  get byteOffset () {\n    return this._data.byteOffset\n  }\n\n  getSizeT (byteOffset: number) {\n    if (this.memsize === 4) {\n      return this._data.getUint32(byteOffset, true)\n    } else {\n      return Number(this._data.getBigUint64(byteOffset, true))\n    }\n  }\n\n  getBigInt64 (byteOffset: number): bigint {\n    return this._data.getBigInt64(byteOffset, true)\n  }\n\n  getBigUint64 (byteOffset: number): bigint {\n    return this._data.getBigUint64(byteOffset, true)\n  }\n\n  getFloat32 (byteOffset: number): number {\n    return this._data.getFloat32(byteOffset, true)\n  }\n\n  getFloat64 (byteOffset: number): number {\n    return this._data.getFloat64(byteOffset, true)\n  }\n\n  getInt8 (byteOffset: number): number {\n    return this._data.getInt8(byteOffset)\n  }\n\n  getInt16 (byteOffset: number): number {\n    return this._data.getInt16(byteOffset, true)\n  }\n\n  getInt32 (byteOffset: number): number {\n    return this._data.getInt32(byteOffset, true)\n  }\n\n  getUint8 (byteOffset: number): number {\n    return this._data.getUint8(byteOffset)\n  }\n\n  getUint16 (byteOffset: number): number {\n    return this._data.getUint16(byteOffset, true)\n  }\n\n  getUint32 (byteOffset: number): number {\n    return this._data.getUint32(byteOffset, true)\n  }\n}\n","import { Header } from '../viewer/headers'\nimport { ExporterFieldType, headerToFieldFormat } from './common'\nimport { getNamePart } from '../dat/dat-file'\n\nexport function exportToPogo (headers: Header[], path: string) {\n  let unknownNum = 0\n  let undefinedNum = 0\n\n  const fields = headers.flatMap(header => {\n    const res = headerToFieldFormat(header, unknownNum, undefinedNum, getPogoFieldType)\n    unknownNum = res.unknownNum\n    undefinedNum = res.undefinedNum\n    return res.fields\n  })\n\n  const maxLen = Math.max(...fields.map(field => field[0].length))\n  const fieldsText = fields.map(field => {\n    field[0] = field[0].padEnd(maxLen, ' ')\n    return `  ${field[0]} ${field[1]}`\n  }).join('\\n')\n\n  return `type ${getNamePart(path)} struct {\\n${fieldsText}\\n}`\n}\n\nfunction getPogoFieldType (header: Header): ExporterFieldType {\n  const boolean = header.type.boolean\n  const integer = header.type.integer\n  const decimal = header.type.decimal\n  const string = header.type.string\n  const array = header.type.ref?.array\n  const key = header.type.key\n  const size = integer?.size || decimal?.size || header.length\n\n  if (integer) {\n    if (size === 1 && integer.unsigned && !array) return 'uint8'\n    if (size === 2 && integer.unsigned && !array) return 'uint16'\n    if (size === 4 && integer.unsigned && !array) return 'uint32'\n    if (size === 8 && integer.unsigned && !array) return 'uint64'\n\n    if (size === 1 && !integer.unsigned && !array) return 'uint8' // N/A 'int8'\n    if (size === 2 && !integer.unsigned && !array) return 'uint16' // N/A 'int16'\n    if (size === 4 && !integer.unsigned && !array) return 'int32'\n    if (size === 8 && !integer.unsigned && !array) return 'int64'\n\n    if (size === 1 && integer.unsigned && array) return '[]uint8'\n    if (size === 2 && integer.unsigned && array) return '[]uint16'\n    if (size === 4 && integer.unsigned && array) return '[]uint32'\n    if (size === 8 && integer.unsigned && array) return '[]uint64'\n\n    if (size === 1 && !integer.unsigned && array) return '[]uint8' // N/A '[]int8'\n    if (size === 2 && !integer.unsigned && array) return '[]uint16' // N/A '[]int16'\n    if (size === 4 && !integer.unsigned && array) return '[]int32'\n    if (size === 8 && !integer.unsigned && array) return '[]int64'\n  }\n\n  if (decimal) {\n    if (size === 4 && !array) return 'float32'\n    if (size === 8 && !array) return 'float64'\n\n    if (size === 4 && array) return '[]float32'\n    if (size === 8 && array) return '[]float64'\n  }\n\n  if (boolean) {\n    return array ? '[]bool' : 'bool'\n  }\n\n  if (string) {\n    return array ? '[]string' : 'string'\n  }\n\n  if (key && key.foreign) {\n    return array ? '[]int64' : '*int64'\n  }\n\n  if (key && !key.foreign) {\n    return array ? '[]int32' : '*int32'\n  }\n\n  return { byte: 'uint8' }\n}\n","import { Header } from '../viewer/headers'\nimport { ExporterFieldType, headerToFieldFormat } from './common'\nimport { getNamePart } from '../dat/dat-file'\n\nexport function exportToPypoe (headers: Header[], path: string) {\n  let unknownNum = 0\n  let undefinedNum = 0\n\n  const fields = headers.flatMap(header => {\n    const res = headerToFieldFormat(header, unknownNum, undefinedNum, getPypoeFieldType)\n    unknownNum = res.unknownNum\n    undefinedNum = res.undefinedNum\n    return res.fields\n  })\n\n  const fieldsText = fields.map(field => {\n    return `        ('${field[0]}', Field(\\n            name='${field[0]}',\\n            type='${field[1]}',\\n        )),`\n  }).join('\\n')\n\n  return `'${getNamePart(path)}.dat': File(\\n    fields=OrderedDict((\\n${fieldsText}\\n    )),\\n),`\n}\n\nfunction getPypoeFieldType (header: Header): ExporterFieldType {\n  const boolean = header.type.boolean\n  const integer = header.type.integer\n  const decimal = header.type.decimal\n  const string = header.type.string\n  const array = header.type.ref?.array\n  const key = header.type.key\n  const size = integer?.size || decimal?.size || header.length\n\n  if (integer) {\n    if (size === 1 && integer.unsigned && !array) return 'ubyte'\n    if (size === 2 && integer.unsigned && !array) return 'ushort'\n    if (size === 4 && integer.unsigned && !array) return 'uint'\n    if (size === 8 && integer.unsigned && !array) return 'ulong'\n\n    if (size === 1 && !integer.unsigned && !array) return 'byte'\n    if (size === 2 && !integer.unsigned && !array) return 'short'\n    if (size === 4 && !integer.unsigned && !array) return 'int'\n    if (size === 8 && !integer.unsigned && !array) return 'long'\n\n    if (size === 1 && integer.unsigned && array) return 'ref|list|ubyte'\n    if (size === 2 && integer.unsigned && array) return 'ref|list|ushort'\n    if (size === 4 && integer.unsigned && array) return 'ref|list|uint'\n    if (size === 8 && integer.unsigned && array) return 'ref|list|ulong'\n\n    if (size === 1 && !integer.unsigned && array) return 'ref|list|byte'\n    if (size === 2 && !integer.unsigned && array) return 'ref|list|short'\n    if (size === 4 && !integer.unsigned && array) return 'ref|list|int'\n    if (size === 8 && !integer.unsigned && array) return 'ref|list|long'\n  }\n\n  if (decimal) {\n    if (size === 4 && !array) return 'float'\n    if (size === 8 && !array) return 'double'\n\n    if (size === 4 && array) return 'ref|list|float'\n    if (size === 8 && array) return 'ref|list|double'\n  }\n\n  if (boolean) {\n    return array ? 'ref|list|bool' : 'bool'\n  }\n\n  if (string) {\n    return array ? 'ref|list|ref|string' : 'ref|string'\n  }\n\n  if (key && key.foreign) {\n    return array ? 'ref|list|ulong' : 'ulong'\n  }\n\n  if (key && !key.foreign) {\n    return array ? 'ref|list|ref|generic' : 'ref|generic'\n  }\n\n  return { byte: 'ubyte' }\n}\n","import { Header } from '../viewer/headers'\nimport { ExporterFieldType, headerToFieldFormat } from './common'\nimport { getNamePart } from '../dat/dat-file'\n\nexport function exportToClang (headers: Header[], path: string) {\n  let unknownNum = 0\n  let undefinedNum = 0\n\n  const fields = headers.flatMap(header => {\n    const res = headerToFieldFormat(header, unknownNum, undefinedNum, getClangFieldType)\n    unknownNum = res.unknownNum\n    undefinedNum = res.undefinedNum\n    return res.fields\n  })\n\n  const fieldsText = fields.map(field => {\n    return `  ${field[1]} ${field[0]};`\n  }).join('\\n')\n\n  return `#include <stdbool.h>\\n#include <stdint.h>\\n#include <uchar.h>\\n\\n#pragma pack(push, 1)\\ntypedef struct ${getNamePart(path)} {\\n${fieldsText}\\n} ${getNamePart(path)};\\n#pragma pack(pop)`\n}\n\nfunction getClangFieldType (header: Header): ExporterFieldType {\n  const boolean = header.type.boolean\n  const integer = header.type.integer\n  const decimal = header.type.decimal\n  const string = header.type.string\n  const array = header.type.ref?.array\n  const key = header.type.key\n  const size = integer?.size || decimal?.size || header.length\n\n  if (integer) {\n    if (size === 1 && integer.unsigned && !array) return 'uint8_t'\n    if (size === 2 && integer.unsigned && !array) return 'uint16_t'\n    if (size === 4 && integer.unsigned && !array) return 'uint32_t'\n    if (size === 8 && integer.unsigned && !array) return 'uint64_t'\n\n    if (size === 1 && !integer.unsigned && !array) return 'int8_t'\n    if (size === 2 && !integer.unsigned && !array) return 'int16_t'\n    if (size === 4 && !integer.unsigned && !array) return 'int32_t'\n    if (size === 8 && !integer.unsigned && !array) return 'int64_t'\n\n    if (size === 1 && integer.unsigned && array) return 'struct { size_t size; uint8_t* offset; }'\n    if (size === 2 && integer.unsigned && array) return 'struct { size_t size; uint16_t* offset; }'\n    if (size === 4 && integer.unsigned && array) return 'struct { size_t size; uint32_t* offset; }'\n    if (size === 8 && integer.unsigned && array) return 'struct { size_t size; uint64_t* offset; }'\n\n    if (size === 1 && !integer.unsigned && array) return 'struct { size_t size; int8_t* offset; }'\n    if (size === 2 && !integer.unsigned && array) return 'struct { size_t size; int16_t* offset; }'\n    if (size === 4 && !integer.unsigned && array) return 'struct { size_t size; int32_t* offset; }'\n    if (size === 8 && !integer.unsigned && array) return 'struct { size_t size; int64_t* offset; }'\n  }\n\n  if (decimal) {\n    if (size === 4 && !array) return 'float'\n    if (size === 8 && !array) return 'double'\n\n    if (size === 4 && array) return 'struct { size_t size; float* offset; }'\n    if (size === 8 && array) return 'struct { size_t size; double* offset; }'\n  }\n\n  if (boolean) {\n    return array ? 'struct { size_t size; bool* offset; }' : 'bool'\n  }\n\n  if (string) {\n    return array ? 'struct { size_t size; char16_t** offset; }' : 'char16_t*'\n  }\n\n  if (key && key.foreign) {\n    return array ? 'struct { size_t size; struct { size_t rid; void* unknown; } *offset; }' : '{ size_t rid; void* unknown; }'\n  }\n\n  if (key && !key.foreign) {\n    return array ? 'struct { size_t size; size_t* offset; }' : 'size_t'\n  }\n\n  return { byte: 'uint8_t' }\n}\n","import { Header } from '../viewer/headers'\nimport { getNamePart } from '../dat/dat-file'\nimport { ColumnStats } from '../dat/analysis'\n\nexport interface DatSerializedHeader {\n  name: string | null\n  length?: number\n  type: {\n    ref?: { array: boolean }\n    boolean?: {}\n    integer?: { unsigned: boolean, size: number }\n    decimal?: { size: number }\n    string?: {}\n    key?: { foreign: boolean }\n  }\n}\n\nexport function exportInternalState (headers: Header[], path: string) {\n  return JSON.stringify({\n    name: getNamePart(path),\n    headers: serializeHeaders(headers)\n  }, null, 2)\n}\n\nexport function serializeHeaders (headers: Header[]) {\n  return headers.map<DatSerializedHeader>(header => ({\n    name: header.name,\n    length: (header.type.ref || header.type.key) ? undefined : header.length,\n    type: {\n      ...header.type,\n      byteView: undefined\n    }\n  }))\n}\n\nexport function getHeaderLength (header: DatSerializedHeader, memsize: number) {\n  if (header.length) return header.length\n\n  if (header.type.ref?.array) {\n    return memsize * 2\n  } else if (header.type.string) {\n    return memsize\n  } else if (header.type.key) {\n    return header.type.key.foreign\n      ? memsize * 2\n      : memsize\n  }\n\n  throw new Error('Corrupted header')\n}\n\nexport function validateImportedHeader (\n  header: Pick<Header, 'type' | 'offset' | 'length'>,\n  columns: ColumnStats[]\n): boolean {\n  const boolean = header.type.boolean\n  const integer = header.type.integer\n  const decimal = header.type.decimal\n  const string = header.type.string\n  const array = header.type.ref?.array\n  const key = header.type.key\n  const size = integer?.size || decimal?.size\n\n  // NOTE: keep in sync with `HeaderProps.vue`\n\n  const space = columns.length - header.offset\n  const stats = columns[header.offset]\n\n  if (integer) {\n    if (size === 1 && !array) return space >= 1\n    if (size === 2 && !array) return space >= 2\n    if (size === 4 && !array) return space >= 4\n    if (size === 8 && !array) return space >= 8\n\n    if (size === 1 && array) return stats.refArray && true\n    if (size === 2 && array) return stats.refArray && stats.refArray.short\n    if (size === 4 && array) return stats.refArray && stats.refArray.long\n    if (size === 8 && array) return stats.refArray && stats.refArray.longLong\n  }\n\n  if (decimal) {\n    if (size === 4 && !array) return space >= 4\n    if (size === 8 && !array) return space >= 8\n\n    if (size === 4 && array) return stats.refArray && stats.refArray.long\n    if (size === 8 && array) return stats.refArray && stats.refArray.longLong\n  }\n\n  if (boolean) {\n    return array\n      ? stats.refArray && stats.refArray.boolean\n      : stats.bMax <= 0x01\n  }\n\n  if (string) {\n    return array\n      ? stats.refArray && stats.refArray.string\n      : stats.refString\n  }\n\n  if (key && key.foreign) {\n    return array\n      ? stats.refArray && stats.refArray.keyForeign\n      : space >= header.length\n  }\n\n  if (key && !key.foreign) {\n    return array\n      ? stats.refArray && stats.refArray.keySelf\n      : stats.keySelf\n  }\n\n  return space >= header.length\n}\n","<template>\n  <q-card style=\"width: 700px; max-width: 80vw;\">\n    <q-tabs v-model=\"format\" :breakpoint=\"0\"\n      dense align=\"left\" narrow-indicator\n      class=\"text-grey\" active-color=\"primary\" indicator-color=\"primary\"\n    >\n      <q-tab name=\"pypoe\" label=\"PyPoE\" />\n      <q-tab name=\"pogo\" label=\"pogo\" />\n      <q-tab name=\"c_struct\" label=\"C struct\" />\n      <q-tab name=\"json\" label=\"JSON\" />\n    </q-tabs>\n    <q-separator />\n    <q-tab-panels v-model=\"format\" animated>\n      <q-tab-panel name=\"pypoe\" style=\"max-height: 60vh;\">\n        <div :class=\"$style.code\">{{ pypoe }}</div>\n      </q-tab-panel>\n      <q-tab-panel name=\"pogo\" style=\"max-height: 60vh;\">\n        <div :class=\"$style.code\">{{ pogo }}</div>\n      </q-tab-panel>\n      <q-tab-panel name=\"c_struct\" style=\"max-height: 60vh;\">\n        <div :class=\"$style.code\">{{ clang }}</div>\n      </q-tab-panel>\n      <q-tab-panel name=\"json\" style=\"max-height: 60vh;\">\n        <div :class=\"$style.code\">{{ json }}</div>\n      </q-tab-panel>\n    </q-tab-panels>\n    <q-separator />\n    <q-card-actions align=\"right\">\n      <q-btn flat dense v-close-popup>Close</q-btn>\n    </q-card-actions>\n  </q-card>\n</template>\n\n<script>\nimport { exportToPogo } from './exporters/pogo'\nimport { exportToPypoe } from './exporters/pypoe'\nimport { exportToClang } from './exporters/c-struct'\nimport { exportInternalState } from './exporters/internal'\n\nexport default {\n  inject: ['viewer'],\n  data () {\n    return {\n      format: 'pypoe'\n    }\n  },\n  computed: {\n    pypoe () {\n      const { headers, datFile } = this.viewer\n      return exportToPypoe(headers, datFile.meta.ggpkPath)\n    },\n    pogo () {\n      const { headers, datFile } = this.viewer\n      return exportToPogo(headers, datFile.meta.ggpkPath)\n    },\n    clang () {\n      const { headers, datFile } = this.viewer\n      return exportToClang(headers, datFile.meta.ggpkPath)\n    },\n    json () {\n      const { headers, datFile } = this.viewer\n      return exportInternalState(headers, datFile.meta.ggpkPath)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" module>\n@import '@/styles/quasar.variables';\n\n.code {\n  font-family: $font-mono;\n  color: #fff;\n  white-space: pre;\n  padding: 16px;\n  margin-bottom: 16px;\n  border-radius: 4px;\n  background: $grey-9;\n  overflow-x: auto;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportSchema.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportSchema.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExportSchema.vue?vue&type=template&id=17e5686b&\"\nimport script from \"./ExportSchema.vue?vue&type=script&lang=js&\"\nexport * from \"./ExportSchema.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ExportSchema.vue?vue&type=style&index=0&lang=scss&module=true&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row bg-white\",staticStyle:{\"width\":\"820px\",\"max-width\":\"80vw\"}},[_c('div',{staticClass:\"flex-1 q-pa-md\"},[_c('div',{staticClass:\"flex items-center\"},[_c('q-linear-progress',{staticStyle:{\"width\":\"4rem\"},attrs:{\"rounded\":\"\",\"size\":\"0.75rem\",\"value\":1,\"color\":\"brown-4\"}}),_c('div',{staticClass:\"q-ml-sm\"},[_vm._v(\"Octet is part of String\")])],1),_c('div',{staticClass:\"flex items-center\"},[_c('q-linear-progress',{staticStyle:{\"width\":\"4rem\"},attrs:{\"rounded\":\"\",\"size\":\"0.75rem\",\"value\":1,\"color\":\"teal-4\"}}),_c('div',{staticClass:\"q-ml-sm\"},[_vm._v(\"Octet is part of Array\")])],1),_c('div',{staticClass:\"flex items-center\"},[_c('q-linear-progress',{staticStyle:{\"width\":\"4rem\"},attrs:{\"rounded\":\"\",\"size\":\"0.75rem\",\"value\":1,\"color\":\"grey-10\"}}),_c('div',{staticClass:\"q-ml-sm\"},[_vm._v(\"All bytes in column are 00\")])],1),_c('div',{staticClass:\"flex items-center\"},[_c('q-linear-progress',{staticStyle:{\"width\":\"4rem\"},attrs:{\"rounded\":\"\",\"size\":\"0.75rem\",\"value\":1,\"color\":\"pink-4\"}}),_c('div',{staticClass:\"q-ml-sm\"},[_vm._v(\"Octet is part of NULL\")])],1),_c('q-separator',{attrs:{\"spaced\":\"\"}}),_c('div',[_vm._v(\"Mouse-over octet statistics bar to see the MAX byte value in column.\")]),_c('q-separator',{attrs:{\"spaced\":\"\"}}),_c('div',[_vm._v(\"Dat format has reserved \"),_c('q-badge',{staticClass:\"font-mono\",attrs:{\"color\":\"grey-8\"}},[_vm._v(\"fe fe fe fe (x32)\")]),_vm._v(\" and \"),_c('q-badge',{staticClass:\"font-mono\",attrs:{\"color\":\"grey-8\"}},[_vm._v(\"fe fe fe fe fe fe fe fe (x64)\")]),_vm._v(\" for NULL value.\")],1)],1),_c('q-markup-table',[_c('thead',[_c('tr',[_c('th',{staticClass:\"text-left\"},[_vm._v(\"Type\")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\"C/C++ type\")]),_c('th',{staticClass:\"text-right\"},[_vm._v(\"x32_64\")]),_c('th',{staticClass:\"text-right\"},[_vm._v(\"x32 size\")]),_c('th',{staticClass:\"text-right\"},[_vm._v(\"x64 size\")])])]),_c('tbody',[_c('tr',[_c('td',{staticClass:\"text-left\"},[_vm._v(\"String\")]),_c('td',{staticClass:\"text-left\"},[_vm._v(\"char16_t*\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"4\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"8\")])]),_c('tr',[_c('td',{staticClass:\"text-left\"},[_vm._v(\"Array\")]),_c('td',{staticClass:\"text-left\"},[_vm._v(\"{ size_t; void* }\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"4 + 4\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"8 + 8\")])]),_c('tr',[_c('td',{staticClass:\"text-left\"},[_vm._v(\"Key (foreign)\")]),_c('td',{staticClass:\"text-left\"},[_vm._v(\"{ size_t; void* }\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"4 + 4\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"8 + 8\")])]),_c('tr',[_c('td',{staticClass:\"text-left\"},[_vm._v(\"Key (self)\")]),_c('td',{staticClass:\"text-left\"},[_vm._v(\"size_t\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"4\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"8\")])]),_c('tr',[_c('td',{staticClass:\"text-left\"},[_vm._v(\"Decimal\")]),_c('td',{staticClass:\"text-left\"},[_vm._v(\"double\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"8\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")])]),_c('tr',[_c('td',{staticClass:\"text-left\"},[_vm._v(\"Decimal\")]),_c('td',{staticClass:\"text-left\"},[_vm._v(\"float\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"4\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")])]),_c('tr',[_c('td',{staticClass:\"text-left\"},[_vm._v(\"Integer\")]),_c('td',{staticClass:\"text-left\"},[_vm._v(\"int64_t / uint64_t\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"8\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")])]),_c('tr',[_c('td',{staticClass:\"text-left\"},[_vm._v(\"Integer\")]),_c('td',{staticClass:\"text-left\"},[_vm._v(\"int32_t / uint32_t\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"4\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")])]),_c('tr',[_c('td',{staticClass:\"text-left\"},[_vm._v(\"Integer\")]),_c('td',{staticClass:\"text-left\"},[_vm._v(\"int16_t / uint16_t\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"2\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")])]),_c('tr',[_c('td',{staticClass:\"text-left\"},[_vm._v(\"Integer\")]),_c('td',{staticClass:\"text-left\"},[_vm._v(\"int8_t / uint8_t\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"1\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")])]),_c('tr',[_c('td',{staticClass:\"text-left\"},[_vm._v(\"Boolean\")]),_c('td',{staticClass:\"text-left\"},[_vm._v(\"bool\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"1\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"-\")])])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./HelpContent.vue?vue&type=template&id=77eaece1&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-card',{staticStyle:{\"max-width\":\"80vw\"}},[_c('q-card-section',[_c('div',{staticClass:\"q-gutter-xs flex items-baseline\"},[_c('q-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"value\":\"patch.poecdn.com/patch/\",\"filled\":\"\",\"hint\":\"Patch CDN\",\"readonly\":\"\",\"dense\":\"\"}}),_c('q-input',{staticStyle:{\"width\":\"100px\"},attrs:{\"filled\":\"\",\"hint\":\"Patch #\",\"dense\":\"\",\"placeholder\":\"3.11.x.x.x\"},model:{value:(_vm.poePatch),callback:function ($$v) {_vm.poePatch=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"poePatch\"}}),_c('q-input',{staticStyle:{\"width\":\"250px\"},attrs:{\"filled\":\"\",\"hint\":\"Path inside GGPK\",\"dense\":\"\",\"placeholder\":\"/Data/BaseItemTypes.dat64\"},model:{value:(_vm.ggpkPath),callback:function ($$v) {_vm.ggpkPath=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"ggpkPath\"}}),_c('q-btn',{attrs:{\"label\":\"Import\",\"color\":\"primary\",\"loading\":_vm.isCdnImportRunning},on:{\"click\":_vm.cdnImport}})],1)]),_c('q-separator'),_c('q-card-section',[_c('div',{staticClass:\"flex items-baseline\"},[_c('q-file',{staticStyle:{\"max-width\":\"250px\"},attrs:{\"label\":\"Pick local file\",\"accept\":\".dat,.dat64\",\"filled\":\"\",\"dense\":\"\"},on:{\"input\":_vm.handleFile}}),_c('q-space'),_c('div',{staticClass:\"text-caption text-italic text-grey-7 q-mr-sm\"},[_vm._v(_vm._s((_vm.totalSize / 1000000).toFixed(2))+\" MB stored\")]),_c('q-btn',{attrs:{\"label\":\"Recent files\",\"flat\":\"\",\"no-caps\":\"\",\"dense\":\"\",\"icon-right\":_vm.fasAngleDown,\"text-color\":\"grey-8\"},on:{\"click\":function($event){_vm.showRecent = !_vm.showRecent}}})],1),_c('q-slide-transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.showRecent),expression:\"!showRecent\"}]},[_c('div',{staticClass:\"q-pt-sm\"},[_vm._v(\" Or import \"),_c('a',{staticClass:\"q-link text-primary\",staticStyle:{\"border-bottom\":\"1px dashed currentColor\"},attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.importDemo($event)}}},[_vm._v(\"demo file\")])])])]),_c('q-slide-transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showRecent),expression:\"showRecent\"}]},[_c('div',{staticClass:\"q-pt-sm\"},[_c('q-space')],1),_c('q-markup-table',{staticClass:\"q-mt-xs scroll\",staticStyle:{\"max-height\":\"40vh\"},attrs:{\"flat\":\"\",\"bordered\":\"\"}},[_c('thead',[_c('tr',[_c('th',{staticClass:\"text-left text-grey-7 no-border\",staticStyle:{\"font-size\":\"0.875rem\",\"font-weight\":\"normal\"},attrs:{\"colspan\":\"4\"}},[_vm._v(\"Recent files\")])])]),_c('tbody',_vm._l((_vm.cacheFiles),function(file){return _c('tr',{key:file.sha256},[_c('td',{staticClass:\"text-left\"},[_c('div',[_c('span',{staticClass:\"text-weight-medium\"},[_vm._v(_vm._s(file.ggpkPath))]),(file.patch)?_c('span',{staticClass:\"text-grey-8\"},[_vm._v(\" - \"+_vm._s(file.patch))]):_vm._e()]),_c('div',{staticClass:\"text-caption text-grey-8\"},[_vm._v(\" SHA-256: \"+_vm._s(file.sha256.substr(0, 7))+\" \")])]),_c('td',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s(file.cachedAt.toLocaleDateString(undefined, { day: 'numeric', month: 'short', year: 'numeric' }))+\" \")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s((file.size / 1000000).toFixed(2))+\" MB \")]),_c('td',{staticClass:\"text-right\"},[_c('div',{staticClass:\"text-grey-8 q-gutter-xs\"},[_c('q-btn',{staticClass:\"gt-xs\",attrs:{\"size\":\"12px\",\"dense\":\"\",\"label\":\"Delete\",\"outline\":\"\"},on:{\"click\":function($event){return _vm.remove(file.sha256)}}}),_c('q-btn',{attrs:{\"size\":\"12px\",\"dense\":\"\",\"label\":\"Open\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.open(file.sha256)}}})],1)])])}),0)])],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { DatSerializedHeader } from '../exporters/internal'\n\nexport const DEMO_HDRS: DatSerializedHeader[] = [\n  {\n    name: 'Id',\n    type: {\n      ref: { array: false },\n      string: {}\n    }\n  },\n  {\n    name: 'ItemClassesKey',\n    type: {\n      key: { foreign: true }\n    }\n  },\n  {\n    name: 'Width',\n    length: 4,\n    type: {\n      integer: { unsigned: true, size: 4 }\n    }\n  },\n  {\n    name: 'Height',\n    length: 4,\n    type: {\n      integer: { unsigned: true, size: 4 }\n    }\n  },\n  {\n    name: 'Name',\n    type: {\n      ref: { array: false },\n      string: {}\n    }\n  }\n]\n","<template>\n  <q-card style=\"max-width: 80vw;\">\n    <q-card-section>\n      <div class=\"q-gutter-xs flex items-baseline\">\n        <q-input value=\"patch.poecdn.com/patch/\" filled hint=\"Patch CDN\" readonly dense style=\"width: 200px;\" />\n        <q-input v-model.trim=\"poePatch\" filled hint=\"Patch #\" dense placeholder=\"3.11.x.x.x\" style=\"width: 100px;\" />\n        <q-input v-model.trim=\"ggpkPath\" filled hint=\"Path inside GGPK\" dense placeholder=\"/Data/BaseItemTypes.dat64\" style=\"width: 250px;\" />\n        <q-btn label=\"Import\" color=\"primary\" @click=\"cdnImport\" :loading=\"isCdnImportRunning\" />\n      </div>\n    </q-card-section>\n    <q-separator />\n    <q-card-section>\n      <div class=\"flex items-baseline\">\n        <q-file\n          label=\"Pick local file\"\n          accept=\".dat,.dat64\"\n          filled dense\n          style=\"max-width: 250px\"\n          @input=\"handleFile\"\n        />\n        <q-space />\n        <div class=\"text-caption text-italic text-grey-7 q-mr-sm\">{{ (totalSize / 1000000).toFixed(2) }} MB stored</div>\n        <q-btn label=\"Recent files\" @click=\"showRecent = !showRecent\"\n          flat no-caps dense :icon-right=\"fasAngleDown\" text-color=\"grey-8\" />\n      </div>\n      <q-slide-transition>\n        <div v-show=\"!showRecent\">\n          <div class=\"q-pt-sm\">\n            Or import <a @click.prevent=\"importDemo\" class=\"q-link text-primary\" style=\"border-bottom: 1px dashed currentColor;\" href=\"#\">demo file</a>\n          </div>\n        </div>\n      </q-slide-transition>\n      <q-slide-transition>\n        <div v-show=\"showRecent\">\n          <div class=\"q-pt-sm\"><q-space /></div>\n          <q-markup-table flat bordered class=\"q-mt-xs scroll\" style=\"max-height: 40vh;\">\n            <thead>\n              <tr><th class=\"text-left text-grey-7 no-border\" colspan=\"4\" style=\"font-size: 0.875rem; font-weight: normal;\">Recent files</th></tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"file of cacheFiles\" :key=\"file.sha256\">\n                <td class=\"text-left\">\n                  <div>\n                    <span class=\"text-weight-medium\">{{ file.ggpkPath }}</span>\n                    <span v-if=\"file.patch\" class=\"text-grey-8\"> - {{ file.patch }}</span>\n                  </div>\n                  <div class=\"text-caption text-grey-8\">\n                    SHA-256: {{ file.sha256.substr(0, 7) }}&mldr;\n                  </div>\n                </td>\n                <td class=\"text-right\">\n                  {{ file.cachedAt.toLocaleDateString(undefined, { day: 'numeric', month: 'short', year: 'numeric' }) }}\n                </td>\n                <td class=\"text-right\">\n                  {{ (file.size / 1000000).toFixed(2) }} MB\n                </td>\n                <td class=\"text-right\">\n                  <div class=\"text-grey-8 q-gutter-xs\">\n                    <q-btn @click=\"remove(file.sha256)\" class=\"gt-xs\" size=\"12px\" dense label=\"Delete\" outline />\n                    <q-btn @click=\"open(file.sha256)\" size=\"12px\" dense label=\"Open\" color=\"primary\" />\n                  </div>\n                </td>\n              </tr>\n            </tbody>\n          </q-markup-table>\n        </div>\n      </q-slide-transition>\n    </q-card-section>\n  </q-card>\n</template>\n\n<script>\nimport { fasAngleDown, fasEraser } from '@quasar/extras/fontawesome-v5'\nimport { getAllFilesMeta, deleteByHash } from './dat/file-cache'\nimport { importFromPoeCdn, importFromFile, getByHash, findLatestHeaders, getNamePart } from './dat/dat-file'\nimport { DEMO_HDRS } from './viewer/_demo_data'\n\nexport default {\n  async created () {\n    this.fasAngleDown = fasAngleDown\n\n    this.cacheFiles = await getAllFilesMeta()\n  },\n  inject: ['app', 'viewer'],\n  data () {\n    return {\n      showRecent: false,\n      poePatch: '',\n      ggpkPath: '',\n      isCdnImportRunning: false,\n      cacheFiles: []\n    }\n  },\n  computed: {\n    totalSize () {\n      return this.cacheFiles.reduce((total, file) => total + file.size, 0)\n    }\n  },\n  methods: {\n    async handleFile (e) {\n      try {\n        const datFile = await importFromFile(e)\n        this.cacheFiles = await getAllFilesMeta()\n        await this.commonImport(datFile, true)\n      } catch (e) {\n        this.$q.notify({ color: 'negative', message: e.message, progress: true })\n      }\n    },\n    async cdnImport () {\n      try {\n        this.isCdnImportRunning = true\n        const datFile = await importFromPoeCdn(this.poePatch, this.ggpkPath)\n        this.cacheFiles = await getAllFilesMeta()\n        await this.commonImport(datFile, true)\n      } catch (e) {\n        this.$q.notify({ color: 'negative', message: e.message, progress: true })\n      } finally {\n        this.isCdnImportRunning = false\n      }\n    },\n    async importDemo () {\n      try {\n        this.poePatch = '3.11.1.6.2'\n        this.ggpkPath = 'Data/Russian/BaseItemTypes.dat'\n        {\n          this.isCdnImportRunning = true\n          const datFile = await importFromPoeCdn(this.poePatch, this.ggpkPath)\n          this.cacheFiles = await getAllFilesMeta()\n          await this.commonImport(datFile, false, true)\n        }\n        try {\n          await this.viewer.tryImportHeaders(DEMO_HDRS)\n        } catch (e) { console.error(e) }\n      } catch (e) {\n        this.$q.notify({ color: 'negative', message: e.message, caption: 'You may need to adjust the patch version.', progress: true })\n      } finally {\n        this.isCdnImportRunning = false\n      }\n    },\n    async commonImport (datFile, findHeaders, doNotImportHeaders) {\n      try {\n        this.$q.loading.show({ delay: 0 })\n        await this.viewer.loadDat(datFile)\n        try {\n          if (findHeaders && !datFile.meta.headers.length) {\n            const headers = await findLatestHeaders(getNamePart(datFile.meta.ggpkPath))\n            if (headers) {\n              // NOTE: mutating headers after `viewer.loadDat(datFile)`\n              datFile.meta.headers = headers\n            }\n          }\n          if (!doNotImportHeaders) {\n            await this.viewer.tryImportHeaders(datFile.meta.headers)\n          }\n        } catch (e) {\n          this.$q.notify({ color: 'warning', message: e.message, progress: true })\n        }\n        this.app.importDialog = false\n      } finally {\n        this.$q.loading.hide()\n      }\n    },\n    async remove (hash) {\n      await deleteByHash(hash)\n      this.cacheFiles = await getAllFilesMeta()\n    },\n    async open (hash) {\n      try {\n        const datFile = await getByHash(hash)\n        await this.commonImport(datFile, false)\n      } catch (e) {\n        this.$q.notify({ color: 'negative', message: e.message, progress: true })\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImportDialog.vue?vue&type=template&id=412fa542&\"\nimport script from \"./ImportDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./ImportDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-card',{staticStyle:{\"width\":\"500px\",\"max-width\":\"80vw\"}},[_c('q-card-section',[_c('div',{staticClass:\"text-h6\"},[_vm._v(\"Settings\")])]),_c('q-card-section',[_vm._v(\" There is nothing to configure here yet. Open an issue on GitHub for new settings. \")]),_c('q-card-actions',{attrs:{\"align\":\"right\"}},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"flat\":\"\",\"dense\":\"\"}},[_vm._v(\"Close\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./SettingsDialog.vue?vue&type=template&id=097839d4&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","const MAX_PER_FRAME = 10\n\nexport const CPUTask = {\n  mustYield: (prevTime: number) =>\n    (performance.now() - prevTime) >= MAX_PER_FRAME,\n  yield: () =>\n    new Promise<number>(resolve => requestAnimationFrame(ms => { resolve(ms) }))\n}\n","import { DatFile, BinaryReader } from './dat-file'\nimport { isNULL } from './reader'\nimport { CPUTask } from '../cpu-task'\n\nexport interface ColumnStats {\n  b00: boolean\n  b01: boolean\n  bMax: number\n  nullableMemsize: boolean\n  keySelf: boolean\n  refString: boolean\n  refArray: {\n    boolean: boolean\n    short: boolean\n    long: boolean\n    longLong: boolean\n    string: boolean\n    keySelf: boolean\n    keyForeign: boolean\n  } | false\n  memsize: number\n}\n\nexport async function analyze (datFile: DatFile) {\n  const isValidVariableOffset = (offset: number) =>\n    offset < datFile.readerVariable.byteLength && offset >= 4\n\n  const stats = new Array(datFile.rowLength).fill(undefined)\n    .map<ColumnStats>(_ => ({\n      b00: true,\n      b01: true,\n      bMax: 0,\n      nullableMemsize: false,\n      keySelf: true,\n      refString: true,\n      refArray: {\n        boolean: true,\n        short: true,\n        long: true,\n        longLong: true,\n        string: true,\n        keyForeign: true,\n        keySelf: true\n      },\n      memsize: datFile.memsize\n    }))\n\n  let start = await CPUTask.yield()\n  for (let bi = 0; bi < datFile.rowLength; bi += 1) {\n    const stat = stats[bi]\n    const sMem = (datFile.rowLength - bi) >= datFile.memsize\n    const sMemMem = (datFile.rowLength - bi) >= datFile.memsize * 2\n\n    if (!sMem) {\n      stat.refString = false\n      stat.keySelf = false\n    }\n\n    if (!sMemMem) {\n      stat.refArray = false\n    }\n\n    for (let ri = 0; ri < datFile.rowCount; ri += 1) {\n      const row = ri * datFile.rowLength\n\n      const byte = datFile.dataFixed[row + bi]\n      stat.b00 = stat.b00 && (byte === 0x00)\n      stat.b01 = stat.b01 && (byte === 0x01)\n      stat.bMax = Math.max(stat.bMax, byte)\n\n      if (!stat.nullableMemsize && sMem) {\n        stat.nullableMemsize = (\n          byte === 0xfe &&\n          isNULL(datFile.readerFixed.getSizeT(row + bi), datFile.memsize)\n        )\n      }\n\n      if (stat.refString) {\n        const varOffset = datFile.readerFixed.getSizeT(row + bi)\n        stat.refString = isValidVariableOffset(varOffset) &&\n          isStringAtOffset(varOffset, datFile.readerVariable)\n      }\n\n      if (stat.keySelf) {\n        const rowIdx = datFile.readerFixed.getSizeT(row + bi)\n        if (!isNULL(rowIdx, datFile.memsize)) {\n          stat.keySelf = (rowIdx < datFile.rowCount)\n        }\n      }\n\n      if (stat.refArray) {\n        const arrayLength = datFile.readerFixed.getSizeT(row + bi)\n        const varOffset = datFile.readerFixed.getSizeT(row + bi + datFile.memsize)\n        if (\n          !isValidVariableOffset(varOffset) ||\n          !isValidVariableOffset(varOffset + (1 * arrayLength))\n        ) {\n          if (arrayLength !== 0 || varOffset !== datFile.readerVariable.byteLength) {\n            stat.refArray = false\n          }\n        } else {\n          stat.refArray.short = stat.refArray.short &&\n            isValidVariableOffset(varOffset + (2 * arrayLength))\n          stat.refArray.long = stat.refArray.long &&\n            isValidVariableOffset(varOffset + (4 * arrayLength))\n          stat.refArray.longLong = stat.refArray.longLong &&\n            isValidVariableOffset(varOffset + (8 * arrayLength))\n          stat.refArray.string = stat.refArray.string &&\n            isValidVariableOffset(varOffset + (datFile.memsize * arrayLength))\n          stat.refArray.keySelf = stat.refArray.keySelf &&\n            isValidVariableOffset(varOffset + (datFile.memsize * arrayLength))\n          stat.refArray.keyForeign = stat.refArray.keyForeign &&\n            isValidVariableOffset(varOffset + ((datFile.memsize * 2) * arrayLength))\n\n          for (let idx = 0; idx < arrayLength && stat.refArray.string; idx += 1) {\n            const strOffset = datFile.readerVariable.getSizeT(varOffset + (datFile.memsize * idx))\n            stat.refArray.string = isValidVariableOffset(strOffset) &&\n              isStringAtOffset(strOffset, datFile.readerVariable)\n          }\n\n          for (let idx = 0; idx < arrayLength && stat.refArray.keySelf; idx += 1) {\n            const rowIdx = datFile.readerVariable.getSizeT(varOffset + (datFile.memsize * idx))\n            if (!isNULL(rowIdx, datFile.memsize)) {\n              stat.refArray.keySelf = (rowIdx < datFile.rowCount)\n            }\n          }\n\n          for (let idx = 0; idx < arrayLength && stat.refArray.boolean; idx += 1) {\n            stat.refArray.boolean = (\n              datFile.dataVariable[varOffset + idx] === 0x00 ||\n              datFile.dataVariable[varOffset + idx] === 0x01\n            )\n          }\n\n          if (\n            !stat.refArray.string &&\n            !stat.refArray.longLong &&\n            !stat.refArray.long &&\n            !stat.refArray.short &&\n            !stat.refArray.boolean\n          ) {\n            stat.refArray = false\n          }\n        }\n      }\n    }\n\n    if (CPUTask.mustYield(start)) {\n      start = await CPUTask.yield()\n    }\n  }\n\n  return stats\n}\n\nfunction isStringAtOffset (offset: number, data: BinaryReader) {\n  while (true) {\n    if ((offset + 3) >= data.byteLength) {\n      return false\n    }\n    const c1 = data.getUint16(offset)\n    const c2 = data.getUint16(offset + 2)\n    if (c1 === 0x0000 && c2 === 0x0000) {\n      break\n    }\n    // + 0000 = 00000\n    // + D7FF = 55295\n    // h D800 = 55296\n    // h DBFF = 56319\n    // l DC00 = 56320\n    // l DFFF = 57343\n    // + E000 = 57344\n    // + FFFF = 65535\n    if (c1 > 0xD7FF && c1 < 0xE000) {\n      if (c1 > 0xDBFF) {\n        return false\n      }\n      if (c2 < 0xDC00 || c2 > 0xDFFF) {\n        return false\n      } else {\n        offset += 4\n      }\n    } else {\n      offset += 2\n    }\n  }\n  return true\n}\n","import { DatFile } from '../dat/dat-file'\nimport { analyze, ColumnStats } from '../dat/analysis'\nimport { Header, createHeaderFromSelected } from './headers'\nimport { selectColsByHeader, clearColumnSelection } from './selection'\nimport { calcRowNumLength, cacheHeaderDataView } from './formatting'\nimport { DatSerializedHeader, getHeaderLength, validateImportedHeader, serializeHeaders } from '../exporters/internal'\nimport { updateFileHeaders } from '../dat/file-cache'\nimport { CPUTask } from '../cpu-task'\n\nexport interface StateColumn {\n  readonly offset: number\n  readonly colNum99: string\n  readonly colNum100: string\n  selected: boolean\n  header: Header | null\n  dataStart: boolean\n  readonly stats: {\n    string: boolean\n    array: boolean\n    b00: boolean\n    nullable: boolean\n    bMax: string\n  }\n}\n\nexport class App {\n  exportSchemaDialog = false\n  helpDialog = false\n  importDialog = true\n  settingsDialog = false\n  config = {\n    rowNumStart: 0,\n    colNumStart: 0\n  }\n\n  viewers: Array<{ instance: Viewer }> = []\n\n  constructor () {\n    this.viewers.push({ instance: new Viewer(this) })\n  }\n}\n\nconst ROW_NUM_MIN_LENGTH = 4\n\nclass Viewer {\n  headers = [] as Header[]\n  columns = [] as StateColumn[]\n  datFile = null as DatFile | null\n  columnStats = [] as ColumnStats[]\n  rowNumberLength = -1\n  editHeader = null as Header | null\n  rowSorting = null as number[] | null\n\n  // eslint-disable-next-line no-useless-constructor\n  constructor (\n    private app: App\n  ) {}\n\n  async loadDat (parsed: DatFile) {\n    const { app } = this\n    this.columnStats = await analyze(parsed)\n    this.rowNumberLength = calcRowNumLength(parsed.rowCount, app.config.rowNumStart, ROW_NUM_MIN_LENGTH)\n    this.datFile = parsed\n    this.columns = this.stateColumns(this.columnStats)\n    this.rowSorting = null\n    if (parsed.rowLength) {\n      this.headers = [{\n        name: null,\n        offset: 0,\n        length: parsed.rowLength,\n        type: {\n          byteView: {}\n        }\n      }]\n    } else {\n      this.headers = []\n    }\n  }\n\n  stateColumns (columnStats: ColumnStats[]) {\n    const { app } = this\n    const columns = new Array(columnStats.length).fill(undefined)\n      .map<StateColumn>((_, idx) => ({\n        offset: idx,\n        colNum99: String((idx + app.config.colNumStart) % 100).padStart(2, '0'),\n        // colNum100: String(Math.floor((idx + this.app.config.colNumStart) / 100)),\n        colNum100: String(idx + app.config.colNumStart).padStart(2, '0'),\n        selected: false,\n        header: null,\n        dataStart: false,\n        stats: {\n          string: false,\n          array: false,\n          b00: columnStats[idx].b00,\n          bMax: columnStats[idx].bMax.toString(16).padStart(2, '0'),\n          nullable: false\n        }\n      }))\n\n    for (let idx = 0; idx < columnStats.length; idx += 1) {\n      const stat = columnStats[idx]\n      if (stat.refString) {\n        for (let k = 0; k < stat.memsize; k += 1) {\n          columns[idx + k].stats.string = true\n        }\n      }\n      if (stat.refArray) {\n        for (let k = 0; k < stat.memsize * 2; k += 1) {\n          columns[idx + k].stats.array = true\n        }\n      }\n      if (stat.nullableMemsize) {\n        for (let k = 0; k < stat.memsize; k += 1) {\n          columns[idx + k].stats.nullable = true\n        }\n      }\n    }\n\n    return columns\n  }\n\n  async tryImportHeaders (serialized: DatSerializedHeader[]) {\n    const { datFile, columns, columnStats, headers } = this\n    let start = await CPUTask.yield()\n\n    let offset = 0\n    for (const hdrSerialized of serialized) {\n      const headerLength = getHeaderLength(hdrSerialized, datFile!.memsize)\n      if (hdrSerialized.name == null) {\n        offset += headerLength\n        continue\n      }\n\n      let header = {\n        length: headerLength,\n        offset: offset,\n        type: hdrSerialized.type\n      } as Header\n\n      const isValid = validateImportedHeader(header, columnStats)\n      if (!isValid) {\n        throw new Error('The schema is invalid.')\n      }\n\n      selectColsByHeader(header, columns)\n      header = createHeaderFromSelected(columns, headers)\n      header.name = hdrSerialized.name\n      clearColumnSelection(columns)\n\n      const type = hdrSerialized.type\n      if (type.boolean || type.decimal || type.integer || type.key || type.string) {\n        header.type = type\n        cacheHeaderDataView(header, this.datFile!)\n        this.disableByteView(header)\n      }\n\n      offset += headerLength\n\n      if (CPUTask.mustYield(start)) {\n        start = await CPUTask.yield()\n      }\n    }\n  }\n\n  async saveHeadersToFileCache () {\n    await updateFileHeaders(\n      serializeHeaders(this.headers),\n      this.datFile!.meta.sha256\n    )\n  }\n\n  disableByteView (header: Header) {\n    const { columns } = this\n    header.type.byteView = undefined\n    const colIdx = columns.findIndex(col => col.offset === header.offset)\n    columns.splice(colIdx + 1, header.length - 1)\n    columns[colIdx].header = header\n    columns[colIdx].selected = false\n  }\n\n  enableByteView (header: Header) {\n    const { columns, columnStats } = this\n    header.type.byteView = {}\n    const colIdx = columns.findIndex(col => col.offset === header.offset)\n    const fresh = this.stateColumns(columnStats)\n    columns.splice(colIdx + 1, 0, ...fresh.slice(header.offset + 1, header.offset + header.length))\n    columns[colIdx].header = null\n  }\n}\n","<template>\n  <div class=\"layout-column\">\n    <div class=\"app-titlebar\">\n      <div v-if=\"viewer.datFile\" class=\"ellipsis q-mr-xs\">{{ viewer.datFile.meta.ggpkPath }}</div>\n      <q-space />\n      <q-btn padding=\"0 sm\" label=\"Import\" no-caps flat @click=\"app.importDialog = true\" class=\"q-mr-sm\" />\n      <q-btn padding=\"0 sm\" label=\"Help\" no-caps flat @click=\"app.helpDialog = true\" class=\"q-mr-sm\" />\n      <q-btn padding=\"0 sm\" label=\"Settings\" no-caps flat @click=\"app.settingsDialog = true\" />\n    </div>\n    <q-dialog v-model=\"app.exportSchemaDialog\">\n      <export-schema />\n    </q-dialog>\n    <q-dialog v-model=\"app.helpDialog\">\n      <help-content />\n    </q-dialog>\n    <q-dialog v-model=\"app.importDialog\">\n      <import-dialog />\n    </q-dialog>\n    <q-dialog v-model=\"app.settingsDialog\">\n      <settings-dialog />\n    </q-dialog>\n    <div class=\"flex no-wrap bg-blue-grey-9 q-pa-sm\">\n      <div class=\"flex no-wrap\">\n        <template v-if=\"selections.length === 0\">\n          <div class=\"text-blue-grey-4 text-italic\">No bytes selected</div>\n        </template>\n        <template v-else-if=\"selections.length === 1\">\n          <q-btn @click=\"defineColumn\" padding=\"0 sm\" label=\"Define column\" no-caps color=\"blue-grey-8\" />\n        </template>\n        <template v-else-if=\"selections.length > 1\">\n          <div class=\"text-blue-grey-2 q-pr-xs\">Selections</div>\n          <!-- eslint-disable-next-line vue/require-v-for-key -->\n          <div v-for=\"sel in selections\"\n            class=\"q-px-xs q-mr-xs font-mono bg-blue-grey-2 text-blue-grey-10 rounded-borders\"\n            >{{ sel }}</div>\n        </template>\n      </div>\n      <q-space />\n      <div class=\"flex no-wrap q-gutter-x-sm\">\n        <q-btn @click=\"viewer.rowSorting = null\" v-if=\"viewer.rowSorting\" padding=\"0 sm\" label=\"Reset sorting\" no-caps color=\"blue-grey-8\" />\n        <q-btn @click=\"app.exportSchemaDialog = true\" :disable=\"!viewer.datFile\" padding=\"0 sm\" label=\"Export schema\" no-caps color=\"blue-grey-8\" />\n      </div>\n    </div>\n    <div class=\"flex min-h-0 flex-1\">\n      <div class=\"layout-column min-w-0 flex-1\">\n        <div\n          class=\"flex-1 font-mono scroll\"\n          style=\"--ppc: 8px; letter-spacing: calc(var(--ppc) - 1ch);\"\n          id=\"viewer-fancy-scroll\"\n        >\n          <q-virtual-scroll\n            :items=\"rows\"\n            :virtual-scroll-item-size=\"21\"\n            scroll-target=\"#viewer-fancy-scroll > .scroll\"\n            style=\"min-width: min-content;\"\n            >\n            <template #before>\n              <viewer-head\n                :headers=\"viewer.headers\"\n                :columns=\"viewer.columns\" />\n            </template>\n            <template v-slot=\"{ index }\">\n              <data-row\n                :row-idx=\"rows[index]\"\n                :format=\"rowFormat\" />\n            </template>\n          </q-virtual-scroll>\n        </div>\n        <div class=\"app-footer bg-blue-grey-9 q-pa-sm text-white text-body2 flex q-gutter-x-lg\">\n          <div>Made by Alexander Drozdov, v{{ appVersion }} <a class=\"q-link text-white border-b\" href=\"https://github.com/SnosMe/poe-dat-viewer\">GitHub</a></div>\n          <a href=\"https://discord.gg/SJjBdT3\" class=\"flex\"><img src=\"@/assets/discord-badge.svg\" /></a>\n        </div>\n      </div>\n      <div class=\"flex-shrink-0\">\n        <header-props />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport DataRow from './DataRow'\nimport ViewerHead from './ViewerHead'\nimport HeaderProps from './HeaderProps'\nimport ExportSchema from './ExportSchema'\nimport HelpContent from './HelpContent'\nimport ImportDialog from './ImportDialog'\nimport SettingsDialog from './SettingsDialog'\nimport { App } from './viewer/Viewer'\nimport { getAllFilesMeta } from './dat/file-cache'\nimport { getByHash } from './dat/dat-file'\nimport { getColumnSelections, clearColumnSelection } from './viewer/selection'\nimport { getRowFormating } from './viewer/formatting'\nimport { createHeaderFromSelected } from './viewer/headers'\n\nexport default {\n  components: { ViewerHead, HeaderProps, DataRow, ExportSchema, HelpContent, ImportDialog, SettingsDialog },\n  async created () {\n    const files = await getAllFilesMeta()\n    if (files.length) {\n      this.$q.loading.show({ delay: 0 })\n      try {\n        const datFile = await getByHash(files[0].sha256)\n        await this.viewer.loadDat(datFile)\n        await this.viewer.tryImportHeaders(datFile.meta.headers)\n        this.$q.notify({\n          color: 'primary',\n          message: 'Previous session successfully restored',\n          caption: 'You can close Import dialog.',\n          timeout: 1250\n        })\n      } catch (e) {\n        console.error(e)\n      }\n      this.$q.loading.hide()\n    }\n  },\n  provide () {\n    return {\n      viewer: this.viewer,\n      app: this.app\n    }\n  },\n  data () {\n    const app = new App()\n\n    return {\n      app: app,\n      viewer: app.viewers[0].instance\n    }\n  },\n  computed: {\n    rowComponent () {\n      return DataRow\n    },\n    rowFormat () {\n      return getRowFormating(this.viewer.columns)\n    },\n    selections () {\n      return getColumnSelections(this.viewer.columns).map(range =>\n        range.map(col => col.colNum100).join(' ')\n      )\n    },\n    rows () {\n      if (this.viewer.datFile) {\n        if (this.viewer.rowSorting) {\n          return this.viewer.rowSorting\n        } else {\n          return new Array(this.viewer.datFile.rowCount).fill(undefined)\n            .map((_, idx) => idx)\n        }\n      }\n      return []\n    },\n    appVersion () {\n      return process.env.APP_VERSION\n    }\n  },\n  methods: {\n    defineColumn () {\n      const { viewer } = this\n      viewer.editHeader = createHeaderFromSelected(viewer.columns, viewer.headers)\n      clearColumnSelection(viewer.columns)\n      viewer.saveHeadersToFileCache()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import '@/styles/quasar.variables';\n\n.app-titlebar {\n  display: flex;\n  justify-content: space-between;\n  padding: 0.5rem;\n  background: $blue-grey-9;\n  color: $grey-1;\n  box-shadow: $shadow-1;\n  z-index: 1;\n}\n\n.app-footer {\n  img {\n    filter: grayscale(0.75);\n  }\n\n  &:hover {\n    img {\n      filter: grayscale(0);\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Analyze.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Analyze.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Analyze.vue?vue&type=template&id=4cd670e0&\"\nimport script from \"./Analyze.vue?vue&type=script&lang=js&\"\nexport * from \"./Analyze.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Analyze.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <analyze />\n  </div>\n</template>\n\n<script>\nimport Analyze from './app/Analyze'\n\nexport default {\n  name: 'App',\n  components: { Analyze }\n}\n</script>\n\n<style lang=\"scss\">\n@import '@/styles/quasar.variables';\n\n#app {\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  justify-content: space-between;\n}\n\n.layout-column {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.flex-1 { flex: 1 1 0%; }\n.flex-shrink-0 { flex-shrink: 0; }\n\n.min-h-0 { min-height: 0; }\n.min-w-0 { min-width: 0; }\n.h-full { height: 100%; }\n\n.q-px-px { padding-right: 1px; padding-left: 1px; }\n.q-mx-px { margin-right: 1px; margin-left: 1px; }\n.q-mr-px { margin-right: 1px; }\n\n.font-sans { font-family: $font-sans; }\n.font-mono { font-family: $font-mono; }\n\n.border-b { border-bottom: 1px solid currentColor; }\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=78d7c5e7&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\n\nimport './styles/quasar.scss'\nimport iconSet from 'quasar/icon-set/fontawesome-v5.js'\nimport {\n  Quasar,\n  QBtn,\n  QVirtualScroll,\n  QScrollArea,\n  QBtnGroup,\n  QInput,\n  QBtnToggle,\n  QOptionGroup,\n  QToggle,\n  QDialog,\n  ClosePopup,\n  QCard,\n  QCardActions,\n  QCardSection,\n  QSpace,\n  QTab,\n  QTabs,\n  QTabPanel,\n  QTabPanels,\n  QSeparator,\n  QMarkupTable,\n  QLinearProgress,\n  QBadge,\n  QFile,\n  QSlideTransition,\n  QIcon,\n  QItem,\n  QItemSection,\n  QItemLabel,\n  QList,\n  Notify,\n  Loading\n} from 'quasar'\n\nVue.use(Quasar, {\n  config: {},\n  components: {\n    QOptionGroup,\n    QBtnToggle,\n    QInput,\n    QBtnGroup,\n    QScrollArea,\n    QVirtualScroll,\n    QBtn,\n    QToggle,\n    QDialog,\n    QCard,\n    QCardActions,\n    QCardSection,\n    QSpace,\n    QTab,\n    QTabs,\n    QTabPanel,\n    QTabPanels,\n    QSeparator,\n    QMarkupTable,\n    QLinearProgress,\n    QBadge,\n    QFile,\n    QSlideTransition,\n    QIcon,\n    QItem,\n    QItemSection,\n    QItemLabel,\n    QList\n  },\n  directives: {\n    ClosePopup\n  },\n  plugins: {\n    Notify,\n    Loading\n  },\n  iconSet: iconSet\n})\n","import Vue from 'vue'\nimport App from './App.vue'\nimport './quasar'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App)\n}).$mount('#app')\n"],"sourceRoot":""}