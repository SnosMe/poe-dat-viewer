{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/app/workbench/Tabs.vue?f312","webpack:///./src/CanvasScroll.vue?ba8f","webpack:///./src/app/workbench/IndexTree.vue?f430","webpack:///./src/app/workbench/DownloadProgress.vue?c535","webpack:///./src/app/workbench/Workbench.vue?c624","webpack:///./src/app/dat-viewer/components/ViewerHead.vue?0dfc","webpack:///./src/assets/discord-badge.svg","webpack:///./src/app/workbench/DownloadProgress.vue?ba3e","webpack:///./src/app/dat-viewer/components/Actions.vue?66ee","webpack:///./src/app/dat-viewer/components/DatViewer.vue?7881","webpack:///./src/app/workbench/Tabs.vue?1391","webpack:///./src/app/workbench/IndexTree.vue?b494","webpack:///./src/app/dat-viewer/components/Actions.vue?beeb","webpack:///./src/app/workbench/Workbench.vue","webpack:///./src/app/workbench/Tabs.vue","webpack:///./src/app/workbench/ImportDialog.vue","webpack:///./src/app/patchcdn/cache.ts","webpack:///./src/app/worker/script.ts","webpack:///./src/app/worker/interface.ts","webpack:///./src/app/patchcdn/index-store.ts","webpack:///./src/app/dat-viewer/components/DatViewer.vue","webpack:///./src/ResizeObserver.vue","webpack:///./src/ResizeObserver.vue?2943","webpack:///./src/ResizeObserver.vue?09a0","webpack:///./src/CanvasScroll.vue","webpack:///./src/CanvasScroll.vue?f0fe","webpack:///./src/CanvasScroll.vue?07ce","webpack:///./src/app/dat-viewer/selection.ts","webpack:///./src/app/dat-viewer/headers.ts","webpack:///./src/app/dat-viewer/db.ts","webpack:///./src/app/dat-viewer/Viewer.ts","webpack:///./src/app/dat-viewer/components/Actions.vue","webpack:///./src/app/dat-viewer/components/Actions.vue?671c","webpack:///./src/app/dat-viewer/components/Actions.vue?08f4","webpack:///./src/app/dat-viewer/components/ViewerHead.vue","webpack:///./src/app/dat-viewer/sorting.ts","webpack:///./src/app/dat-viewer/rendering/content.ts","webpack:///./src/app/dat-viewer/rendering.ts","webpack:///./src/app/dat-viewer/rendering/header-columns.ts","webpack:///./src/app/dat-viewer/components/ViewerHead.vue?17b0","webpack:///./src/app/dat-viewer/components/ViewerHead.vue?bddf","webpack:///./src/app/dat-viewer/components/HeaderProps.vue","webpack:///./src/app/dat-viewer/components/HeaderProps.vue?b5bd","webpack:///./src/app/dat-viewer/components/HeaderProps.vue?b072","webpack:///./src/app/dat-viewer/rendering/byte-columns.ts","webpack:///./src/app/dat-viewer/components/DatViewer.vue?ab25","webpack:///./src/app/dat-viewer/components/DatViewer.vue?8b2f","webpack:///./src/app/workbench/ImportDialog.vue?a392","webpack:///./src/app/workbench/ImportDialog.vue?224a","webpack:///./src/app/workbench/workbench-core.ts","webpack:///./src/app/workbench/Tabs.vue?e93e","webpack:///./src/app/workbench/Tabs.vue?37e7","webpack:///./src/app/workbench/IndexTree.vue","webpack:///./src/VirtualScroll.vue","webpack:///./src/VirtualScroll.vue?c3e9","webpack:///./src/VirtualScroll.vue?d610","webpack:///./src/perf.ts","webpack:///./src/app/workbench/IndexTree.vue?7ab0","webpack:///./src/app/workbench/IndexTree.vue?945e","webpack:///./src/app/workbench/DownloadProgress.vue","webpack:///./src/app/workbench/DownloadProgress.vue?2727","webpack:///./src/app/workbench/DownloadProgress.vue?b4cf","webpack:///./src/app/workbench/Workbench.vue?8885","webpack:///./src/app/workbench/Workbench.vue?056c","webpack:///./src/main.ts","webpack:///./src/CanvasScroll.vue?248b","webpack:///./src/app/workbench/ImportDialog.vue?4adc","webpack:///./src/app/workbench/ImportDialog.vue?1d5b","webpack:///./src/app/dat-viewer/components/DatViewer.vue?9536"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","href","src","activeTab","type","args","id","ka-state","kaState","appVersion","title","$style","titlebar","tabs","tab","active","isActive","setActiveTab","closeTab","openImport","style","for","readonly","input","label","poePatch","placeholder","cdnImport","disabled","isCdnImportRunning","loading","accept","handleFile","BUNDLE_DIR","progress","totalSize","received","bundleName","async","fetchFile","patchVer","localStorage","getItem","Error","_fetchFile","e","alert","path","cache","caches","open","res","match","fetch","status","statusText","buf","Number","headers","reader","body","getReader","chunks","done","read","Uint8Array","bufPos","chunk","set","delete","put","Response","String","byteLength","buffer","arrayBuffer","Worker_fn","Worker","thread","decompressBundle","bundle","byteOffset","decompressSliceInBundle","bundleSlice","decompressFileTransferBundle","offset","size","analyzeDatFile","datFile","index","loadFileContent","fullPath","location","bundlesInfo","filesInfo","bundleBin","loadIndex","indexBin","indexBundle","_index","dirsInfo","pathReps","pathRepsBundle","handleResize","headerBlockStyle","headerOverlayContentStyle","left","scrollLeft","width","rowsWidth","columns","renderColumns","ref","handleScroll","scrollableStyle","paint-size","scrollablePaintSize","full-size","scrollableFullSize","handleCanvasClick","rowsOverlay","rowsOverlayStyle","renderItems","top","ids","rowIdx","LINE_HEIGHT","rowsNumberWidth","position","focusEditingHeader","tag","data-role","props","default","emits","ctx","rootEl","resizeObserver","ResizeObserver","entries","emit","contentRect","height","observe","unobserve","render","scrollable","paintSize","handleMousedown","handleMousewheel","track","y","handleTrackMousedownY","scrollbarY","fixedSize","trackSize","thumb","x","handleTrackMousedownX","scrollbarX","MIN_THUMB_SIZE","SCROLL_DIR_THRESHOLD","WHEEL_SCROLL_SPEED","SCROLL_ACCELERATION_FN","dt","Math","max","pow","sign","scrollbar","scrollSize","otherScrollbar","scrollPos","thumbSize","floor","thumbRatio","thumbPos","round","useMouseMiddleButtonScroll","scrollByDelta","startY","startX","deltaY","deltaX","direction","rafTime","rafId","button","preventDefault","stopPropagation","document","cursor","clientY","clientX","requestAnimationFrame","scrollEachFrame","addEventListener","handleMouseMove","cancelScroll","cancelAnimationFrame","removeEventListener","removeProperty","dy","dx","abs","time","dtTime","useMouseWheelScroll","useScrollbarScroll","axis","scrollTo","start","rectProp","mEventProp","handleTrackMousedown","trackEl","currentTarget","getBoundingClientRect","target","thumbEl","undefined","required","fullSize","widthY","widthX","min","deep","cssModules","__cssModules","selectColsByHeader","header","selection","toggleColsBetween","a","b","end","filter","hdr","byteView","array","some","clearColumnSelection","fill","getColumnSelections","ranges","last","idx","indexOf","curr","removeHeadersAtOffsets","offsets","removeHeader","createHeaderFromSelected","selections","selected","emptyHeader","find","updatedHeaders","textLength","merged","mergeEmptyHeaders","h1","h2","db","createObjectStore","keyPath","findByName","record","fromJsonSchema","saveHeaders","serializeHeaders","map","string","boolean","decimal","integer","sch","schema","enum","column","unsigned","foreign","references","table","createViewer","fileContent","parsed","viewer","rowLength","getNamePart","columnStats","columnSelection","Array","editHeader","selectedRow","rowSorting","then","stats","tryImportHeaders","message","serialized","hdrSerialized","headerLength","isValid","headerCreated","assign","exportAllRows","data_","every","row","entry","unknown","rid","unshift","rowCount","_","fromEntries","col","bar","defineColumn","range","exportDataJson","join","saveAs","File","JSON","stringify","headersRowStyle","border","widthPx","transform","leftPx","handleHeaderWheel","$event","colsRowStyle","selectStart","selectContinue","text","statsRowStyle","stat","sortRows","order","rows","from","sort","ai","bi","localeCompare","numberToString","out","color","numberArrayToString","booleanToString","booleanArrayToString","stringToString","stringArrayToString","str","keySelfToString","keySelfArrayToString","keyForeignToString","keyForeignArrayToString","renderCellContent","draw","textY","prevColor","fillStyle","fillText","drawByteView","begin","dataFixed","subarray","hexDump","byte","toString","padStart","CHAR_WIDTH","drawArrayVarData","refArray","entryMaxLength","keyForeign","fieldSize","KEY_FOREIGN","keySelf","KEY","STRING","longLong","LONGLONG","long","LONG","short","SHORT","maxReadBytes","ceil","arrayLength","readerFixed","getSizeT","varOffset","memsize","dataVariable","FONT_FAMILY","FONT_SIZE","getMonoFontWidth","XBASE_HEIGHT","getFontBaseLine","ROWNUM_MIN_LENGTH","BORDER_WIDTH","COLUMN_STAT_HEIGHT","COLUMN_BYTE_HEIGHT","HEADERS_HEIGHT","rowNumLength","maxLen","rowsNumWidth","fontSize","fontFamily","canvasEl","createElement","context","getContext","font","metrics","measureText","textBaseline","xBase","alphabeticBaseline","actualBoundingBoxDescent","getBaseLine","lineHeight","drawRows","params","fillRect","canvas","selectedIdx","save","translate","drawColumns","restore","renderers","getColumnRenderers","paintWidth","beginPath","rect","clip","exec","grdH","createLinearGradient","addColorStop","grdV","paintBegin","paintEnd","sizes","columnSizes","borderWidth","paddingWidth","hexBegin","hexEnd","hasBorder","getRowWidth","renderHeaderCols","activeHeader","sortOrder","selectionStart","colsBeforeSelection","cancelSelection","buttons","len","h","ctrlKey","$emit","close","spellcheck","viewModeOpts","opt","byteViewMode","remove","dataTypeOpts","dataType","arrayTypeOpts","arrayType","opts","ARRAY","refString","bMax","headerRef","watchStop","isVisible","BYTE_WIDTH","renderByteCols","textLeft","thisWidth","renderColStats","nullable","zero","k","nullableMemsize","components","CanvasScroll","ViewerActions","ViewerHead","HeaderProps","canvasRef","canvasScroll","rowIndices","paintHeight","sz","pos","rowsFullWidth","rowsFullHeight","rowsOverlayWidth","rowsHeight","dpr","devicePixelRatio","alpha","scale","renderStats","scrollTop","count","startIdx","cols","offsetY","elFile","files","fileName","openTab","DatViewer","setItem","activeTabId","ImportDialog","existing","findIndex","_tabs","showTree","treeToggle","toggleTree","searchText","searchInput","extensionOpts","handleClick","isIndexLoaded","tree","scrollable-props","items","item-height","item","itemBtn","handleTreeNav","isFile","scrollableProps","itemHeight","Date","now","desc","console","log","fn","cb","t$","useTreeNavigation","currentDir","dirs","dirName","content","split","substr","endsWith","substring","lastIndexOf","VirtualScroll","Boolean","searchExtension","startsWith","ext","filteredTree","term","toLowerCase","includes","notification","toFixed","IndexTree","ViewerTabs","DownloadProgress","Workbench","mount"],"mappings":"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","file":"js/app.84dffbc4.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/poe-dat-viewer/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"titlebar\":\"Tabs_titlebar_6nlgm\",\"tab\":\"Tabs_tab_36pp7\",\"active\":\"Tabs_active_1qu2U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scrollable\":\"CanvasScroll_scrollable_KuF3M\",\"track\":\"CanvasScroll_track_35adi\",\"y\":\"CanvasScroll_y_3fkOa\",\"x\":\"CanvasScroll_x_1YqgW\",\"thumb\":\"CanvasScroll_thumb_3n3go\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"treeToggle\":\"IndexTree_treeToggle_3Gb6L\",\"searchInput\":\"IndexTree_searchInput_nlhBz\",\"itemBtn\":\"IndexTree_itemBtn_1tEbV\",\"active\":\"IndexTree_active_-QAh_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notification\":\"DownloadProgress_notification_1cAoN\"};","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Workbench.vue?vue&type=style&index=0&id=318cac7c&lang=postcss\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ViewerHead.vue?vue&type=style&index=0&id=33d1f9c7&lang=postcss\"","module.exports = __webpack_public_path__ + \"img/discord-badge.b9bc316a.svg\";","export { default } from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-0-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-0-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-0-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./DownloadProgress.vue?vue&type=style&index=0&id=1532fec4&lang=postcss&module=true\"; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-0-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-0-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-0-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./DownloadProgress.vue?vue&type=style&index=0&id=1532fec4&lang=postcss&module=true\"","export { default } from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-0-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-0-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-0-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Actions.vue?vue&type=style&index=0&id=17f50966&lang=postcss&module=true\"; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-0-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-0-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-0-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Actions.vue?vue&type=style&index=0&id=17f50966&lang=postcss&module=true\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rowsOverlay\":\"DatViewer_rowsOverlay_kP3aC\"};","export { default } from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-0-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-0-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-0-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Tabs.vue?vue&type=style&index=0&id=e9b3d8f6&lang=postcss&module=true\"; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-0-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-0-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-0-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Tabs.vue?vue&type=style&index=0&id=e9b3d8f6&lang=postcss&module=true\"","export { default } from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-0-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-0-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-0-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./IndexTree.vue?vue&type=style&index=0&id=ccf2af9c&lang=postcss&module=true\"; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-0-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-0-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-0-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./IndexTree.vue?vue&type=style&index=0&id=ccf2af9c&lang=postcss&module=true\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bar\":\"Actions_bar_3gEfG\"};","<template>\n  <index-tree />\n  <div class=\"layout-column flex-1 min-w-0\">\n    <viewer-tabs />\n    <div class=\"layout-column flex-1 min-h-0\">\n      <component\n        v-if=\"activeTab\"\n        :is=\"activeTab.type\"\n        :args=\"activeTab.args\"\n        :key=\"activeTab.id\"\n        v-model:ka-state=\"activeTab.kaState\" />\n      <div v-else\n        class=\"bg-gray-100 flex-1 text-lg text-gray-600 flex items-center justify-center\"\n        >The viewer is ready to fulfill your wishes </div>\n    </div>\n    <div class=\"app-footer\">\n      <div>Made by Alexander Drozdov, v{{ appVersion }} <a class=\"q-link text-white border-b\" href=\"https://github.com/SnosMe/poe-dat-viewer\">GitHub</a></div>\n      <a href=\"https://discord.gg/SJjBdT3\" class=\"flex ml-8\"><img src=\"@/assets/discord-badge.svg\" /></a>\n    </div>\n  </div>\n  <download-progress />\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed } from 'vue'\nimport ViewerTabs from './Tabs.vue'\nimport IndexTree from './IndexTree.vue'\nimport DownloadProgress from './DownloadProgress.vue'\nimport { tabs, activeTabId } from './workbench-core'\n\nexport default defineComponent({\n  components: { IndexTree, ViewerTabs, DownloadProgress },\n  setup () {\n    const activeTab = computed(() =>\n      tabs.value.find(tab => tab.id === activeTabId.value)\n    )\n\n    return {\n      activeTab,\n      appVersion: process.env.APP_VERSION\n    }\n  }\n})\n</script>\n\n<style lang=\"postcss\">\n@tailwind base;\n@tailwind utilities;\n@import \"~vscode-codicons/dist/codicon.css\";\n\n* {\n  outline: none !important;\n}\n\n.codicon {\n  vertical-align: text-bottom;\n}\n\n#app {\n  display: flex;\n  height: 100vh;\n  width: 100vw;\n  overflow: hidden;\n  font-size: 13px;\n  line-height: 1.5;\n}\n\n.layout-column {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.app-footer {\n  line-height: 1;\n  align-items: center;\n  display: flex;\n  @apply bg-gray-800;\n  @apply text-white;\n  @apply p-2;\n\n  img {\n    filter: grayscale(0.75);\n  }\n\n  &:hover {\n    img {\n      filter: grayscale(0);\n    }\n  }\n}\n</style>\n","<template>\n  <div :class=\"$style.titlebar\">\n    <div class=\"flex overflow-hidden divide-x divide-gray-700\">\n      <div v-for=\"tab in tabs\" :key=\"tab.id\"\n        :class=\"[$style.tab, { [$style.active]: tab.isActive }]\">\n        <button class=\"pl-3 pr-1.5\"\n          @click=\"setActiveTab(tab.id)\"\n          @contextmenu.prevent=\"closeTab(tab.id)\">{{ tab.title }}</button>\n        <button class=\"pl-1.5 pr-3\" title=\"Close\"\n          @click=\"closeTab(tab.id)\"><i class=\"codicon codicon-close\"></i></button>\n      </div>\n    </div>\n    <div class=\"flex p-1.5 flex-shrink-0 space-x-1\">\n      <button class=\"hover:bg-gray-400 hover:text-black p-2\"\n        @click=\"openImport\">Import</button>\n      <button class=\"hover:bg-gray-400 hover:text-black px-2\" title=\"Help\"><i class=\"codicon codicon-question\"></i></button>\n      <button class=\"hover:bg-gray-400 hover:text-black px-2\" title=\"Settings\"><i class=\"codicon codicon-settings\"></i></button>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed } from 'vue'\nimport { tabs, activeTabId, setActiveTab, closeTab, openTab } from './workbench-core'\nimport ImportDialog from './ImportDialog.vue'\n\nexport default defineComponent({\n  setup () {\n    const _tabs = computed(() =>\n      tabs.value.map(tab => ({\n        id: tab.id,\n        title: tab.title,\n        isActive: (tab.id === activeTabId.value)\n      }))\n    )\n\n    function openImport () {\n      openTab({\n        id: 'poe-dat-viewer@import',\n        title: 'Import',\n        type: ImportDialog,\n        args: undefined\n      })\n    }\n\n    return {\n      tabs: _tabs,\n      setActiveTab,\n      closeTab,\n      openImport\n    }\n  }\n})\n</script>\n\n<style lang=\"postcss\" module>\n.titlebar {\n  display: flex;\n  justify-content: space-between;\n  @apply bg-gray-800;\n  @apply text-gray-100;\n  z-index: 1;\n  line-height: 1;\n}\n\n.tab {\n  display: flex;\n\n  &:hover {\n    @apply bg-gray-400;\n    @apply text-black;\n  }\n\n  &.active {\n    @apply bg-gray-900;\n\n    &:hover {\n      @apply bg-gray-700;\n      @apply text-white;\n    }\n  }\n}\n</style>\n","<template>\n  <div class=\"p-4 overflow-auto border-l flex-1 text-base\">\n    <div class=\"inline-flex items-baseline border-b pb-2\">\n      <div style=\"width: 200px;\" class=\"my-1\">\n        <input value=\"patchcdn.pathofexile.com/\" readonly :class=\"$style.input\" />\n        <label :class=\"$style.label\">Patch CDN</label>\n      </div>\n      <div style=\"width: 100px;\" class=\"m-1\">\n        <input v-model.trim=\"poePatch\" placeholder=\"3.12.x.x.x\" :class=\"$style.input\" />\n        <label :class=\"$style.label\">Patch #</label>\n      </div>\n      <div style=\"width: 220px;\" class=\"my-1\">\n        <input value=\"/Bundles2/_.index.bin\" readonly :class=\"$style.input\" />\n        <label :class=\"$style.label\">Index</label>\n      </div>\n      <button class=\"ml-1 py-1 px-3 bg-blue-600 text-white hover:bg-blue-800\"\n        @click=\"cdnImport\"\n        :disabled=\"isCdnImportRunning\"\n        :loading=\"isCdnImportRunning\">{{ isCdnImportRunning ? 'Wait...' : 'Import' }}</button>\n    </div>\n    <div class=\"flex items-baseline mt-3\">\n      <label\n        class=\"bg-gray-200 py-1 px-2 cursor-pointer hover:bg-gray-400\"\n        style=\"width: 250px\"\n        for=\"import-local-file\">Pick local file</label>\n      <input\n        class=\"hidden\"\n        id=\"import-local-file\"\n        type=\"file\"\n        accept=\".dat,.dat64\"\n        @input=\"handleFile\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref } from 'vue'\nimport { fetchFile, progress } from '../patchcdn/cache'\nimport { loadIndex, loadFileContent, index } from '../patchcdn/index-store'\nimport { openTab } from './workbench-core'\nimport DatViewer from '../dat-viewer/components/DatViewer.vue'\n\nexport default defineComponent({\n  setup () {\n    const poePatch = ref(localStorage.getItem('POE_PATCH_VER') || '')\n    const isCdnImportRunning = ref(false)\n\n    if (poePatch.value && !index.value) {\n      cdnImport()\n    }\n\n    async function handleFile (e: Event) {\n      const elFile = (e.target as HTMLInputElement).files![0]\n      const fileContent = new Uint8Array(await elFile.arrayBuffer())\n      const fileName = elFile.name\n      openTab({\n        id: `file@${fileName}`,\n        title: fileName,\n        type: DatViewer,\n        args: {\n          fileContent,\n          fullPath: fileName\n        }\n      })\n    }\n\n    async function cdnImport () {\n      let bundle\n      try {\n        isCdnImportRunning.value = true\n        bundle = await fetchFile(poePatch.value, '_.index.bin')\n      } finally {\n        isCdnImportRunning.value = false\n      }\n\n      try {\n        await loadIndex(bundle)\n        localStorage.setItem('POE_PATCH_VER', poePatch.value)\n      } catch (e) {\n        window.alert(e.message)\n        throw e\n      }\n    }\n\n    return {\n      poePatch,\n      isCdnImportRunning,\n      handleFile,\n      cdnImport\n    }\n  }\n})\n</script>\n\n<style lang=\"postcss\" module>\n.input {\n  width: 100%;\n  @apply py-1 px-2;\n\n  &:not([readonly]) {\n    @apply border;\n\n    &:focus {\n      @apply border-blue-500;\n    }\n  }\n\n  &[readonly] {\n    @apply border-b;\n    @apply bg-gray-200;\n  }\n}\n\n.label {\n  @apply text-xs;\n  @apply px-2;\n  @apply text-gray-600;\n}\n</style>\n","import { reactive } from 'vue'\n\nconst BUNDLE_DIR = 'Bundles2'\n\nexport const progress = reactive({\n  totalSize: 0,\n  received: 0,\n  active: false,\n  bundleName: ''\n})\n\nexport async function fetchFile (patchVer: string | null, name: string) {\n  if (patchVer == null) {\n    patchVer = localStorage.getItem('POE_PATCH_VER')\n    if (!patchVer) throw new Error('never')\n  }\n\n  try {\n    return await _fetchFile(patchVer, name)\n  } catch (e) {\n    window.alert('You may need to adjust the patch version.')\n    throw e\n  }\n}\n\nexport async function _fetchFile (patchVer: string, name: string): Promise<ArrayBuffer> {\n  const path = `${patchVer}/${BUNDLE_DIR}/${name}`\n  let cache = await caches.open('bundles')\n  let res = await cache.match(path)\n  if (!res) {\n    progress.totalSize = 0\n    progress.received = 0\n    progress.active = true\n    progress.bundleName = name\n\n    res = await fetch(`https://poe-bundles.snos.workers.dev/${path}`)\n    if (res.status !== 200) {\n      progress.active = false\n      throw new Error(`patchcdn: ${res.status} ${res.statusText}`)\n    }\n    progress.totalSize = Number(res.headers.get('content-length'))\n\n    let buf: Uint8Array\n    try {\n      const reader = res.body!.getReader()\n      const chunks = [] as Uint8Array[]\n      while (true) {\n        const { done, value } = await reader.read()\n        if (done) break\n        chunks.push(value!)\n        progress.received += value!.length\n      }\n\n      buf = new Uint8Array(progress.received)\n      let bufPos = 0\n      for (const chunk of chunks) {\n        buf.set(chunk, bufPos)\n        bufPos += chunk.length\n      }\n    } finally {\n      progress.active = false\n    }\n\n    if (localStorage.getItem('POE_PATCH_VER') !== patchVer) {\n      await caches.delete('bundles')\n      cache = await caches.open('bundles')\n    }\n\n    await cache.put(path, new Response(buf, {\n      headers: {\n        'content-length': String(buf.byteLength),\n        'content-type': 'application/octet-stream'\n      }\n    }))\n    return buf.buffer\n  }\n  return res.arrayBuffer()\n}\n","export default function Worker_fn() {\n  return new Worker(__webpack_public_path__ + \"js/script.39b60a66.worker.js\");\n}\n","/* eslint-disable import/no-webpack-loader-syntax */\nimport Worker from 'worker-loader!./script'\nimport * as Comlink from 'comlink'\nimport type { WorkerRPC } from './script'\nimport type { DatFile } from 'pathofexile-dat'\n\nconst thread = Comlink.wrap<WorkerRPC>(new Worker())\n\nexport function decompressBundle (bundle: Uint8Array) {\n  if (bundle.byteOffset === 0 && bundle.byteLength === bundle.buffer.byteLength) {\n    return thread.decompressSliceInBundle(bundle)\n  } else {\n    const bundleSlice = new Uint8Array(\n      bundle.buffer.slice(bundle.byteOffset, bundle.byteOffset + bundle.byteLength)\n    )\n    return thread.decompressSliceInBundle(Comlink.transfer(bundle, [bundleSlice.buffer]))\n  }\n}\n\nexport function decompressFileTransferBundle (bundle: ArrayBuffer, offset: number, size: number) {\n  return thread.decompressSliceInBundle(\n    Comlink.transfer(new Uint8Array(bundle), [bundle]),\n    offset,\n    size\n  )\n}\n\nexport function analyzeDatFile (datFile: DatFile) {\n  return thread.analyzeDatFile(datFile)\n}\n","import { decompressBundle, decompressFileTransferBundle } from '../worker/interface'\nimport { readIndexBundle, getFileInfo } from 'pathofexile-dat/bundles/index-bundle'\nimport { fetchFile } from './cache'\nimport { shallowRef } from 'vue'\n\nexport const index = shallowRef(null as {\n  bundlesInfo: Uint8Array\n  filesInfo: Uint8Array\n  dirsInfo: Uint8Array\n  pathReps: Uint8Array\n} | null)\n\nexport async function loadFileContent (fullPath: string) {\n  const location = getFileInfo(fullPath, index.value!.bundlesInfo, index.value!.filesInfo)\n  const bundleBin = await fetchFile(null, location.bundle)\n\n  return decompressFileTransferBundle(bundleBin, location.offset, location.size)\n}\n\nexport async function loadIndex (indexBin: ArrayBuffer) {\n  const indexBundle = await decompressBundle(new Uint8Array(indexBin))\n  const _index = readIndexBundle(indexBundle)\n  index.value = {\n    bundlesInfo: _index.bundlesInfo,\n    filesInfo: _index.filesInfo,\n    dirsInfo: _index.dirsInfo,\n    pathReps: await decompressBundle(_index.pathRepsBundle)\n  }\n}\n","<template>\n  <viewer-actions />\n  <div class=\"flex flex-1\">\n    <resize-observer @resize=\"handleResize\" class=\"flex-1 min-h-0 relative\">\n      <div class=\"bg-gray-200 absolute\" :style=\"headerBlockStyle\">\n        <viewer-head :style=\"headerOverlayContentStyle\"\n          :left=\"scrollLeft\"\n          :width=\"rowsWidth\"\n          :columns=\"renderColumns\"\n        />\n      </div>\n      <canvas-scroll\n        ref=\"canvasScroll\"\n        class=\"absolute bg-white\"\n        @scroll=\"handleScroll\"\n        :style=\"scrollableStyle\"\n        :paint-size=\"scrollablePaintSize\"\n        :full-size=\"scrollableFullSize\">\n        <canvas ref=\"canvasRef\" @click=\"handleCanvasClick\" />\n      </canvas-scroll>\n      <div :class=\"$style.rowsOverlay\" :style=\"rowsOverlayStyle\">\n        <div class=\"absolute\" :style=\"{ transform: `translate(0, ${renderItems.top}px)` }\">\n          <div v-for=\"(rowIdx, i) in renderItems.ids\" :key=\"rowIdx\"\n            :style=\"{ transform: `translate(0, ${i * LINE_HEIGHT}px)`, width: rowsNumberWidth, position: 'absolute' }\"\n            v-text=\"rowIdx\" />\n        </div>\n      </div>\n    </resize-observer>\n    <header-props\n      @focus-editing-header=\"focusEditingHeader\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType, reactive, computed, provide, watch, shallowRef, shallowReactive, ref, render, onMounted } from 'vue'\nimport ResizeObserver from '@/ResizeObserver.vue'\nimport CanvasScroll from '@/CanvasScroll.vue'\nimport { Viewer, createViewer } from '../Viewer'\nimport ViewerActions from './Actions.vue'\nimport ViewerHead from './ViewerHead.vue'\nimport HeaderProps from './HeaderProps.vue'\nimport * as rendering from '../rendering'\nimport { renderByteCols, renderColStats } from '../rendering/byte-columns'\nimport { renderHeaderCols } from '../rendering/header-columns'\n\nexport default defineComponent({\n  components: { ResizeObserver, CanvasScroll, ViewerActions, ViewerHead, HeaderProps },\n  emits: ['update:kaState'],\n  props: {\n    args: {\n      type: Object as PropType<{\n        fileContent: Uint8Array\n        fullPath: string\n      }>,\n      required: true\n    },\n    kaState: {\n      type: Object as PropType<Viewer | undefined>,\n      default: undefined\n    }\n  },\n  setup (props, ctx) {\n    let viewer: Viewer\n    if (props.kaState) {\n      viewer = props.kaState // eslint-disable-line vue/no-setup-props-destructure\n    } else {\n      viewer = createViewer(props.args.fullPath, props.args.fileContent)\n      ctx.emit('update:kaState', viewer)\n    }\n    provide('viewer', viewer)\n\n    const canvasRef = ref<HTMLCanvasElement | null>(null)\n\n    const canvasScroll = ref<{ scrollTo(x: number | undefined, y: number | undefined): void } | null>(null)\n    onMounted(() => {\n      canvasScroll.value!.scrollTo(viewer.scrollPos.x, viewer.scrollPos.y)\n    })\n\n    const rowIndices = computed(() => {\n      if (viewer.rowSorting.value) {\n        return viewer.rowSorting.value\n      } else {\n        return Array.from(\n          { length: viewer.datFile.rowCount },\n          (_, rowIdx) => rowIdx)\n      }\n    })\n\n    const paintWidth = ref(0)\n    const paintHeight = ref(0)\n    function handleResize (sz: { width: number, height: number }) {\n      paintWidth.value = sz.width\n      paintHeight.value = sz.height\n    }\n    const { scrollPos } = viewer\n    function handleScroll (pos: { y: number, x: number }) {\n      scrollPos.x = pos.x\n      scrollPos.y = pos.y\n    }\n\n    const rowsFullWidth = computed(() =>\n      rendering.getRowWidth(viewer.headers.value))\n    const rowsFullHeight = computed(() =>\n      viewer.datFile.rowCount * rendering.LINE_HEIGHT)\n    const rowsOverlayWidth = computed(() =>\n      rendering.rowsOverlayWidth(viewer.datFile.rowCount))\n    const rowsWidth = computed(() =>\n      Math.max(0, paintWidth.value - rowsOverlayWidth.value))\n    const rowsHeight = computed(() =>\n      Math.max(0, paintHeight.value - rendering.HEADERS_HEIGHT))\n\n    watch([rowsWidth, rowsHeight], () => {\n      const dpr = devicePixelRatio\n\n      canvasRef.value!.style.width = rowsWidth.value + 'px'\n      canvasRef.value!.style.height = rowsHeight.value + 'px'\n\n      canvasRef.value!.width = rowsWidth.value * dpr\n      canvasRef.value!.height = rowsHeight.value * dpr\n\n      const ctx = canvasRef.value!.getContext('2d', { alpha: false })!\n      ctx.scale(dpr, dpr)\n\n      draw()\n    })\n\n    const renderStats = computed(() =>\n      renderColStats(viewer.columnStats.value, viewer.datFile))\n\n    const renderColumns = computed(() =>\n      renderByteCols(\n        viewer.columnSelection.value,\n        renderStats.value,\n        viewer.headers.value,\n        scrollPos.x,\n        scrollPos.x + Math.min(rowsFullWidth.value, rowsWidth.value))\n    )\n\n    watch([scrollPos, renderColumns, rowIndices, viewer.selectedRow], () => { draw() })\n\n    function draw () {\n      const ctx = canvasRef.value!.getContext('2d', { alpha: false })!\n\n      rendering.drawRows({\n        left: scrollPos.x,\n        paintWidth: rowsWidth.value,\n        top: renderItems.value.top,\n        rows: renderItems.value.ids,\n        columns: renderColumns.value,\n        viewer: viewer,\n        ctx\n      })\n    }\n\n    const renderItems = computed(() => {\n      const scrollTop = scrollPos.y\n\n      const count = Math.ceil(rowsHeight.value / rendering.LINE_HEIGHT) + 1\n      const startIdx = Math.floor(scrollTop / rendering.LINE_HEIGHT)\n\n      const top = (startIdx * rendering.LINE_HEIGHT) - scrollTop\n\n      return {\n        top,\n        ids: rowIndices.value.slice(startIdx, startIdx + count)\n      }\n    })\n\n    function focusEditingHeader () {\n      const header = viewer.editHeader.value!\n      const cols = renderHeaderCols(viewer.headers.value, null, 0, 0 + Infinity)\n      const target = cols.find(col => col.offset === header.offset)!\n      canvasScroll.value!.scrollTo(target.leftPx - rowsWidth.value * 0.33, undefined)\n    }\n\n    function handleCanvasClick (e: MouseEvent) {\n      const { selectedRow } = viewer\n      const rowIdx = Math.floor((e.offsetY + scrollPos.y) / rendering.LINE_HEIGHT)\n      selectedRow.value = (selectedRow.value !== rowIdx)\n        ? rowIdx\n        : null\n    }\n\n    return {\n      headerBlockStyle: computed(() =>\n        ({ height: rendering.HEADERS_HEIGHT + 'px', width: paintWidth.value + 'px' })),\n      headerOverlayContentStyle: computed(() =>\n        ({ left: rowsOverlayWidth.value + 'px', height: rendering.HEADERS_HEIGHT + 'px', width: rowsWidth.value + 'px' })),\n      scrollableStyle: computed(() =>\n        ({ top: rendering.HEADERS_HEIGHT + 'px', left: rowsOverlayWidth.value + 'px' })),\n      scrollablePaintSize: computed(() =>\n        ({ width: rowsWidth.value, height: rowsHeight.value })),\n      scrollableFullSize: computed(() =>\n        ({ width: rowsFullWidth.value, height: rowsFullHeight.value })),\n      rowsOverlayStyle: computed(() =>\n        ({ top: rendering.HEADERS_HEIGHT + 'px', width: rowsOverlayWidth.value + 'px', height: rowsHeight.value + 'px', fontFamily: rendering.FONT_FAMILY, fontSize: rendering.FONT_SIZE + 'px', lineHeight: rendering.LINE_HEIGHT + 'px' })),\n      handleScroll,\n      handleResize,\n      renderItems,\n      canvasRef,\n      renderColumns,\n      scrollLeft: computed(() => scrollPos.x),\n      rowsWidth: computed(() => Math.min(rowsFullWidth.value, rowsWidth.value)),\n      LINE_HEIGHT: rendering.LINE_HEIGHT,\n      canvasScroll,\n      rowsNumberWidth: (rendering.rowsNumWidth(viewer.datFile.rowCount) + 'px'),\n      focusEditingHeader,\n      handleCanvasClick\n    }\n  }\n})\n</script>\n\n<style lang=\"postcss\" module>\n.rowsOverlay {\n  position: absolute;\n  overflow: hidden;\n  transform: translate3d(0, 0, 0);\n  contain: strict;\n  @apply bg-white;\n  padding-left: 7px;\n  @apply border-l border-gray-200;\n  padding-right: 8px;\n  text-align: right;\n  box-shadow: #cacaca 0 6px 6px -6px inset;\n  user-select: none;\n}\n</style>\n","<template>\n  <component :is=\"tag\" ref=\"rootEl\" data-role=\"resize-observer\">\n    <slot />\n  </component>\n</template>\n\n<script lang=\"ts\">\n/// <reference types=\"resize-observer-browser\" />\n\nimport { defineComponent, ref, onMounted, onBeforeUnmount } from 'vue'\n\nexport default defineComponent({\n  props: {\n    tag: {\n      type: String,\n      default: 'div'\n    }\n  },\n  emits: ['resize'],\n  setup (props, ctx) {\n    const rootEl = ref<HTMLElement | null>(null)\n\n    onMounted(() => {\n      const resizeObserver = new ResizeObserver(entries => {\n        ctx.emit('resize', {\n          width: entries[0].contentRect.width,\n          height: entries[0].contentRect.height\n        })\n      })\n\n      resizeObserver.observe(rootEl.value!)\n      onBeforeUnmount(() => {\n        resizeObserver.unobserve(rootEl.value!)\n      })\n    })\n\n    return { rootEl }\n  }\n})\n</script>\n","\n/// <reference types=\"resize-observer-browser\" />\n\nimport { defineComponent, ref, onMounted, onBeforeUnmount } from 'vue'\n\nexport default defineComponent({\n  props: {\n    tag: {\n      type: String,\n      default: 'div'\n    }\n  },\n  emits: ['resize'],\n  setup (props, ctx) {\n    const rootEl = ref<HTMLElement | null>(null)\n\n    onMounted(() => {\n      const resizeObserver = new ResizeObserver(entries => {\n        ctx.emit('resize', {\n          width: entries[0].contentRect.width,\n          height: entries[0].contentRect.height\n        })\n      })\n\n      resizeObserver.observe(rootEl.value!)\n      onBeforeUnmount(() => {\n        resizeObserver.unobserve(rootEl.value!)\n      })\n    })\n\n    return { rootEl }\n  }\n})\n","import { render } from \"./ResizeObserver.vue?vue&type=template&id=7624aec8\"\nimport script from \"./ResizeObserver.vue?vue&type=script&lang=ts\"\nexport * from \"./ResizeObserver.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <div :class=\"$style.scrollable\"\n    :style=\"{ width: paintSize.width + 'px', height: paintSize.height + 'px' }\"\n    @mousedown=\"handleMousedown\"\n    @wheel=\"handleMousewheel\"\n  >\n    <slot />\n    <div v-if=\"scrollbarY\" :class=\"`${$style.track} ${$style.y}`\" @mousedown=\"handleTrackMousedownY\"\n      :style=\"{ width: scrollbarY.fixedSize + 'px', height: scrollbarY.trackSize + 'px' }\">\n      <div :class=\"$style.thumb\" :style=\"{\n        transform: `translate(0, ${scrollbarY.thumbPos}px)`,\n        width: scrollbarY.fixedSize + 'px', height: scrollbarY.thumbSize + 'px' }\" />\n    </div>\n    <div v-if=\"scrollbarX\" :class=\"`${$style.track} ${$style.x}`\" @mousedown=\"handleTrackMousedownX\"\n      :style=\"{ width: scrollbarX.trackSize + 'px', height: scrollbarX.fixedSize + 'px' }\">\n      <div :class=\"$style.thumb\" :style=\"{\n        transform: `translate(${scrollbarX.thumbPos}px, 0)`,\n        width: scrollbarX.thumbSize + 'px', height: scrollbarX.fixedSize + 'px' }\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, shallowReactive, computed, Ref, PropType, readonly, watch } from 'vue'\n\nconst MIN_THUMB_SIZE = 40\nconst SCROLL_DIR_THRESHOLD = 15\nconst WHEEL_SCROLL_SPEED = 100\nconst SCROLL_ACCELERATION_FN = (value: number, dt: number) =>\n  Math.max(1, Math.pow(value * (3 / 1000) * dt, 2)) * Math.sign(value)\n\ntype Scrollbar = {\n  fixedSize: number\n  trackSize: number\n  thumbSize: number\n  thumbRatio: number\n  thumbPos: number\n} | null\n\nfunction scrollbar (\n  fixedSize: number,\n  paintSize: number,\n  scrollSize: number,\n  otherScrollbar: Scrollbar,\n  scrollPos: number\n): Scrollbar {\n  if (scrollSize <= paintSize) return null\n\n  const trackSize = Math.max(0, paintSize - (otherScrollbar?.fixedSize ?? 0))\n  const thumbSize = Math.max(MIN_THUMB_SIZE, Math.floor(paintSize * trackSize / scrollSize))\n\n  const thumbRatio = (trackSize - thumbSize) / (scrollSize - paintSize)\n  const thumbPos = Math.round(scrollPos * thumbRatio)\n\n  return {\n    trackSize,\n    thumbSize,\n    fixedSize,\n    thumbRatio,\n    thumbPos\n  }\n}\n\nfunction useMouseMiddleButtonScroll (scrollByDelta: (dx: number, dy: number) => void) {\n  let startY = 0\n  let startX = 0\n  let deltaY = 0\n  let deltaX = 0\n  let direction = null as 'vertical' | 'horizontal' | null\n\n  let rafTime = 0\n  let rafId = 0\n\n  function handleMousedown (e: MouseEvent) {\n    if (e.button !== 1) return\n\n    e.preventDefault()\n    e.stopPropagation()\n    document.body.style.cursor = 'all-scroll'\n\n    direction = null\n    startY = e.clientY\n    startX = e.clientX\n    deltaY = 0\n    deltaX = 0\n\n    rafTime = 0\n    rafId = requestAnimationFrame(scrollEachFrame)\n    document.addEventListener('mousemove', handleMouseMove)\n    document.addEventListener('mouseup', cancelScroll)\n    document.addEventListener('mouseleave', cancelScroll)\n  }\n\n  function cancelScroll () {\n    cancelAnimationFrame(rafId)\n    document.removeEventListener('mousemove', handleMouseMove)\n    document.removeEventListener('mouseup', cancelScroll)\n    document.removeEventListener('mouseleave', cancelScroll)\n\n    document.body.style.removeProperty('cursor')\n  }\n\n  function handleMouseMove (e: MouseEvent) {\n    const dy = (e.clientY - startY)\n    const dx = (e.clientX - startX)\n\n    if (direction === null) {\n      if (Math.abs(dy) > SCROLL_DIR_THRESHOLD) {\n        direction = 'vertical'\n        document.body.style.cursor = 'ns-resize'\n      } else if (Math.abs(dx) > SCROLL_DIR_THRESHOLD) {\n        direction = 'horizontal'\n        document.body.style.cursor = 'ew-resize'\n      } else {\n        return\n      }\n    }\n\n    if (direction === 'vertical') {\n      deltaY = dy\n    } else {\n      deltaX = dx\n    }\n  }\n\n  function scrollEachFrame (time: number) {\n    const dtTime = time - (rafTime || time)\n    rafTime = time\n    rafId = requestAnimationFrame(scrollEachFrame)\n\n    scrollByDelta(\n      SCROLL_ACCELERATION_FN(deltaX, dtTime),\n      SCROLL_ACCELERATION_FN(deltaY, dtTime)\n    )\n  }\n\n  return { handleMousedown }\n}\n\nfunction useMouseWheelScroll (scrollByDelta: (dx: number, dy: number) => void) {\n  function handleMousewheel (e: WheelEvent) {\n    scrollByDelta(0, Math.sign(e.deltaY) * WHEEL_SCROLL_SPEED)\n  }\n\n  return { handleMousewheel }\n}\n\nfunction useScrollbarScroll (\n  scrollbar: Ref<Scrollbar>,\n  axis: 'x' | 'y',\n  scrollTo: (x: number | undefined, y: number | undefined) => void\n) {\n  let start = 0\n  let offset = 0\n\n  const rectProp = (axis === 'y' ? 'y' : 'x')\n  const mEventProp = (axis === 'y' ? 'clientY' : 'clientX')\n\n  function handleTrackMousedown (e: MouseEvent) {\n    e.preventDefault()\n    e.stopPropagation()\n\n    const trackEl = e.currentTarget as HTMLElement\n    start = trackEl.getBoundingClientRect()[rectProp]\n\n    if (e.target !== trackEl) {\n      const thumbEl = e.target as HTMLElement\n      offset = e[mEventProp] - thumbEl.getBoundingClientRect()[rectProp]\n    } else {\n      offset = (scrollbar.value!.thumbSize / 2)\n      handleMouseMove(e)\n      offset = (e[mEventProp] - start - scrollbar.value!.thumbPos)\n    }\n\n    document.addEventListener('mousemove', handleMouseMove)\n    document.addEventListener('mouseup', cancelScroll)\n    document.addEventListener('mouseleave', cancelScroll)\n  }\n\n  function handleMouseMove (e: MouseEvent) {\n    const value = (e[mEventProp] - start - offset) / scrollbar.value!.thumbRatio\n    if (axis === 'x') {\n      scrollTo(value, undefined)\n    } else {\n      scrollTo(undefined, value)\n    }\n  }\n\n  function cancelScroll () {\n    document.removeEventListener('mousemove', handleMouseMove)\n    document.removeEventListener('mouseup', cancelScroll)\n    document.removeEventListener('mouseleave', cancelScroll)\n  }\n\n  return { handleTrackMousedown }\n}\n\nexport default defineComponent({\n  props: {\n    paintSize: {\n      type: Object as PropType<{ width: number, height: number }>,\n      required: true\n    },\n    fullSize: {\n      type: Object as PropType<{ width: number, height: number }>,\n      required: true\n    },\n    widthY: {\n      type: Number,\n      default: 14\n    },\n    widthX: {\n      type: Number,\n      default: 12\n    }\n  },\n  emits: ['scroll'],\n  setup (props, ctx) {\n    const scrollPos = shallowReactive({ y: 0, x: 0 })\n\n    watch(() => [props.paintSize, props.fullSize], () => {\n      const { paintSize, fullSize } = props\n      scrollPos.x = Math.max(0, Math.min(scrollPos.x, fullSize.width - paintSize.width))\n      scrollPos.y = Math.max(0, Math.min(scrollPos.y, fullSize.height - paintSize.height))\n    }, { deep: true })\n\n    watch(scrollPos, () => {\n      ctx.emit('scroll', {\n        y: scrollPos.y,\n        x: scrollPos.x\n      })\n    })\n\n    const scrollbarY = computed(() =>\n      scrollbar(props.widthY, props.paintSize.height, props.fullSize.height, null, scrollPos.y))\n    const scrollbarX = computed(() =>\n      scrollbar(props.widthX, props.paintSize.width, props.fullSize.width, scrollbarY.value, scrollPos.x))\n\n    function scrollByDelta (dx: number, dy: number) {\n      const { paintSize, fullSize } = props\n      scrollPos.y = Math.max(0, Math.min(scrollPos.y + Math.floor(dy), fullSize.height - paintSize.height))\n      scrollPos.x = Math.max(0, Math.min(scrollPos.x + Math.floor(dx), fullSize.width - paintSize.width))\n    }\n\n    function scrollTo (x: number | undefined, y: number | undefined) {\n      const { paintSize, fullSize } = props\n      if (x !== undefined) {\n        scrollPos.x = Math.max(0, Math.min(Math.floor(x), fullSize.width - paintSize.width))\n      }\n      if (y !== undefined) {\n        scrollPos.y = Math.max(0, Math.min(Math.floor(y), fullSize.height - paintSize.height))\n      }\n    }\n\n    return {\n      scrollbarY,\n      scrollbarX,\n      scrollPos: readonly(scrollPos),\n      scrollTo,\n      scrollByDelta,\n      handleMousedown: useMouseMiddleButtonScroll(scrollByDelta).handleMousedown,\n      handleMousewheel: useMouseWheelScroll(scrollByDelta).handleMousewheel,\n      handleTrackMousedownY: useScrollbarScroll(scrollbarY, 'y', scrollTo).handleTrackMousedown,\n      handleTrackMousedownX: useScrollbarScroll(scrollbarX, 'x', scrollTo).handleTrackMousedown\n    }\n  }\n})\n</script>\n\n<style lang=\"postcss\" module>\n.scrollable {\n  overflow: hidden;\n  position: relative;\n  transform: translate3d(0, 0, 0);\n}\n\n.track {\n  position: absolute;\n  contain: strict;\n  &.y { top: 0; right: 0; }\n  &.x { bottom: 0; left: 0; }\n}\n\n.thumb {\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: rgba(0, 0, 0, 0.3);\n  will-change: transform;\n\n  &:hover {\n    background: rgba(0, 0, 0, 0.4);\n  }\n}\n</style>\n","\nimport { defineComponent, shallowReactive, computed, Ref, PropType, readonly, watch } from 'vue'\n\nconst MIN_THUMB_SIZE = 40\nconst SCROLL_DIR_THRESHOLD = 15\nconst WHEEL_SCROLL_SPEED = 100\nconst SCROLL_ACCELERATION_FN = (value: number, dt: number) =>\n  Math.max(1, Math.pow(value * (3 / 1000) * dt, 2)) * Math.sign(value)\n\ntype Scrollbar = {\n  fixedSize: number\n  trackSize: number\n  thumbSize: number\n  thumbRatio: number\n  thumbPos: number\n} | null\n\nfunction scrollbar (\n  fixedSize: number,\n  paintSize: number,\n  scrollSize: number,\n  otherScrollbar: Scrollbar,\n  scrollPos: number\n): Scrollbar {\n  if (scrollSize <= paintSize) return null\n\n  const trackSize = Math.max(0, paintSize - (otherScrollbar?.fixedSize ?? 0))\n  const thumbSize = Math.max(MIN_THUMB_SIZE, Math.floor(paintSize * trackSize / scrollSize))\n\n  const thumbRatio = (trackSize - thumbSize) / (scrollSize - paintSize)\n  const thumbPos = Math.round(scrollPos * thumbRatio)\n\n  return {\n    trackSize,\n    thumbSize,\n    fixedSize,\n    thumbRatio,\n    thumbPos\n  }\n}\n\nfunction useMouseMiddleButtonScroll (scrollByDelta: (dx: number, dy: number) => void) {\n  let startY = 0\n  let startX = 0\n  let deltaY = 0\n  let deltaX = 0\n  let direction = null as 'vertical' | 'horizontal' | null\n\n  let rafTime = 0\n  let rafId = 0\n\n  function handleMousedown (e: MouseEvent) {\n    if (e.button !== 1) return\n\n    e.preventDefault()\n    e.stopPropagation()\n    document.body.style.cursor = 'all-scroll'\n\n    direction = null\n    startY = e.clientY\n    startX = e.clientX\n    deltaY = 0\n    deltaX = 0\n\n    rafTime = 0\n    rafId = requestAnimationFrame(scrollEachFrame)\n    document.addEventListener('mousemove', handleMouseMove)\n    document.addEventListener('mouseup', cancelScroll)\n    document.addEventListener('mouseleave', cancelScroll)\n  }\n\n  function cancelScroll () {\n    cancelAnimationFrame(rafId)\n    document.removeEventListener('mousemove', handleMouseMove)\n    document.removeEventListener('mouseup', cancelScroll)\n    document.removeEventListener('mouseleave', cancelScroll)\n\n    document.body.style.removeProperty('cursor')\n  }\n\n  function handleMouseMove (e: MouseEvent) {\n    const dy = (e.clientY - startY)\n    const dx = (e.clientX - startX)\n\n    if (direction === null) {\n      if (Math.abs(dy) > SCROLL_DIR_THRESHOLD) {\n        direction = 'vertical'\n        document.body.style.cursor = 'ns-resize'\n      } else if (Math.abs(dx) > SCROLL_DIR_THRESHOLD) {\n        direction = 'horizontal'\n        document.body.style.cursor = 'ew-resize'\n      } else {\n        return\n      }\n    }\n\n    if (direction === 'vertical') {\n      deltaY = dy\n    } else {\n      deltaX = dx\n    }\n  }\n\n  function scrollEachFrame (time: number) {\n    const dtTime = time - (rafTime || time)\n    rafTime = time\n    rafId = requestAnimationFrame(scrollEachFrame)\n\n    scrollByDelta(\n      SCROLL_ACCELERATION_FN(deltaX, dtTime),\n      SCROLL_ACCELERATION_FN(deltaY, dtTime)\n    )\n  }\n\n  return { handleMousedown }\n}\n\nfunction useMouseWheelScroll (scrollByDelta: (dx: number, dy: number) => void) {\n  function handleMousewheel (e: WheelEvent) {\n    scrollByDelta(0, Math.sign(e.deltaY) * WHEEL_SCROLL_SPEED)\n  }\n\n  return { handleMousewheel }\n}\n\nfunction useScrollbarScroll (\n  scrollbar: Ref<Scrollbar>,\n  axis: 'x' | 'y',\n  scrollTo: (x: number | undefined, y: number | undefined) => void\n) {\n  let start = 0\n  let offset = 0\n\n  const rectProp = (axis === 'y' ? 'y' : 'x')\n  const mEventProp = (axis === 'y' ? 'clientY' : 'clientX')\n\n  function handleTrackMousedown (e: MouseEvent) {\n    e.preventDefault()\n    e.stopPropagation()\n\n    const trackEl = e.currentTarget as HTMLElement\n    start = trackEl.getBoundingClientRect()[rectProp]\n\n    if (e.target !== trackEl) {\n      const thumbEl = e.target as HTMLElement\n      offset = e[mEventProp] - thumbEl.getBoundingClientRect()[rectProp]\n    } else {\n      offset = (scrollbar.value!.thumbSize / 2)\n      handleMouseMove(e)\n      offset = (e[mEventProp] - start - scrollbar.value!.thumbPos)\n    }\n\n    document.addEventListener('mousemove', handleMouseMove)\n    document.addEventListener('mouseup', cancelScroll)\n    document.addEventListener('mouseleave', cancelScroll)\n  }\n\n  function handleMouseMove (e: MouseEvent) {\n    const value = (e[mEventProp] - start - offset) / scrollbar.value!.thumbRatio\n    if (axis === 'x') {\n      scrollTo(value, undefined)\n    } else {\n      scrollTo(undefined, value)\n    }\n  }\n\n  function cancelScroll () {\n    document.removeEventListener('mousemove', handleMouseMove)\n    document.removeEventListener('mouseup', cancelScroll)\n    document.removeEventListener('mouseleave', cancelScroll)\n  }\n\n  return { handleTrackMousedown }\n}\n\nexport default defineComponent({\n  props: {\n    paintSize: {\n      type: Object as PropType<{ width: number, height: number }>,\n      required: true\n    },\n    fullSize: {\n      type: Object as PropType<{ width: number, height: number }>,\n      required: true\n    },\n    widthY: {\n      type: Number,\n      default: 14\n    },\n    widthX: {\n      type: Number,\n      default: 12\n    }\n  },\n  emits: ['scroll'],\n  setup (props, ctx) {\n    const scrollPos = shallowReactive({ y: 0, x: 0 })\n\n    watch(() => [props.paintSize, props.fullSize], () => {\n      const { paintSize, fullSize } = props\n      scrollPos.x = Math.max(0, Math.min(scrollPos.x, fullSize.width - paintSize.width))\n      scrollPos.y = Math.max(0, Math.min(scrollPos.y, fullSize.height - paintSize.height))\n    }, { deep: true })\n\n    watch(scrollPos, () => {\n      ctx.emit('scroll', {\n        y: scrollPos.y,\n        x: scrollPos.x\n      })\n    })\n\n    const scrollbarY = computed(() =>\n      scrollbar(props.widthY, props.paintSize.height, props.fullSize.height, null, scrollPos.y))\n    const scrollbarX = computed(() =>\n      scrollbar(props.widthX, props.paintSize.width, props.fullSize.width, scrollbarY.value, scrollPos.x))\n\n    function scrollByDelta (dx: number, dy: number) {\n      const { paintSize, fullSize } = props\n      scrollPos.y = Math.max(0, Math.min(scrollPos.y + Math.floor(dy), fullSize.height - paintSize.height))\n      scrollPos.x = Math.max(0, Math.min(scrollPos.x + Math.floor(dx), fullSize.width - paintSize.width))\n    }\n\n    function scrollTo (x: number | undefined, y: number | undefined) {\n      const { paintSize, fullSize } = props\n      if (x !== undefined) {\n        scrollPos.x = Math.max(0, Math.min(Math.floor(x), fullSize.width - paintSize.width))\n      }\n      if (y !== undefined) {\n        scrollPos.y = Math.max(0, Math.min(Math.floor(y), fullSize.height - paintSize.height))\n      }\n    }\n\n    return {\n      scrollbarY,\n      scrollbarX,\n      scrollPos: readonly(scrollPos),\n      scrollTo,\n      scrollByDelta,\n      handleMousedown: useMouseMiddleButtonScroll(scrollByDelta).handleMousedown,\n      handleMousewheel: useMouseWheelScroll(scrollByDelta).handleMousewheel,\n      handleTrackMousedownY: useScrollbarScroll(scrollbarY, 'y', scrollTo).handleTrackMousedown,\n      handleTrackMousedownX: useScrollbarScroll(scrollbarX, 'x', scrollTo).handleTrackMousedown\n    }\n  }\n})\n","import { render } from \"./CanvasScroll.vue?vue&type=template&id=1c788ded\"\nimport script from \"./CanvasScroll.vue?vue&type=script&lang=ts\"\nexport * from \"./CanvasScroll.vue?vue&type=script&lang=ts\"\n\nconst cssModules = script.__cssModules = {}\nimport style0 from \"./CanvasScroll.vue?vue&type=style&index=0&id=1c788ded&lang=postcss&module=true\"\ncssModules[\"$style\"] = style0\nscript.render = render\n\nexport default script","import type { Header } from './headers'\n\nexport function selectColsByHeader (header: Header, selection: boolean[]) {\n  for (let offset = header.offset; offset < (header.offset + header.length); ++offset) {\n    selection[offset] = true\n  }\n}\n\nexport function toggleColsBetween (selection: boolean[], a: number, b: number, headers: readonly Header[]) {\n  const start = Math.min(a, b)\n  const end = Math.max(a, b)\n\n  headers = headers.filter(hdr => (hdr.type.byteView && !hdr.type.byteView.array))\n\n  for (let offset = start; offset <= end; ++offset) {\n    if (headers.some(hdr =>\n      offset >= hdr.offset && offset < (hdr.offset + hdr.length)\n    )) {\n      selection[offset] = !selection[offset]\n    }\n  }\n}\n\nexport function clearColumnSelection (selection: boolean[]) {\n  selection.fill(false)\n}\n\nexport function getColumnSelections (selection: readonly boolean[]) {\n  const ranges: number[][] = []\n\n  let idx = selection.indexOf(true)\n  let last: number\n  if (idx < 0) {\n    return ranges\n  } else {\n    last = idx\n    ranges.push([last])\n  }\n\n  for (idx += 1; idx < selection.length; ++idx) {\n    if (selection[idx]) {\n      const curr = idx\n      if ((curr - last) === 1) {\n        ranges[ranges.length - 1].push(curr)\n      } else {\n        ranges.push([curr])\n      }\n      last = curr\n    }\n  }\n\n  return ranges\n}\n","import { getColumnSelections } from './selection'\n\nexport interface Header {\n  name: string | null\n  readonly offset: number\n  readonly length: number\n  type: {\n    byteView?: { array: boolean }\n    array?: boolean\n    boolean?: {}\n    integer?: { unsigned: boolean, size: number }\n    decimal?: { size: number }\n    string?: {}\n    key?: { foreign: boolean }\n  }\n  textLength?: number\n}\n\nexport const byteView = (): Header['type'] => ({ byteView: { array: false } })\n\nfunction removeHeadersAtOffsets (offsets: number[], headers: Header[]) {\n  for (let idx = 0; idx < headers.length;) {\n    const header = headers[idx]\n    if (\n      header.name != null && offsets.some(offset =>\n        offset >= header.offset &&\n        offset < header.offset + header.length\n      )) {\n      removeHeader(header, headers)\n    } else {\n      idx += 1\n    }\n  }\n}\n\nexport function createHeaderFromSelected (selection: boolean[], headers: Header[]) {\n  const selections = getColumnSelections(selection)\n  if (selections.length === 0) {\n    throw new Error('No bytes selected')\n  } else if (selections.length > 1) {\n    throw new Error('Cannot create header from non-contiguous selection')\n  }\n  const selected = selections[0]\n\n  removeHeadersAtOffsets(selected, headers)\n\n  const emptyHeader = headers.find(header =>\n    selected[0] >= header.offset &&\n    selected[0] + selected.length <= header.offset + header.length\n  )!\n\n  let updatedHeaders: Header[] = [\n    {\n      name: null,\n      offset: emptyHeader.offset,\n      length: selected[0] - emptyHeader.offset,\n      type: byteView()\n    }, {\n      name: '',\n      offset: selected[0],\n      length: selected.length,\n      type: byteView(),\n      textLength: 4 * 3 - 1\n    }, {\n      name: null,\n      offset: selected[0] + selected.length,\n      length: emptyHeader.length - (selected[0] - emptyHeader.offset + selected.length),\n      type: byteView()\n    }\n  ]\n  const header = updatedHeaders[1]\n\n  updatedHeaders = updatedHeaders.filter(header => header.length)\n  headers.splice(headers.indexOf(emptyHeader), 1, ...updatedHeaders)\n\n  return header\n}\n\nexport function removeHeader (header: Header, headers: Header[]) {\n  if (header.name == null) {\n    throw new Error('Cannot remove empty header')\n  }\n\n  header.name = null\n  header.type = byteView()\n\n  for (let idx = 0; idx < (headers.length - 1);) {\n    const merged = mergeEmptyHeaders(headers[idx], headers[idx + 1])\n    if (merged) {\n      headers.splice(idx, 2, merged)\n    } else {\n      idx += 1\n    }\n  }\n}\n\nfunction mergeEmptyHeaders (h1: Header, h2: Header): Header | null {\n  if (h1.name === null && h2.name === null) {\n    return {\n      name: null,\n      offset: h1.offset,\n      length: h1.length + h2.length,\n      type: byteView()\n    }\n  }\n\n  return null\n}\n","import { openDB, DBSchema } from 'idb'\nimport type { Header } from './headers'\nimport { schema, SchemaEnum, SchemaTable } from 'pathofexile-dat/dat/schema'\n\ninterface DatSchema {\n  name: string\n  headers: ViewerSerializedHeader[]\n}\n\nexport interface ViewerSerializedHeader {\n  name: string | null\n  length?: number\n  type: {\n    byteView?: { array: boolean }\n    array?: boolean\n    boolean?: {}\n    integer?: { unsigned: boolean, size: number }\n    decimal?: { size: number }\n    string?: {}\n    key?: { foreign: boolean }\n  }\n  textLength?: number\n}\n\ninterface PoeDatViewerSchema extends DBSchema {\n  'dat-schemas': {\n    key: DatSchema['name']\n    value: DatSchema\n  }\n}\n\nconst db = openDB<PoeDatViewerSchema>('poe-dat-viewer', 3, {\n  upgrade (db) {\n    db.createObjectStore('dat-schemas', { keyPath: 'name' })\n  }\n})\n\nexport async function findByName (name: string) {\n  const record = await (await db).get('dat-schemas', name)\n  return record?.headers || fromJsonSchema(name) || []\n}\n\nexport async function saveHeaders (\n  name: string,\n  headers: Header[]\n) {\n  await (await db).put('dat-schemas', {\n    name,\n    headers: serializeHeaders(headers)\n  })\n}\n\nfunction serializeHeaders (headers: Header[]) {\n  return headers.map<ViewerSerializedHeader>(header => ({\n    ...header,\n    length: (\n      header.type.string ||\n      header.type.array ||\n      header.type.key ||\n      header.type.boolean ||\n      header.type.decimal ||\n      header.type.integer\n    ) ? undefined\n      : header.length\n  }))\n}\n\nfunction fromJsonSchema (name: string): ViewerSerializedHeader[] | null {\n  const sch = schema.find(s => s.name === name)\n  if (!sch || (sch as SchemaEnum).enum) return null\n\n  return (sch as SchemaTable).columns.map(column => {\n    return { /* eslint-disable indent */\n      name: column.name,\n      type: {\n        array: column.array,\n        integer:\n          column.type === 'uint8' ? { unsigned: true, size: 1 }\n          : column.type === 'uint16' ? { unsigned: true, size: 2 }\n          : column.type === 'uint32' ? { unsigned: true, size: 4 }\n          : column.type === 'uint64' ? { unsigned: true, size: 8 }\n          : column.type === 'int8' ? { unsigned: false, size: 1 }\n          : column.type === 'int16' ? { unsigned: false, size: 2 }\n          : column.type === 'int32' ? { unsigned: false, size: 4 }\n          : column.type === 'int64' ? { unsigned: false, size: 8 }\n          // TODO: dedicated type\n          : column.type === 'enum0' || column.type === 'enum1' ? { unsigned: true, size: 4 }\n          : undefined,\n        decimal:\n          column.type === 'float32' ? { size: 4 }\n          : column.type === 'float64' ? { size: 8 }\n          : undefined,\n        string:\n          column.type === 'string' ? {}\n          : undefined,\n        boolean:\n          column.type === 'bool' ? {}\n          : undefined,\n        key:\n          column.type === 'rowidx' ? {\n            foreign: column.references ? (column.references as { table: string }).table !== name : false\n          }\n          : undefined\n      },\n      textLength: 4 * 3 - 1\n    }\n  })\n}\n","import { DatFile, readDatFile, readColumn } from 'pathofexile-dat'\nimport type { ColumnStats } from 'pathofexile-dat/dat-analysis'\nimport { validateHeader } from 'pathofexile-dat/dat-analysis/validation'\nimport { getHeaderLength } from 'pathofexile-dat/dat/header'\nimport { Header, createHeaderFromSelected, byteView } from './headers'\nimport * as db from './db'\nimport { clearColumnSelection, selectColsByHeader } from './selection'\nimport { shallowRef, Ref, triggerRef, shallowReactive } from 'vue'\nimport { analyzeDatFile } from '../worker/interface'\n\nexport interface Viewer {\n  readonly name: string\n  readonly datFile: DatFile\n  headers: Ref<Header[]>\n  columnStats: Ref<ColumnStats[]>\n  columnSelection: Ref<boolean[]>\n  editHeader: Ref<Header | null>\n  selectedRow: Ref<number | null>\n  rowSorting: Ref<number[] | null>\n  scrollPos: { x: number, y: number }\n}\n\nexport function createViewer (path: string, fileContent: Uint8Array): Viewer {\n  const parsed = readDatFile(path, fileContent)\n\n  const viewer: Viewer = {\n    headers: shallowRef(\n      parsed.rowLength\n        ? [{\n          name: null,\n          offset: 0,\n          length: parsed.rowLength,\n          type: byteView()\n        }] : []\n    ),\n    datFile: parsed,\n    name: getNamePart(path),\n    columnStats: shallowRef([]),\n    columnSelection: shallowRef(new Array(parsed.rowLength).fill(false)),\n    editHeader: shallowRef(null),\n    selectedRow: shallowRef(null),\n    rowSorting: shallowRef(null),\n    scrollPos: shallowReactive({ x: 0, y: 0 })\n  }\n\n  analyzeDatFile(viewer.datFile).then(async stats => {\n    viewer.columnStats.value = stats\n\n    const headers = await db.findByName(viewer.name)\n    try {\n      tryImportHeaders(headers, viewer)\n    } catch (e) {\n      window.alert(`WARN: ${e.message}`)\n    } finally {\n      triggerRef(viewer.headers)\n    }\n  })\n\n  return viewer\n}\n\nfunction tryImportHeaders (serialized: db.ViewerSerializedHeader[], viewer: Viewer) {\n  let offset = 0\n  for (const hdrSerialized of serialized) {\n    const headerLength = hdrSerialized.length || getHeaderLength(hdrSerialized, viewer.datFile)\n    if (hdrSerialized.name == null) {\n      offset += headerLength\n      continue\n    }\n\n    const header: Header = {\n      ...hdrSerialized,\n      length: headerLength,\n      offset: offset\n    }\n\n    const isValid = (hdrSerialized.length)\n      ? (viewer.datFile.rowLength - header.offset) >= header.length\n      : validateHeader(header, viewer.columnStats.value, viewer.datFile)\n    if (!isValid) {\n      throw new Error('The schema is invalid.')\n    }\n\n    selectColsByHeader(header, viewer.columnSelection.value)\n    const headerCreated = createHeaderFromSelected(viewer.columnSelection.value, viewer.headers.value)\n    Object.assign(headerCreated, header)\n    clearColumnSelection(viewer.columnSelection.value)\n\n    offset += headerLength\n  }\n}\n\nexport function exportAllRows (headers: Header[], datFile: DatFile) {\n  const columns = headers\n    .filter(({ type }) => type.boolean || type.decimal || type.integer || type.key || type.string)\n    .map((header, idx) => ({\n      name: header.name || `Unknown${idx + 1}`,\n      data: (() => {\n        const data = readColumn(header, datFile)\n\n        if (header.type.key?.foreign) {\n          if (!header.type.array) {\n            const data_ = data as ({ rid: number, unknown: number } | null)[]\n            if (!data_.every(row => row == null || row.unknown === 0)) {\n              throw new Error('never')\n            }\n            return data_.map(row => row && row.rid)\n          } else {\n            const data_ = data as (Array<{ rid: number, unknown: number }>)[]\n            if (!data_.every(row => row.every(entry => entry.unknown === 0))) {\n              throw new Error('never')\n            }\n            return data_.map(row => row.map(entry => entry.rid))\n          }\n        }\n\n        return data\n      })()\n    }))\n\n  columns.unshift({\n    name: '_rid',\n    data: Array(datFile.rowCount).fill(undefined)\n      .map((_, idx) => idx)\n  })\n\n  return Array(datFile.rowCount).fill(undefined)\n    .map((_, idx) => Object.fromEntries(\n      columns.map(col => [col.name, col.data[idx]])\n    ))\n}\n\nfunction getNamePart (path: string) {\n  return path.match(/[^/]+(?=\\..+$)/)![0]\n}\n\nexport function saveHeaders (viewer: Viewer) {\n  db.saveHeaders(viewer.name, viewer.headers.value)\n}\n","<template>\n  <div :class=\"$style.bar\">\n    <div class=\"flex\">\n      <template v-if=\"selections.length === 0\">\n        <div class=\"text-gray-500 italic px-1.5 self-center\">No bytes selected</div>\n      </template>\n      <template v-else-if=\"selections.length === 1\">\n        <button class=\"hover:bg-gray-400 hover:text-black px-1.5\"\n          @click=\"defineColumn\"><i class=\"codicon codicon-add\"></i> Define column</button>\n      </template>\n      <template v-else-if=\"selections.length > 1\">\n        <div class=\"text-gray-400 px-1.5 mr-1 self-center\">Selections</div>\n        <!-- eslint-disable-next-line vue/require-v-for-key -->\n        <div v-for=\"range in selections\"\n          class=\"px-1.5 mr-1 font-mono bg-gray-300 text-black flex items-center\"\n          v-text=\"range\" />\n      </template>\n    </div>\n    <div class=\"flex space-x-1\">\n      <button v-if=\"rowSorting\"\n        class=\"bg-gray-700 hover:bg-gray-400 hover:text-black px-1.5 border border-gray-600\"\n        @click=\"rowSorting = null\"\n        >Reset sorting</button>\n      <button\n        class=\"hover:bg-gray-400 hover:text-black px-1.5\"\n        @click=\"exportDataJson\"\n        >Export data</button>\n      <!-- <button TODO\n        class=\"hover:bg-gray-400 hover:text-black px-1.5\"\n        >Export schema</button> -->\n      <!-- <button\n        class=\"hover:bg-gray-400 hover:text-black px-1.5\"\n        ><i class=\"codicon codicon-ellipsis\" /></button> -->\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, inject, triggerRef } from 'vue'\nimport { clearColumnSelection, getColumnSelections } from '../selection'\nimport { createHeaderFromSelected } from '../headers'\nimport FileSaver from 'file-saver'\nimport { Viewer, exportAllRows, saveHeaders } from '../Viewer'\n\nexport default defineComponent({\n  setup () {\n    const viewer = inject<Viewer>('viewer')!\n\n    const selections = computed(() =>\n      getColumnSelections(viewer.columnSelection.value)\n        .map(range => range.map(col => String(col)).join(' '))\n    )\n\n    function defineColumn () {\n      const { editHeader, columnSelection, headers } = viewer\n      editHeader.value = createHeaderFromSelected(columnSelection.value, headers.value)\n      clearColumnSelection(columnSelection.value)\n      triggerRef(headers)\n      triggerRef(columnSelection)\n      saveHeaders(viewer)\n    }\n\n    function exportDataJson () {\n      const data = exportAllRows(viewer.headers.value, viewer.datFile)\n      FileSaver.saveAs(new File(\n        [JSON.stringify(data, null, 2)],\n        `${viewer.name}.json`,\n        { type: 'application/json;charset=utf-8' }\n      ))\n    }\n\n    return {\n      viewer,\n      rowSorting: viewer.rowSorting,\n      selections,\n      defineColumn,\n      exportDataJson\n    }\n  }\n})\n</script>\n\n<style lang=\"postcss\" module>\n.bar {\n  display: flex;\n  justify-content: space-between;\n  line-height: 1;\n  @apply text-gray-300;\n  @apply p-2;\n  @apply bg-gray-900;\n  height: 35px;\n}\n</style>\n","\nimport { defineComponent, computed, inject, triggerRef } from 'vue'\nimport { clearColumnSelection, getColumnSelections } from '../selection'\nimport { createHeaderFromSelected } from '../headers'\nimport FileSaver from 'file-saver'\nimport { Viewer, exportAllRows, saveHeaders } from '../Viewer'\n\nexport default defineComponent({\n  setup () {\n    const viewer = inject<Viewer>('viewer')!\n\n    const selections = computed(() =>\n      getColumnSelections(viewer.columnSelection.value)\n        .map(range => range.map(col => String(col)).join(' '))\n    )\n\n    function defineColumn () {\n      const { editHeader, columnSelection, headers } = viewer\n      editHeader.value = createHeaderFromSelected(columnSelection.value, headers.value)\n      clearColumnSelection(columnSelection.value)\n      triggerRef(headers)\n      triggerRef(columnSelection)\n      saveHeaders(viewer)\n    }\n\n    function exportDataJson () {\n      const data = exportAllRows(viewer.headers.value, viewer.datFile)\n      FileSaver.saveAs(new File(\n        [JSON.stringify(data, null, 2)],\n        `${viewer.name}.json`,\n        { type: 'application/json;charset=utf-8' }\n      ))\n    }\n\n    return {\n      viewer,\n      rowSorting: viewer.rowSorting,\n      selections,\n      defineColumn,\n      exportDataJson\n    }\n  }\n})\n","import { render } from \"./Actions.vue?vue&type=template&id=17f50966\"\nimport script from \"./Actions.vue?vue&type=script&lang=ts\"\nexport * from \"./Actions.vue?vue&type=script&lang=ts\"\n\nconst cssModules = script.__cssModules = {}\nimport style0 from \"./Actions.vue?vue&type=style&index=0&id=17f50966&lang=postcss&module=true\"\ncssModules[\"$style\"] = style0\nscript.render = render\n\nexport default script","<template>\n  <div class=\"datv-header-layer\">\n    <div :style=\"headersRowStyle\" class=\"absolute\">\n      <button v-for=\"col in headers\" :key=\"col.offset\"\n        class=\"datv-header\" :class=\"{ 'datv-col--border': col.border, 'datv-header--active': col.active }\"\n        :style=\"{ width: col.widthPx + 'px', transform: `translate(${col.leftPx}px, 0)` }\"\n        :title=\"col.name\"\n        @click=\"editHeader(col.offset)\"\n        @wheel=\"handleHeaderWheel(col.offset, $event)\">\n        <template v-if=\"col.name === null\">&nbsp;</template>\n        <span v-else-if=\"col.name === ''\" class=\"bg-gray-600 text-gray-300 px-1\">?</span>\n        <template v-else>{{ col.name }}</template>\n      </button>\n    </div>\n    <div :style=\"colsRowStyle\" class=\"absolute\">\n      <button v-for=\"col in columns\" :key=\"col.offset\"\n        class=\"datv-byte\"\n        :class=\"{\n          'datv-col--border': col.border,\n          'datv-byte--selected': col.selected\n        }\"\n        :style=\"{ width: col.widthPx + 'px', transform: `translate(${col.leftPx}px, 0)` }\"\n        @mousedown=\"selectStart(col.offset)\"\n        @mouseenter=\"selectContinue(col.offset, $event)\"\n        :title=\"col.offset\"\n        v-text=\"col.text\"\n      />\n    </div>\n    <div :style=\"statsRowStyle\" class=\"absolute datv-stats_row\">\n      <div v-for=\"col in columns\" :key=\"col.offset\"\n        class=\"datv-stat\"\n        :class=\"{\n          'datv-col--border': col.border,\n          'datv-byte--selected': col.selected\n        }\"\n        :style=\"{ width: col.widthPx + 'px', transform: `translate(${col.leftPx}px, 0)` }\"\n      >\n        <template v-if=\"col.stat\">\n          <div v-if=\"col.stat.string\"\n            class=\"datv-stat__line bg-yellow-600\" style=\"top: 0;\" />\n          <div v-if=\"col.stat.array\"\n            class=\"datv-stat__line bg-teal-500\" style=\"top: 7px;\" />\n          <div v-if=\"col.stat.zero\"\n            class=\"datv-stat__line bg-gray-900\" style=\"top: 14px;\" />\n          <div v-else-if=\"col.stat.nullable\"\n            class=\"datv-stat__line bg-pink-500\" style=\"top: 14px;\" />\n          <div class=\"datv-stat__max\" v-text=\"col.stat.max\" />\n        </template>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { toggleColsBetween } from '../selection'\nimport { sortRows } from '../sorting'\nimport { defineComponent, inject, shallowRef, shallowReactive, watch, computed, triggerRef } from 'vue'\nimport { saveHeaders, Viewer } from '../Viewer'\nimport * as rendering from '../rendering'\nimport { Header } from '../headers'\nimport { renderHeaderCols } from '../rendering/header-columns'\n\nexport default defineComponent({\n  props: {\n    left: {\n      type: Number,\n      required: true\n    },\n    width: {\n      type: Number,\n      required: true\n    },\n    columns: {\n      type: Array,\n      required: true\n    }\n  },\n  setup (props) {\n    const sortOrder = shallowRef(0)\n    let selectionStart = -1\n    let colsBeforeSelection = [] as readonly boolean[]\n\n    const viewer = inject<Viewer>('viewer')!\n\n    function selectStart (offset: number) {\n      selectionStart = offset\n      colsBeforeSelection = [...viewer.columnSelection.value]\n      toggleColsBetween(viewer.columnSelection.value, selectionStart, selectionStart, viewer.headers.value)\n      triggerRef(viewer.columnSelection)\n\n      document.addEventListener('mouseup', cancelSelection)\n      document.addEventListener('mouseleave', cancelSelection)\n      function cancelSelection () {\n        selectionStart = -1\n        document.removeEventListener('mouseup', cancelSelection)\n        document.removeEventListener('mouseleave', cancelSelection)\n      }\n    }\n\n    function selectContinue (offset: number, e: MouseEvent) {\n      if (selectionStart === -1 || e.buttons !== 1) return\n\n      const { memsize } = viewer.datFile\n      const len = offset - selectionStart\n      if (len >= memsize) {\n        offset = (selectionStart + memsize * 2) - 1\n      } else if (len >= 4) {\n        offset = (selectionStart + 8) - 1\n      } else if (len >= 2) {\n        offset = (selectionStart + 4) - 1\n      }\n      if (len <= -memsize) {\n        offset = (selectionStart - memsize * 2) + 1\n      } else if (len <= -4) {\n        offset = (selectionStart - 8) + 1\n      } else if (len <= -2) {\n        offset = (selectionStart - 4) + 1\n      }\n\n      viewer.columnSelection.value = [...colsBeforeSelection]\n      toggleColsBetween(viewer.columnSelection.value, selectionStart, offset, viewer.headers.value)\n    }\n\n    function editHeader (offset: number) {\n      const header = viewer.headers.value.find(h => h.offset === offset)!\n      if (\n        viewer.editHeader.value === header &&\n        (!header.type.byteView || header.type.byteView.array)\n      ) {\n        if (sortOrder.value === 0) {\n          sortOrder.value = 1\n        } else if (sortOrder.value === 1) {\n          sortOrder.value = -1\n        } else if (sortOrder.value === -1) {\n          sortOrder.value = 1\n        }\n        viewer.rowSorting.value = sortRows(header, sortOrder.value as 1 | -1, viewer.datFile)\n      } else {\n        viewer.editHeader.value = header\n        sortOrder.value = 0\n      }\n    }\n\n    function handleHeaderWheel (offset: number, e: WheelEvent) {\n      e.preventDefault()\n      const header = viewer.headers.value.find(h => h.offset === offset)!\n      if (header.textLength != null) {\n        header.textLength = Math.max(1, header.textLength -\n          Math.sign(e.deltaY) * (e.ctrlKey ? 4 * 3 - 2 : 1))\n        triggerRef(viewer.headers)\n        saveHeaders(viewer)\n      }\n    }\n\n    const headers = computed(() =>\n      renderHeaderCols(\n        viewer.headers.value,\n        viewer.editHeader.value,\n        props.left, props.left + props.width))\n\n    return {\n      headers,\n      selectStart,\n      selectContinue,\n      editHeader,\n      handleHeaderWheel,\n      headersRowStyle: computed(() =>\n        ({ transform: `translate(${-props.left}px, 0)`, lineHeight: rendering.COLUMN_BYTE_HEIGHT + 'px', fontFamily: rendering.FONT_FAMILY, fontSize: rendering.FONT_SIZE + 'px' })),\n      colsRowStyle: computed(() =>\n        ({ transform: `translate(${-props.left}px, ${rendering.COLUMN_BYTE_HEIGHT}px)`, lineHeight: rendering.COLUMN_BYTE_HEIGHT + 'px', fontFamily: rendering.FONT_FAMILY, fontSize: rendering.FONT_SIZE + 'px' })),\n      statsRowStyle: computed(() =>\n        ({ transform: `translate(${-props.left}px, ${rendering.COLUMN_BYTE_HEIGHT * 2}px)`, fontFamily: rendering.FONT_FAMILY, fontSize: rendering.FONT_SIZE + 'px' }))\n    }\n  }\n})\n</script>\n\n<style lang=\"postcss\">\n.datv-col--border {\n  @apply border-l border-gray-500;\n}\n\n.datv-header {\n  @apply text-gray-700;\n  position: absolute;\n  box-sizing: border-box;\n  text-align: center;\n  white-space: nowrap;\n  overflow: hidden;\n  @apply px-1.5;\n\n  &:hover {\n    @apply bg-gray-400;\n    @apply text-gray-800;\n  }\n\n  &.datv-header--active {\n    @apply bg-gray-600;\n    @apply text-gray-300;\n  }\n}\n\n.datv-byte {\n  @apply text-gray-700;\n  position: absolute;\n  box-sizing: content-box;\n  text-align: center;\n  white-space: nowrap;\n  overflow: hidden;\n\n  &:hover {\n    @apply bg-blue-400;\n    @apply text-white;\n  }\n\n  &.datv-byte--selected {\n    @apply bg-blue-500;\n    @apply text-blue-100;\n  }\n\n  &.datv-byte--selected.datv-col--border,\n  &.datv-byte--selected + &.datv-col--border {\n    @apply border-blue-700;\n  }\n}\n\n.datv-stat {\n  position: absolute;\n  box-sizing: content-box;\n  text-align: center;\n  white-space: nowrap;\n  line-height: 21px;\n  height: 21px;\n\n  &.datv-byte--selected.datv-col--border,\n  &.datv-byte--selected + &.datv-col--border {\n    @apply border-gray-500;\n  }\n\n  &.datv-byte--selected {\n    @apply bg-gray-400;\n  }\n\n  .datv-stats_row:hover > & {\n    @apply bg-gray-500;\n  }\n}\n\n.datv-stat__line {\n  position: absolute;\n  height: 7px;\n  width: 100%;\n\n  .datv-col--border > & {\n    width: calc(100% + 1px);\n    margin-left: -1px;\n  }\n\n  .datv-stats_row:hover & {\n    --bg-opacity: 0.35;\n  }\n}\n\n.datv-stat__max {\n  visibility: hidden;\n  text-align: center;\n  cursor: default;\n  line-height: 21px;\n  width: 100%;\n  height: 21px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  @apply text-gray-100;\n  text-shadow: 0 0 0.5ch rgb(0 0 0 / 70%);\n\n  .datv-stats_row:hover & {\n    visibility: visible;\n  }\n}\n\n.datv-header-layer {\n  position: absolute;\n  overflow: hidden;\n  transform: translate3d(0, 0, 0);\n  contain: strict;\n  @apply bg-gray-200;\n}\n</style>\n","import { readColumn, DatFile, Header } from 'pathofexile-dat'\n\nexport function sortRows (header: Header, order: 1 | -1, datFile: DatFile): number[] {\n  const data = readColumn(header, datFile)\n\n  const rows = Array.from({ length: datFile.rowCount }, (_, idx) => idx)\n  if (header.type.array) {\n    rows.sort((ai, bi) => {\n      const a = data[ai] as unknown[]\n      const b = data[bi] as unknown[]\n      return (b.length - a.length) * order\n    })\n  } else {\n    if (header.type.boolean) {\n      rows.sort((ai, bi) => {\n        const a = Number(data[ai] as boolean)\n        const b = Number(data[bi] as boolean)\n        return (a - b) * order\n      })\n    } else if (header.type.string) {\n      rows.sort((ai, bi) => {\n        const a = data[ai] as string\n        const b = data[bi] as string\n        return a.localeCompare(b) * order\n      })\n    } else if (header.type.integer || header.type.decimal) {\n      rows.sort((ai, bi) => {\n        const a = data[ai] as number\n        const b = data[bi] as number\n        return (b - a) * order\n      })\n    } else if (header.type.key) {\n      if (header.type.key.foreign) {\n        rows.sort((ai, bi) => {\n          const a = data[ai] as { rid: number, unknown: number } | null\n          const b = data[bi] as { rid: number, unknown: number } | null\n          return ((b?.rid || 0) - (a?.rid || 0)) * order\n        })\n      } else {\n        rows.sort((ai, bi) => {\n          const a = Number(data[ai] as number | null)\n          const b = Number(data[bi] as number | null)\n          return (b - a) * order\n        })\n      }\n    }\n  }\n\n  return rows\n}\n","import { CHAR_WIDTH, LINE_HEIGHT } from '../rendering'\nimport { getFieldReader } from 'pathofexile-dat/dat/reader'\nimport type { DatFile } from 'pathofexile-dat'\nimport type { ColumnStats } from 'pathofexile-dat/dat-analysis'\nimport type { Header } from '../headers'\n\ninterface StringifyOut {\n  text: string\n  color: string\n}\n\nfunction numberToString (value: number, out: StringifyOut) {\n  out.text = String(value)\n  out.color = '#098658'\n}\nfunction numberArrayToString (value: number[], out: StringifyOut) {\n  out.text = `[${value.join(', ')}]`\n  out.color = '#098658'\n}\nfunction booleanToString (value: boolean, out: StringifyOut) {\n  out.text = String(value)\n  out.color = '#0000ff'\n}\nfunction booleanArrayToString (value: boolean[], out: StringifyOut) {\n  out.text = `[${value.join(', ')}]`\n  out.color = '#0000ff'\n}\nfunction stringToString (value: string, out: StringifyOut) {\n  if (value === '') {\n    out.text = 'null'\n    out.color = '#0000ff'\n  } else {\n    out.text = String(value)\n    out.color = '#001080'\n  }\n}\nfunction stringArrayToString (value: string[], out: StringifyOut) {\n  out.text = `[${value.map(str => '\"' + str + '\"').join(', ')}]`\n  out.color = '#001080'\n}\nfunction keySelfToString (value: number | null, out: StringifyOut) {\n  if (value === null) {\n    out.text = 'null'\n    out.color = '#0000ff'\n  } else {\n    out.text = `<${value}, self>`\n    out.color = '#098658'\n  }\n}\nfunction keySelfArrayToString (value: number[], out: StringifyOut) {\n  out.text = `[${value.map(key => `<${key}, self>`).join(', ')}]`\n  out.color = '#098658'\n}\nfunction keyForeignToString (value: { rid: number, unknown: number } | null, out: StringifyOut) {\n  if (value === null) {\n    out.text = 'null'\n    out.color = '#0000ff'\n  } else {\n    out.text = `<${value.rid}, ${value.unknown}>`\n    out.color = '#098658'\n  }\n}\nfunction keyForeignArrayToString (value: { rid: number, unknown: number }[], out: StringifyOut) {\n  out.text = `[${value.map(key => `<${key.rid}, ${key.unknown}>`).join(', ')}]`\n  out.color = '#098658'\n}\n\nexport function renderCellContent (ctx: CanvasRenderingContext2D, header: Header, datFile: DatFile, rows: number[]) {\n  const read = getFieldReader(header, datFile)\n\n  const draw: StringifyOut = { text: '', color: '' }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const stringify: (value: any, out: StringifyOut) => void = (() => {\n    if (header.type.array) {\n      if (header.type.boolean) return booleanArrayToString\n      if (header.type.string) return stringArrayToString\n      if (header.type.integer || header.type.decimal) return numberArrayToString\n      if (header.type.key && header.type.key.foreign) return keyForeignArrayToString\n      if (header.type.key && !header.type.key.foreign) return keySelfArrayToString\n    } else {\n      if (header.type.boolean) return booleanToString\n      if (header.type.string) return stringToString\n      if (header.type.integer || header.type.decimal) return numberToString\n      if (header.type.key && header.type.key.foreign) return keyForeignToString\n      if (header.type.key && !header.type.key.foreign) return keySelfToString\n    }\n    throw new Error('never')\n  })()\n\n  let textY = 0\n  let prevColor = ''\n  for (const rid of rows) {\n    stringify(read(rid), draw)\n    if (prevColor !== draw.color) {\n      ctx.fillStyle = draw.color\n      prevColor = draw.color\n    }\n    ctx.fillText(draw.text, 0, textY)\n    textY += LINE_HEIGHT\n  }\n}\n\nexport function drawByteView (ctx: CanvasRenderingContext2D, header: Header, datFile: DatFile, rows: number[], begin: number, end: number) {\n  ctx.fillStyle = '#000'\n\n  let textY = 0\n  for (const rowIdx of rows) {\n    const data = datFile.dataFixed.subarray(\n      (rowIdx * datFile.rowLength) + header.offset + begin,\n      (rowIdx * datFile.rowLength) + header.offset + end\n    )\n    const hexDump = Array.from(data, byte =>\n      byte.toString(16).padStart(2, '0')\n    ).join(' ')\n\n    ctx.fillText(hexDump, begin * (CHAR_WIDTH * 3), textY)\n    textY += LINE_HEIGHT\n  }\n}\n\nexport function drawArrayVarData (ctx: CanvasRenderingContext2D, header: Header, datFile: DatFile, rows: number[], stats: ColumnStats) {\n  ctx.fillStyle = '#000'\n\n  const stat = stats.refArray as Exclude<typeof stats['refArray'], false>\n  const entryMaxLength = Math.max(...([\n    (stat.keyForeign ? datFile.fieldSize.KEY_FOREIGN : 0),\n    (stat.keySelf ? datFile.fieldSize.KEY : 0),\n    (stat.string ? datFile.fieldSize.STRING : 0),\n    (stat.longLong ? datFile.fieldSize.LONGLONG : 0),\n    (stat.long ? datFile.fieldSize.LONG : 0),\n    (stat.short ? datFile.fieldSize.SHORT : 0),\n    (datFile.fieldSize.BYTE)\n  ]))\n  const maxReadBytes = Math.ceil(header.textLength! / 3)\n\n  let textY = 0\n  for (const rowIdx of rows) {\n    const arrayLength = datFile.readerFixed.getSizeT((rowIdx * datFile.rowLength) + header.offset)\n    if (arrayLength === 0) {\n      ctx.fillText('[]', 0, textY)\n    } else {\n      const varOffset = datFile.readerFixed.getSizeT((rowIdx * datFile.rowLength) + header.offset + datFile.memsize)\n\n      const data = datFile.dataVariable.subarray(\n        varOffset,\n        varOffset + Math.min(entryMaxLength * arrayLength, maxReadBytes)\n      )\n      const hexDump = Array.from(data, byte =>\n        byte.toString(16).padStart(2, '0')\n      ).join(' ')\n\n      ctx.fillText(`${arrayLength} { ${hexDump} }`, 0, textY)\n    }\n    textY += LINE_HEIGHT\n  }\n}\n","import type { Header } from './headers'\nimport type { RenderByte } from './rendering/byte-columns'\nimport type { Viewer } from './Viewer'\nimport { renderCellContent, drawByteView, drawArrayVarData } from './rendering/content'\n\n/* eslint-disable */\nexport const FONT_FAMILY    = 'Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace'\nexport const FONT_SIZE      = 14\nexport const CHAR_WIDTH     = getMonoFontWidth(FONT_SIZE, FONT_FAMILY)\nexport const XBASE_HEIGHT   = getFontBaseLine(FONT_SIZE, FONT_FAMILY)\nexport const LINE_HEIGHT    = 19\nexport const ROWNUM_MIN_LENGTH    = 3\nexport const BORDER_WIDTH         = 1\nexport const COLUMN_STAT_HEIGHT   = 7\nexport const COLUMN_BYTE_HEIGHT   = Math.round(CHAR_WIDTH * 3)\nexport const HEADERS_HEIGHT       = COLUMN_BYTE_HEIGHT * 2 + COLUMN_STAT_HEIGHT * 3\n/* eslint-enable */\n\n// console.log(getBaseLine(14), 'CR: 11  |  FF: 12')\n// console.log(getBaseLine(18), 'CR: 13  |  FF: 14')\n// console.log(getBaseLine(19), 'CR: 14  |  FF: 14')\n// console.log(getBaseLine(20), 'CR: 14  |  FF: 15')\n\nexport function rowNumLength (rowCount: number) {\n  const maxLen = String(rowCount - 1).length\n  return Math.max(maxLen, ROWNUM_MIN_LENGTH)\n}\n\nexport function rowsNumWidth (rowCount: number) {\n  return Math.ceil(rowNumLength(rowCount) * CHAR_WIDTH)\n}\n\nexport function rowsOverlayWidth (rowCount: number) {\n  return rowsNumWidth(rowCount) + (8 * 2)\n}\n\nfunction getMonoFontWidth (fontSize: number, fontFamily: string): number {\n  const canvasEl = document.createElement('canvas')\n  const context = canvasEl.getContext('2d')!\n  context.font = `${fontSize}px ${fontFamily}`\n  const metrics = context.measureText('0')\n  return metrics.width\n}\n\nfunction getFontBaseLine (fontSize: number, fontFamily: string): number {\n  const canvasEl = document.createElement('canvas')\n  const context = canvasEl.getContext('2d')!\n  context.font = `${fontSize}px ${fontFamily}`\n  context.textBaseline = 'middle'\n  const metrics = context.measureText('0')\n  const xBase = (fontSize / 2) +\n    ((metrics.alphabeticBaseline !== undefined)\n      ? -metrics.alphabeticBaseline\n      : metrics.actualBoundingBoxDescent)\n\n  return xBase\n}\n\nexport function getBaseLine (lineHeight: number): number {\n  return /* Math.round */ (1 + (lineHeight - FONT_SIZE) / 2 + XBASE_HEIGHT)\n}\n\nexport function drawRows (params: {\n  left: number\n  paintWidth: number\n  top: number\n  rows: number[]\n  columns: RenderByte[]\n  viewer: Viewer\n  ctx: CanvasRenderingContext2D\n}) {\n  const { ctx } = params\n\n  ctx.fillStyle = '#fff'\n  ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height)\n\n  // draw selected row\n  if (params.viewer.selectedRow.value !== null) {\n    const selectedIdx = params.rows.indexOf(params.viewer.selectedRow.value)\n    if (selectedIdx !== -1) {\n      ctx.fillStyle = '#bee3f8'\n      ctx.fillRect(\n        0, params.top + (selectedIdx * LINE_HEIGHT),\n        ctx.canvas.width, LINE_HEIGHT\n      )\n    }\n  }\n\n  // drawColumns\n  ctx.save()\n  ctx.translate(-params.left, 0)\n  drawColumns(ctx, params.columns)\n  ctx.restore()\n\n  // draw content\n  ctx.font = `${FONT_SIZE}px ${FONT_FAMILY}`\n  ctx.fillStyle = '#000'\n\n  const renderers = getColumnRenderers(params.viewer, params.left, params.left + params.paintWidth)\n\n  for (const render of renderers) {\n    ctx.save()\n    ctx.beginPath()\n    ctx.translate(render.left - params.left, 0)\n    ctx.rect(0, 0, render.width, ctx.canvas.height)\n    ctx.clip()\n    ctx.translate(CHAR_WIDTH / 2, params.top + getBaseLine(LINE_HEIGHT))\n    render.exec(ctx, params.rows)\n    ctx.restore()\n  }\n\n  // draw inset shadow\n  {\n    const grdH = ctx.createLinearGradient(0, -16, 0, 4)\n    grdH.addColorStop(0, 'rgba(254,254,254,0.6)')\n    grdH.addColorStop(1, 'transparent')\n    ctx.fillStyle = grdH\n    ctx.fillRect(0, 0, ctx.canvas.width, 6)\n\n    const grdV = ctx.createLinearGradient(-16, 0, 4, 0)\n    grdV.addColorStop(0, 'rgba(254,254,254,0.5)')\n    grdV.addColorStop(1, 'transparent')\n    ctx.fillStyle = grdV\n    ctx.fillRect(0, 0, 6, ctx.canvas.height)\n  }\n}\n\nfunction drawColumns (ctx: CanvasRenderingContext2D, columns: readonly RenderByte[]) {\n  for (const col of columns) {\n    if (col.selected) {\n      ctx.fillStyle = '#bee3f8'\n      ctx.fillRect(\n        col.leftPx + (col.border ? BORDER_WIDTH : 0), 0,\n        col.widthPx, ctx.canvas.height\n      )\n    }\n    if (col.border) {\n      ctx.fillStyle = '#bdbdbd'\n      ctx.fillRect(\n        col.leftPx, 0,\n        BORDER_WIDTH, ctx.canvas.height\n      )\n    }\n  }\n}\n\ntype DrawColumnContentFn = (ctx: CanvasRenderingContext2D, rows: number[]) => void\ninterface ColumnContentRenderer {\n  left: number\n  width: number\n  exec: DrawColumnContentFn\n}\n\nexport function getColumnRenderers (viewer: Viewer, paintBegin: number, paintEnd: number): ColumnContentRenderer[] {\n  const headers = viewer.headers.value\n  const stats = viewer.columnStats.value\n  const datFile = viewer.datFile\n\n  const res: ColumnContentRenderer[] = []\n  let left = 0\n  for (const header of headers) {\n    const sizes = columnSizes(header)\n\n    if ((left + sizes.borderWidth) >= paintBegin) {\n      if (header.type.byteView) {\n        if (header.type.byteView.array) {\n          res.push({\n            left: left + (sizes.borderWidth ? BORDER_WIDTH : 0),\n            width: sizes.paddingWidth,\n            exec: (ctx: CanvasRenderingContext2D, rows: number[]) =>\n              drawArrayVarData(ctx, header, datFile, rows, stats[header.offset])\n          })\n        } else {\n          const hexBegin = Math.max(0, Math.floor((paintBegin - left) / (CHAR_WIDTH * 3)))\n          const hexEnd = Math.min(header.length, Math.ceil((paintEnd - left) / (CHAR_WIDTH * 3)))\n          res.push({\n            left: left + (sizes.borderWidth ? BORDER_WIDTH : 0),\n            width: sizes.paddingWidth,\n            exec: (ctx: CanvasRenderingContext2D, rows: number[]) =>\n              drawByteView(ctx, header, datFile, rows, hexBegin, hexEnd)\n          })\n        }\n      } else {\n        res.push({\n          left: left + (sizes.borderWidth ? BORDER_WIDTH : 0),\n          width: sizes.paddingWidth,\n          exec: (ctx: CanvasRenderingContext2D, rows: number[]) =>\n            renderCellContent(ctx, header, datFile, rows)\n        })\n      }\n    }\n\n    left += sizes.borderWidth\n    if (left >= paintEnd) return res\n  }\n\n  return res\n}\n\nexport function columnSizes (header: Readonly<Header>) {\n  const textLength = (header.type.byteView && !header.type.byteView.array)\n    ? header.length * 3 - 1\n    : header.textLength!\n  return {\n    paddingWidth: Math.ceil((textLength + 1) * CHAR_WIDTH),\n    borderWidth: Math.ceil((textLength + 1) * CHAR_WIDTH) + (header.offset > 0 ? BORDER_WIDTH : 0),\n    hasBorder: header.offset > 0\n  }\n}\n\nexport function getRowWidth (headers: readonly Header[]): number {\n  let size = 0\n  for (const header of headers) {\n    const sizes = columnSizes(header)\n    size += sizes.borderWidth\n  }\n  return size\n}\n","import type { Header } from '../headers'\nimport { columnSizes } from '../rendering'\n\ninterface RenderHeader {\n  offset: number\n  border: boolean\n  active: boolean\n  widthPx: number\n  leftPx: number\n  name: string | null\n}\n\nexport function renderHeaderCols (\n  headers: readonly Header[],\n  activeHeader: Header | null,\n  paintBegin: number,\n  paintEnd: number\n) {\n  const res: RenderHeader[] = []\n\n  let left = 0\n  for (const header of headers) {\n    const sizes = columnSizes(header)\n\n    if ((left + sizes.borderWidth) >= paintBegin) {\n      res.push({\n        offset: header.offset,\n        border: sizes.hasBorder,\n        active: (header === activeHeader),\n        widthPx: sizes.borderWidth,\n        leftPx: left,\n        name: header.name\n      })\n    }\n\n    left += sizes.borderWidth\n    if (left >= paintEnd) return res\n  }\n\n  return res\n}\n","\nimport { toggleColsBetween } from '../selection'\nimport { sortRows } from '../sorting'\nimport { defineComponent, inject, shallowRef, shallowReactive, watch, computed, triggerRef } from 'vue'\nimport { saveHeaders, Viewer } from '../Viewer'\nimport * as rendering from '../rendering'\nimport { Header } from '../headers'\nimport { renderHeaderCols } from '../rendering/header-columns'\n\nexport default defineComponent({\n  props: {\n    left: {\n      type: Number,\n      required: true\n    },\n    width: {\n      type: Number,\n      required: true\n    },\n    columns: {\n      type: Array,\n      required: true\n    }\n  },\n  setup (props) {\n    const sortOrder = shallowRef(0)\n    let selectionStart = -1\n    let colsBeforeSelection = [] as readonly boolean[]\n\n    const viewer = inject<Viewer>('viewer')!\n\n    function selectStart (offset: number) {\n      selectionStart = offset\n      colsBeforeSelection = [...viewer.columnSelection.value]\n      toggleColsBetween(viewer.columnSelection.value, selectionStart, selectionStart, viewer.headers.value)\n      triggerRef(viewer.columnSelection)\n\n      document.addEventListener('mouseup', cancelSelection)\n      document.addEventListener('mouseleave', cancelSelection)\n      function cancelSelection () {\n        selectionStart = -1\n        document.removeEventListener('mouseup', cancelSelection)\n        document.removeEventListener('mouseleave', cancelSelection)\n      }\n    }\n\n    function selectContinue (offset: number, e: MouseEvent) {\n      if (selectionStart === -1 || e.buttons !== 1) return\n\n      const { memsize } = viewer.datFile\n      const len = offset - selectionStart\n      if (len >= memsize) {\n        offset = (selectionStart + memsize * 2) - 1\n      } else if (len >= 4) {\n        offset = (selectionStart + 8) - 1\n      } else if (len >= 2) {\n        offset = (selectionStart + 4) - 1\n      }\n      if (len <= -memsize) {\n        offset = (selectionStart - memsize * 2) + 1\n      } else if (len <= -4) {\n        offset = (selectionStart - 8) + 1\n      } else if (len <= -2) {\n        offset = (selectionStart - 4) + 1\n      }\n\n      viewer.columnSelection.value = [...colsBeforeSelection]\n      toggleColsBetween(viewer.columnSelection.value, selectionStart, offset, viewer.headers.value)\n    }\n\n    function editHeader (offset: number) {\n      const header = viewer.headers.value.find(h => h.offset === offset)!\n      if (\n        viewer.editHeader.value === header &&\n        (!header.type.byteView || header.type.byteView.array)\n      ) {\n        if (sortOrder.value === 0) {\n          sortOrder.value = 1\n        } else if (sortOrder.value === 1) {\n          sortOrder.value = -1\n        } else if (sortOrder.value === -1) {\n          sortOrder.value = 1\n        }\n        viewer.rowSorting.value = sortRows(header, sortOrder.value as 1 | -1, viewer.datFile)\n      } else {\n        viewer.editHeader.value = header\n        sortOrder.value = 0\n      }\n    }\n\n    function handleHeaderWheel (offset: number, e: WheelEvent) {\n      e.preventDefault()\n      const header = viewer.headers.value.find(h => h.offset === offset)!\n      if (header.textLength != null) {\n        header.textLength = Math.max(1, header.textLength -\n          Math.sign(e.deltaY) * (e.ctrlKey ? 4 * 3 - 2 : 1))\n        triggerRef(viewer.headers)\n        saveHeaders(viewer)\n      }\n    }\n\n    const headers = computed(() =>\n      renderHeaderCols(\n        viewer.headers.value,\n        viewer.editHeader.value,\n        props.left, props.left + props.width))\n\n    return {\n      headers,\n      selectStart,\n      selectContinue,\n      editHeader,\n      handleHeaderWheel,\n      headersRowStyle: computed(() =>\n        ({ transform: `translate(${-props.left}px, 0)`, lineHeight: rendering.COLUMN_BYTE_HEIGHT + 'px', fontFamily: rendering.FONT_FAMILY, fontSize: rendering.FONT_SIZE + 'px' })),\n      colsRowStyle: computed(() =>\n        ({ transform: `translate(${-props.left}px, ${rendering.COLUMN_BYTE_HEIGHT}px)`, lineHeight: rendering.COLUMN_BYTE_HEIGHT + 'px', fontFamily: rendering.FONT_FAMILY, fontSize: rendering.FONT_SIZE + 'px' })),\n      statsRowStyle: computed(() =>\n        ({ transform: `translate(${-props.left}px, ${rendering.COLUMN_BYTE_HEIGHT * 2}px)`, fontFamily: rendering.FONT_FAMILY, fontSize: rendering.FONT_SIZE + 'px' }))\n    }\n  }\n})\n","import { render } from \"./ViewerHead.vue?vue&type=template&id=33d1f9c7\"\nimport script from \"./ViewerHead.vue?vue&type=script&lang=ts\"\nexport * from \"./ViewerHead.vue?vue&type=script&lang=ts\"\n\nimport \"./ViewerHead.vue?vue&type=style&index=0&id=33d1f9c7&lang=postcss\"\nscript.render = render\n\nexport default script","<template>\n  <div v-if=\"isVisible\" style=\"width: 300px;\" class=\"relative overflow-hidden\">\n    <div :style=\"{ height: HEADERS_HEIGHT + 'px' }\" class=\"bg-gray-200\" />\n    <div class=\"m-2 shadow border border-gray-400 bg-white absolute inset-0 flex flex-col\">\n      <div class=\"p-2 bg-gray-200 text-gray-700 shadow flex items-baseline\">\n        <span class=\"px-2\">Column properties</span>\n        <button class=\"border border-gray-500 rounded-full px-3\"\n          @click=\"$emit('focus-editing-header')\">Focus</button>\n        <button @click=\"close\" class=\"px-2 py-1 ml-auto\"\n          title=\"Close\"><i class=\"codicon codicon-close\"></i></button>\n      </div>\n      <div v-if=\"header.name === null\" class=\"p-4\">\n        <div>{{ header.length }} bytes of unidentified data</div>\n      </div>\n      <div v-else class=\"p-4 overflow-auto\">\n        <div class=\"mb-4\">\n          <label for=\"datv-header-name\">Name</label>\n          <input id=\"datv-header-name\" placeholder=\"Unnamed\" v-model.trim=\"header.name\"\n            class=\"border p-1 mt-1 w-full focus:border-blue-500\" spellcheck=\"false\">\n        </div>\n        <div class=\"mb-4 flex items-baseline\">\n          <div class=\"mr-2\">View mode</div>\n          <div class=\"space-x-px flex\">\n            <button v-for=\"opt in viewModeOpts\" :key=\"opt.value\"\n              class=\"px-2\"\n              :class=\"(byteViewMode === opt.value) ? 'bg-blue-500 text-white' : 'bg-gray-200 hover:bg-gray-400'\"\n              @click=\"byteViewMode = opt.value\"\n              :disabled=\"opt.disabled\"\n              v-text=\"opt.label\" />\n          </div>\n        </div>\n        <div class=\"mb-4\">\n          <div class=\"mb-2 flex justify-between items-baseline\">\n            <span>Data type</span>\n            <button class=\"text-red-700 bg-red-100 px-2\"\n             @click=\"remove\">Delete</button>\n          </div>\n          <div>\n            <div v-for=\"opt in dataTypeOpts\" :key=\"opt.value\" class=\"mb-0.5\">\n              <label class=\"inline-flex items-center\">\n                <input type=\"radio\" v-model=\"dataType\" :value=\"opt.value\">\n                <span class=\"ml-2 cursor-pointer\">{{ opt.label }}</span>\n              </label>\n            </div>\n            <div v-if=\"arrayTypeOpts.length\" class=\"mt-3\">\n              <div class=\"mb-1\">of ...</div>\n              <div v-for=\"opt in arrayTypeOpts\" :key=\"opt.value\" class=\"mb-0.5\">\n                <label class=\"inline-flex items-center\">\n                  <input type=\"radio\" v-model=\"arrayType\" :value=\"opt.value\">\n                  <span class=\"ml-2 cursor-pointer\">{{ opt.label }}</span>\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"mb-4\" v-if=\"header.type.integer\">\n          <label class=\"inline-flex items-center\">\n            <input type=\"checkbox\" v-model=\"header.type.integer.unsigned\">\n            <span class=\"ml-2 cursor-pointer\">Unsigned</span>\n          </label>\n        </div>\n        <div class=\"mb-4 border-t pt-4\" v-if=\"dataType\">\n          <label class=\"mr-4\">Width</label>\n          <input v-model.number=\"header.textLength\"\n            class=\"border w-16 text-center\"> chars\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, inject, computed, triggerRef, reactive, watch, WatchStopHandle } from 'vue'\nimport { Header, removeHeader } from '../headers'\nimport { Viewer, saveHeaders } from '../Viewer'\nimport type { DatFile } from 'pathofexile-dat'\nimport type { ColumnStats } from 'pathofexile-dat/dat-analysis'\nimport { HEADERS_HEIGHT } from '../rendering'\n\nfunction dataTypeOpts (header: Header, stats: ColumnStats, datFile: DatFile) {\n  const opts = [] as Array<{ label: string, value: string }>\n\n  const { fieldSize } = datFile\n  const len = header.length\n  if (len === fieldSize.ARRAY && stats.refArray) {\n    opts.push({ label: 'Array', value: 'array' })\n  }\n  if (len === fieldSize.STRING && stats.refString) {\n    opts.push({ label: 'String', value: 'string' })\n  }\n  if (len === fieldSize.KEY && stats.keySelf) {\n    opts.push({ label: 'Key (self)', value: 'key_self' })\n  }\n  if (len === fieldSize.KEY_FOREIGN) {\n    opts.push({ label: 'Key (foreign)', value: 'key_foreign' })\n  }\n  if (len === 8 || len === 4 || len === 2 || len === 1) {\n    opts.push({ label: 'Integer', value: 'integer' })\n  }\n  if (len === 8 || len === 4) {\n    opts.push({ label: 'Decimal', value: 'decimal' })\n  }\n  if (len === 1 && stats.bMax <= 0x01) {\n    opts.push({ label: 'Boolean', value: 'boolean' })\n  }\n\n  return opts\n}\n\nfunction arrayTypeOpts (header: Header, stats: ColumnStats) {\n  const opts = [] as Array<{ label: string, value: string }>\n\n  if (!header.type.array || !stats.refArray) {\n    return opts\n  }\n\n  const array = stats.refArray\n  if (array.string) {\n    opts.push({ label: 'String', value: 'string' })\n  }\n  if (array.keySelf) {\n    opts.push({ label: 'Key (self)', value: 'key_self' })\n  }\n  if (array.keyForeign) {\n    opts.push({ label: 'Key (foreign)', value: 'key_foreign' })\n  }\n  if (array.longLong) {\n    opts.push({ label: 'Integer - 8 bytes', value: 'integer_8' })\n  }\n  if (array.long) {\n    opts.push({ label: 'Integer - 4 bytes', value: 'integer_4' })\n  }\n  if (array.short) {\n    opts.push({ label: 'Integer - 2 bytes', value: 'integer_2' })\n  }\n  if (array.longLong) {\n    opts.push({ label: 'Decimal - 8 bytes', value: 'decimal_8' })\n  }\n  if (array.long) {\n    opts.push({ label: 'Decimal - 4 bytes', value: 'decimal_4' })\n  }\n  if (array.boolean) {\n    opts.push({ label: 'Boolean', value: 'boolean' })\n  }\n  opts.push({ label: 'Integer - byte', value: 'integer_1' })\n\n  return opts\n}\n\nexport default defineComponent({\n  setup () {\n    const viewer = inject<Viewer>('viewer')!\n\n    const headerRef = computed(() => (viewer.editHeader.value && reactive(viewer.editHeader.value))!)\n    {\n      let watchStop = null as WatchStopHandle | null\n      watch(headerRef, (value) => {\n        if (watchStop) {\n          watchStop()\n          watchStop = null\n        }\n        if (value) {\n          watchStop = watch(value, () => {\n            triggerRef(viewer.headers)\n            saveHeaders(viewer)\n          }, { deep: true })\n        }\n      })\n    }\n\n    const stats = computed(() => viewer.columnStats.value[headerRef.value.offset])\n\n    const dataType = computed({\n      get () {\n        const type = headerRef.value.type\n        if (type.array) {\n          return 'array'\n        } else if (type.string) {\n          return 'string'\n        } else if (type.key) {\n          return type.key.foreign ? 'key_foreign' : 'key_self'\n        } else if (type.integer) {\n          return 'integer'\n        } else if (type.decimal) {\n          return 'decimal'\n        } else if (type.boolean) {\n          return 'boolean'\n        } else {\n          return undefined\n        }\n      },\n      set (type) {\n        const header = headerRef.value\n        header.type = {}\n        if (type === 'array') {\n          header.type.array = true\n          header.type.byteView = { array: true }\n        } else if (type === 'string') {\n          header.type.string = {}\n        } else if (type === 'key_foreign') {\n          header.type.key = { foreign: true }\n        } else if (type === 'key_self') {\n          header.type.key = { foreign: false }\n        } else if (type === 'integer') {\n          header.type.integer = { unsigned: true, size: header.length }\n        } else if (type === 'decimal') {\n          header.type.decimal = { size: header.length }\n        } else if (type === 'boolean') {\n          header.type.boolean = {}\n        }\n      }\n    })\n\n    const arrayType = computed({\n      get () {\n        const type = headerRef.value.type\n        if (type.string) {\n          return 'string'\n        } else if (type.key) {\n          return (type.key.foreign) ? 'key_foreign' : 'key_self'\n        } else if (type.integer) {\n          return `integer_${type.integer.size}`\n        } else if (type.decimal) {\n          return `decimal_${type.decimal.size}`\n        } else if (type.boolean) {\n          return 'boolean'\n        } else {\n          return undefined\n        }\n      },\n      set (type) {\n        const header = headerRef.value\n        header.type = { array: true }\n        if (type === 'string') {\n          header.type.string = {}\n        } else if (type === 'key_foreign') {\n          header.type.key = { foreign: true }\n        } else if (type === 'key_self') {\n          header.type.key = { foreign: false }\n        } else if (type === 'integer_1') {\n          header.type.integer = { unsigned: true, size: 1 }\n        } else if (type === 'integer_2') {\n          header.type.integer = { unsigned: true, size: 2 }\n        } else if (type === 'integer_4') {\n          header.type.integer = { unsigned: true, size: 4 }\n        } else if (type === 'integer_8') {\n          header.type.integer = { unsigned: true, size: 8 }\n        } else if (type === 'decimal_4') {\n          header.type.decimal = { size: 4 }\n        } else if (type === 'decimal_8') {\n          header.type.decimal = { size: 8 }\n        } else if (type === 'boolean') {\n          header.type.boolean = {}\n        }\n      }\n    })\n\n    const viewModeOpts = computed(() => {\n      const opts = [] as Array<{ label: string, value: string, disabled?: boolean }>\n      const type = headerRef.value.type\n\n      opts.push({ label: 'Bytes', value: 'bytes' })\n      if (type.array) {\n        opts.push({ label: 'Var. bytes', value: 'array-bytes' })\n      }\n      opts.push({ label: 'Data', value: 'data', disabled: !dataType.value || (dataType.value === 'array' && !arrayType.value) })\n\n      return opts\n    })\n\n    const byteViewMode = computed({\n      get () {\n        const type = headerRef.value.type\n        if (type.byteView) {\n          return type.byteView.array ? 'array-bytes' : 'bytes'\n        } else {\n          return 'data'\n        }\n      },\n      set (mode) {\n        const type = headerRef.value.type\n        if (mode === 'data') {\n          type.byteView = undefined\n        } else {\n          type.byteView = {\n            array: mode === 'array-bytes'\n          }\n        }\n      }\n    })\n\n    function close () {\n      viewer.editHeader.value = null\n    }\n\n    function remove () {\n      removeHeader(headerRef.value, viewer.headers.value)\n      viewer.editHeader.value = null\n      triggerRef(viewer.headers)\n      saveHeaders(viewer)\n    }\n\n    return {\n      isVisible: computed(() => viewer.editHeader.value != null),\n      HEADERS_HEIGHT,\n      header: headerRef,\n      byteViewMode,\n      dataType,\n      arrayType,\n      close,\n      remove,\n      viewModeOpts,\n      dataTypeOpts: computed(() =>\n        dataTypeOpts(headerRef.value, stats.value, viewer.datFile)),\n      arrayTypeOpts: computed(() =>\n        arrayTypeOpts(headerRef.value, stats.value))\n    }\n  }\n})\n</script>\n","\nimport { defineComponent, inject, computed, triggerRef, reactive, watch, WatchStopHandle } from 'vue'\nimport { Header, removeHeader } from '../headers'\nimport { Viewer, saveHeaders } from '../Viewer'\nimport type { DatFile } from 'pathofexile-dat'\nimport type { ColumnStats } from 'pathofexile-dat/dat-analysis'\nimport { HEADERS_HEIGHT } from '../rendering'\n\nfunction dataTypeOpts (header: Header, stats: ColumnStats, datFile: DatFile) {\n  const opts = [] as Array<{ label: string, value: string }>\n\n  const { fieldSize } = datFile\n  const len = header.length\n  if (len === fieldSize.ARRAY && stats.refArray) {\n    opts.push({ label: 'Array', value: 'array' })\n  }\n  if (len === fieldSize.STRING && stats.refString) {\n    opts.push({ label: 'String', value: 'string' })\n  }\n  if (len === fieldSize.KEY && stats.keySelf) {\n    opts.push({ label: 'Key (self)', value: 'key_self' })\n  }\n  if (len === fieldSize.KEY_FOREIGN) {\n    opts.push({ label: 'Key (foreign)', value: 'key_foreign' })\n  }\n  if (len === 8 || len === 4 || len === 2 || len === 1) {\n    opts.push({ label: 'Integer', value: 'integer' })\n  }\n  if (len === 8 || len === 4) {\n    opts.push({ label: 'Decimal', value: 'decimal' })\n  }\n  if (len === 1 && stats.bMax <= 0x01) {\n    opts.push({ label: 'Boolean', value: 'boolean' })\n  }\n\n  return opts\n}\n\nfunction arrayTypeOpts (header: Header, stats: ColumnStats) {\n  const opts = [] as Array<{ label: string, value: string }>\n\n  if (!header.type.array || !stats.refArray) {\n    return opts\n  }\n\n  const array = stats.refArray\n  if (array.string) {\n    opts.push({ label: 'String', value: 'string' })\n  }\n  if (array.keySelf) {\n    opts.push({ label: 'Key (self)', value: 'key_self' })\n  }\n  if (array.keyForeign) {\n    opts.push({ label: 'Key (foreign)', value: 'key_foreign' })\n  }\n  if (array.longLong) {\n    opts.push({ label: 'Integer - 8 bytes', value: 'integer_8' })\n  }\n  if (array.long) {\n    opts.push({ label: 'Integer - 4 bytes', value: 'integer_4' })\n  }\n  if (array.short) {\n    opts.push({ label: 'Integer - 2 bytes', value: 'integer_2' })\n  }\n  if (array.longLong) {\n    opts.push({ label: 'Decimal - 8 bytes', value: 'decimal_8' })\n  }\n  if (array.long) {\n    opts.push({ label: 'Decimal - 4 bytes', value: 'decimal_4' })\n  }\n  if (array.boolean) {\n    opts.push({ label: 'Boolean', value: 'boolean' })\n  }\n  opts.push({ label: 'Integer - byte', value: 'integer_1' })\n\n  return opts\n}\n\nexport default defineComponent({\n  setup () {\n    const viewer = inject<Viewer>('viewer')!\n\n    const headerRef = computed(() => (viewer.editHeader.value && reactive(viewer.editHeader.value))!)\n    {\n      let watchStop = null as WatchStopHandle | null\n      watch(headerRef, (value) => {\n        if (watchStop) {\n          watchStop()\n          watchStop = null\n        }\n        if (value) {\n          watchStop = watch(value, () => {\n            triggerRef(viewer.headers)\n            saveHeaders(viewer)\n          }, { deep: true })\n        }\n      })\n    }\n\n    const stats = computed(() => viewer.columnStats.value[headerRef.value.offset])\n\n    const dataType = computed({\n      get () {\n        const type = headerRef.value.type\n        if (type.array) {\n          return 'array'\n        } else if (type.string) {\n          return 'string'\n        } else if (type.key) {\n          return type.key.foreign ? 'key_foreign' : 'key_self'\n        } else if (type.integer) {\n          return 'integer'\n        } else if (type.decimal) {\n          return 'decimal'\n        } else if (type.boolean) {\n          return 'boolean'\n        } else {\n          return undefined\n        }\n      },\n      set (type) {\n        const header = headerRef.value\n        header.type = {}\n        if (type === 'array') {\n          header.type.array = true\n          header.type.byteView = { array: true }\n        } else if (type === 'string') {\n          header.type.string = {}\n        } else if (type === 'key_foreign') {\n          header.type.key = { foreign: true }\n        } else if (type === 'key_self') {\n          header.type.key = { foreign: false }\n        } else if (type === 'integer') {\n          header.type.integer = { unsigned: true, size: header.length }\n        } else if (type === 'decimal') {\n          header.type.decimal = { size: header.length }\n        } else if (type === 'boolean') {\n          header.type.boolean = {}\n        }\n      }\n    })\n\n    const arrayType = computed({\n      get () {\n        const type = headerRef.value.type\n        if (type.string) {\n          return 'string'\n        } else if (type.key) {\n          return (type.key.foreign) ? 'key_foreign' : 'key_self'\n        } else if (type.integer) {\n          return `integer_${type.integer.size}`\n        } else if (type.decimal) {\n          return `decimal_${type.decimal.size}`\n        } else if (type.boolean) {\n          return 'boolean'\n        } else {\n          return undefined\n        }\n      },\n      set (type) {\n        const header = headerRef.value\n        header.type = { array: true }\n        if (type === 'string') {\n          header.type.string = {}\n        } else if (type === 'key_foreign') {\n          header.type.key = { foreign: true }\n        } else if (type === 'key_self') {\n          header.type.key = { foreign: false }\n        } else if (type === 'integer_1') {\n          header.type.integer = { unsigned: true, size: 1 }\n        } else if (type === 'integer_2') {\n          header.type.integer = { unsigned: true, size: 2 }\n        } else if (type === 'integer_4') {\n          header.type.integer = { unsigned: true, size: 4 }\n        } else if (type === 'integer_8') {\n          header.type.integer = { unsigned: true, size: 8 }\n        } else if (type === 'decimal_4') {\n          header.type.decimal = { size: 4 }\n        } else if (type === 'decimal_8') {\n          header.type.decimal = { size: 8 }\n        } else if (type === 'boolean') {\n          header.type.boolean = {}\n        }\n      }\n    })\n\n    const viewModeOpts = computed(() => {\n      const opts = [] as Array<{ label: string, value: string, disabled?: boolean }>\n      const type = headerRef.value.type\n\n      opts.push({ label: 'Bytes', value: 'bytes' })\n      if (type.array) {\n        opts.push({ label: 'Var. bytes', value: 'array-bytes' })\n      }\n      opts.push({ label: 'Data', value: 'data', disabled: !dataType.value || (dataType.value === 'array' && !arrayType.value) })\n\n      return opts\n    })\n\n    const byteViewMode = computed({\n      get () {\n        const type = headerRef.value.type\n        if (type.byteView) {\n          return type.byteView.array ? 'array-bytes' : 'bytes'\n        } else {\n          return 'data'\n        }\n      },\n      set (mode) {\n        const type = headerRef.value.type\n        if (mode === 'data') {\n          type.byteView = undefined\n        } else {\n          type.byteView = {\n            array: mode === 'array-bytes'\n          }\n        }\n      }\n    })\n\n    function close () {\n      viewer.editHeader.value = null\n    }\n\n    function remove () {\n      removeHeader(headerRef.value, viewer.headers.value)\n      viewer.editHeader.value = null\n      triggerRef(viewer.headers)\n      saveHeaders(viewer)\n    }\n\n    return {\n      isVisible: computed(() => viewer.editHeader.value != null),\n      HEADERS_HEIGHT,\n      header: headerRef,\n      byteViewMode,\n      dataType,\n      arrayType,\n      close,\n      remove,\n      viewModeOpts,\n      dataTypeOpts: computed(() =>\n        dataTypeOpts(headerRef.value, stats.value, viewer.datFile)),\n      arrayTypeOpts: computed(() =>\n        arrayTypeOpts(headerRef.value, stats.value))\n    }\n  }\n})\n","import { render } from \"./HeaderProps.vue?vue&type=template&id=fb1e95a8\"\nimport script from \"./HeaderProps.vue?vue&type=script&lang=ts\"\nexport * from \"./HeaderProps.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","import { BORDER_WIDTH, CHAR_WIDTH, columnSizes } from '../rendering'\nimport type { Header } from '../headers'\nimport type { ColumnStats } from 'pathofexile-dat/dat-analysis'\nimport type { DatFile } from 'pathofexile-dat'\n\nconst BYTE_WIDTH = Math.ceil(CHAR_WIDTH * 3)\n\nexport interface RenderByte {\n  offset: number\n  selected: boolean\n  border: boolean\n  widthPx: number\n  leftPx: number\n  text: string\n  stat?: RenderStat\n}\n\nexport function renderByteCols (\n  selection: readonly boolean[],\n  stats: readonly RenderStat[],\n  headers: readonly Header[],\n  paintBegin: number,\n  paintEnd: number\n): RenderByte[] {\n  const res: RenderByte[] = []\n\n  let left = 0\n  for (const header of headers) {\n    const sizes = columnSizes(header)\n\n    if (header.type.byteView && !header.type.byteView.array) {\n      let textLeft = left\n      for (let i = 0; i < header.length; ++i) {\n        const hasBorder = (sizes.hasBorder && i === 0)\n        const thisWidth = (CHAR_WIDTH * 3) + (hasBorder ? BORDER_WIDTH : 0)\n        if ((Math.ceil(textLeft) + thisWidth) < paintBegin) {\n          textLeft += thisWidth\n          continue\n        }\n\n        const offset = header.offset + i\n        res.push({\n          offset,\n          selected: selection[offset],\n          border: hasBorder,\n          widthPx: BYTE_WIDTH,\n          leftPx: Math.ceil(textLeft),\n          text: String(offset % 100).padStart(2, '0'),\n          stat: stats[offset]\n        })\n\n        textLeft += thisWidth\n        if (Math.ceil(textLeft) >= paintEnd) return res\n      }\n    } else if ((left + sizes.borderWidth) >= paintBegin) {\n      res.push({\n        offset: header.offset,\n        selected: false,\n        border: sizes.hasBorder,\n        widthPx: sizes.paddingWidth,\n        leftPx: left,\n        text: String(header.offset % 100).padStart(2, '0')\n      })\n    }\n\n    left += sizes.borderWidth\n    if (left >= paintEnd) return res\n  }\n\n  return res\n}\n\ninterface RenderStat {\n  max: string\n  array: boolean\n  string: boolean\n  nullable: boolean\n  zero: boolean\n}\n\nexport function renderColStats (stats: ColumnStats[], datFile: DatFile): RenderStat[] {\n  const render = stats.map(stat => ({\n    max: stat.bMax.toString(16).padStart(2, '0'),\n    array: false,\n    string: false,\n    nullable: false,\n    zero: (stat.bMax === 0x00)\n  }))\n\n  const { fieldSize } = datFile\n  for (let idx = 0; idx < stats.length; ++idx) {\n    const stat = stats[idx]\n    if (stat.refString) {\n      for (let k = 0; k < fieldSize.STRING; ++k) {\n        render[idx + k].string = true\n      }\n    }\n    if (stat.refArray) {\n      for (let k = 0; k < fieldSize.ARRAY; ++k) {\n        render[idx + k].array = true\n      }\n    }\n    if (stat.nullableMemsize) {\n      for (let k = 0; k < datFile.memsize; ++k) {\n        render[idx + k].nullable = true\n      }\n    }\n  }\n\n  return render\n}\n","\nimport { defineComponent, PropType, reactive, computed, provide, watch, shallowRef, shallowReactive, ref, render, onMounted } from 'vue'\nimport ResizeObserver from '@/ResizeObserver.vue'\nimport CanvasScroll from '@/CanvasScroll.vue'\nimport { Viewer, createViewer } from '../Viewer'\nimport ViewerActions from './Actions.vue'\nimport ViewerHead from './ViewerHead.vue'\nimport HeaderProps from './HeaderProps.vue'\nimport * as rendering from '../rendering'\nimport { renderByteCols, renderColStats } from '../rendering/byte-columns'\nimport { renderHeaderCols } from '../rendering/header-columns'\n\nexport default defineComponent({\n  components: { ResizeObserver, CanvasScroll, ViewerActions, ViewerHead, HeaderProps },\n  emits: ['update:kaState'],\n  props: {\n    args: {\n      type: Object as PropType<{\n        fileContent: Uint8Array\n        fullPath: string\n      }>,\n      required: true\n    },\n    kaState: {\n      type: Object as PropType<Viewer | undefined>,\n      default: undefined\n    }\n  },\n  setup (props, ctx) {\n    let viewer: Viewer\n    if (props.kaState) {\n      viewer = props.kaState // eslint-disable-line vue/no-setup-props-destructure\n    } else {\n      viewer = createViewer(props.args.fullPath, props.args.fileContent)\n      ctx.emit('update:kaState', viewer)\n    }\n    provide('viewer', viewer)\n\n    const canvasRef = ref<HTMLCanvasElement | null>(null)\n\n    const canvasScroll = ref<{ scrollTo(x: number | undefined, y: number | undefined): void } | null>(null)\n    onMounted(() => {\n      canvasScroll.value!.scrollTo(viewer.scrollPos.x, viewer.scrollPos.y)\n    })\n\n    const rowIndices = computed(() => {\n      if (viewer.rowSorting.value) {\n        return viewer.rowSorting.value\n      } else {\n        return Array.from(\n          { length: viewer.datFile.rowCount },\n          (_, rowIdx) => rowIdx)\n      }\n    })\n\n    const paintWidth = ref(0)\n    const paintHeight = ref(0)\n    function handleResize (sz: { width: number, height: number }) {\n      paintWidth.value = sz.width\n      paintHeight.value = sz.height\n    }\n    const { scrollPos } = viewer\n    function handleScroll (pos: { y: number, x: number }) {\n      scrollPos.x = pos.x\n      scrollPos.y = pos.y\n    }\n\n    const rowsFullWidth = computed(() =>\n      rendering.getRowWidth(viewer.headers.value))\n    const rowsFullHeight = computed(() =>\n      viewer.datFile.rowCount * rendering.LINE_HEIGHT)\n    const rowsOverlayWidth = computed(() =>\n      rendering.rowsOverlayWidth(viewer.datFile.rowCount))\n    const rowsWidth = computed(() =>\n      Math.max(0, paintWidth.value - rowsOverlayWidth.value))\n    const rowsHeight = computed(() =>\n      Math.max(0, paintHeight.value - rendering.HEADERS_HEIGHT))\n\n    watch([rowsWidth, rowsHeight], () => {\n      const dpr = devicePixelRatio\n\n      canvasRef.value!.style.width = rowsWidth.value + 'px'\n      canvasRef.value!.style.height = rowsHeight.value + 'px'\n\n      canvasRef.value!.width = rowsWidth.value * dpr\n      canvasRef.value!.height = rowsHeight.value * dpr\n\n      const ctx = canvasRef.value!.getContext('2d', { alpha: false })!\n      ctx.scale(dpr, dpr)\n\n      draw()\n    })\n\n    const renderStats = computed(() =>\n      renderColStats(viewer.columnStats.value, viewer.datFile))\n\n    const renderColumns = computed(() =>\n      renderByteCols(\n        viewer.columnSelection.value,\n        renderStats.value,\n        viewer.headers.value,\n        scrollPos.x,\n        scrollPos.x + Math.min(rowsFullWidth.value, rowsWidth.value))\n    )\n\n    watch([scrollPos, renderColumns, rowIndices, viewer.selectedRow], () => { draw() })\n\n    function draw () {\n      const ctx = canvasRef.value!.getContext('2d', { alpha: false })!\n\n      rendering.drawRows({\n        left: scrollPos.x,\n        paintWidth: rowsWidth.value,\n        top: renderItems.value.top,\n        rows: renderItems.value.ids,\n        columns: renderColumns.value,\n        viewer: viewer,\n        ctx\n      })\n    }\n\n    const renderItems = computed(() => {\n      const scrollTop = scrollPos.y\n\n      const count = Math.ceil(rowsHeight.value / rendering.LINE_HEIGHT) + 1\n      const startIdx = Math.floor(scrollTop / rendering.LINE_HEIGHT)\n\n      const top = (startIdx * rendering.LINE_HEIGHT) - scrollTop\n\n      return {\n        top,\n        ids: rowIndices.value.slice(startIdx, startIdx + count)\n      }\n    })\n\n    function focusEditingHeader () {\n      const header = viewer.editHeader.value!\n      const cols = renderHeaderCols(viewer.headers.value, null, 0, 0 + Infinity)\n      const target = cols.find(col => col.offset === header.offset)!\n      canvasScroll.value!.scrollTo(target.leftPx - rowsWidth.value * 0.33, undefined)\n    }\n\n    function handleCanvasClick (e: MouseEvent) {\n      const { selectedRow } = viewer\n      const rowIdx = Math.floor((e.offsetY + scrollPos.y) / rendering.LINE_HEIGHT)\n      selectedRow.value = (selectedRow.value !== rowIdx)\n        ? rowIdx\n        : null\n    }\n\n    return {\n      headerBlockStyle: computed(() =>\n        ({ height: rendering.HEADERS_HEIGHT + 'px', width: paintWidth.value + 'px' })),\n      headerOverlayContentStyle: computed(() =>\n        ({ left: rowsOverlayWidth.value + 'px', height: rendering.HEADERS_HEIGHT + 'px', width: rowsWidth.value + 'px' })),\n      scrollableStyle: computed(() =>\n        ({ top: rendering.HEADERS_HEIGHT + 'px', left: rowsOverlayWidth.value + 'px' })),\n      scrollablePaintSize: computed(() =>\n        ({ width: rowsWidth.value, height: rowsHeight.value })),\n      scrollableFullSize: computed(() =>\n        ({ width: rowsFullWidth.value, height: rowsFullHeight.value })),\n      rowsOverlayStyle: computed(() =>\n        ({ top: rendering.HEADERS_HEIGHT + 'px', width: rowsOverlayWidth.value + 'px', height: rowsHeight.value + 'px', fontFamily: rendering.FONT_FAMILY, fontSize: rendering.FONT_SIZE + 'px', lineHeight: rendering.LINE_HEIGHT + 'px' })),\n      handleScroll,\n      handleResize,\n      renderItems,\n      canvasRef,\n      renderColumns,\n      scrollLeft: computed(() => scrollPos.x),\n      rowsWidth: computed(() => Math.min(rowsFullWidth.value, rowsWidth.value)),\n      LINE_HEIGHT: rendering.LINE_HEIGHT,\n      canvasScroll,\n      rowsNumberWidth: (rendering.rowsNumWidth(viewer.datFile.rowCount) + 'px'),\n      focusEditingHeader,\n      handleCanvasClick\n    }\n  }\n})\n","import { render } from \"./DatViewer.vue?vue&type=template&id=6cf3fd38\"\nimport script from \"./DatViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./DatViewer.vue?vue&type=script&lang=ts\"\n\nconst cssModules = script.__cssModules = {}\nimport style0 from \"./DatViewer.vue?vue&type=style&index=0&id=6cf3fd38&lang=postcss&module=true\"\ncssModules[\"$style\"] = style0\nscript.render = render\n\nexport default script","\nimport { defineComponent, ref } from 'vue'\nimport { fetchFile, progress } from '../patchcdn/cache'\nimport { loadIndex, loadFileContent, index } from '../patchcdn/index-store'\nimport { openTab } from './workbench-core'\nimport DatViewer from '../dat-viewer/components/DatViewer.vue'\n\nexport default defineComponent({\n  setup () {\n    const poePatch = ref(localStorage.getItem('POE_PATCH_VER') || '')\n    const isCdnImportRunning = ref(false)\n\n    if (poePatch.value && !index.value) {\n      cdnImport()\n    }\n\n    async function handleFile (e: Event) {\n      const elFile = (e.target as HTMLInputElement).files![0]\n      const fileContent = new Uint8Array(await elFile.arrayBuffer())\n      const fileName = elFile.name\n      openTab({\n        id: `file@${fileName}`,\n        title: fileName,\n        type: DatViewer,\n        args: {\n          fileContent,\n          fullPath: fileName\n        }\n      })\n    }\n\n    async function cdnImport () {\n      let bundle\n      try {\n        isCdnImportRunning.value = true\n        bundle = await fetchFile(poePatch.value, '_.index.bin')\n      } finally {\n        isCdnImportRunning.value = false\n      }\n\n      try {\n        await loadIndex(bundle)\n        localStorage.setItem('POE_PATCH_VER', poePatch.value)\n      } catch (e) {\n        window.alert(e.message)\n        throw e\n      }\n    }\n\n    return {\n      poePatch,\n      isCdnImportRunning,\n      handleFile,\n      cdnImport\n    }\n  }\n})\n","import { render } from \"./ImportDialog.vue?vue&type=template&id=1b52d566\"\nimport script from \"./ImportDialog.vue?vue&type=script&lang=ts\"\nexport * from \"./ImportDialog.vue?vue&type=script&lang=ts\"\n\nconst cssModules = script.__cssModules = {}\nimport style0 from \"./ImportDialog.vue?vue&type=style&index=0&id=1b52d566&lang=postcss&module=true\"\ncssModules[\"$style\"] = style0\nscript.render = render\n\nexport default script","import { shallowRef, shallowReactive, DefineComponent, triggerRef } from 'vue'\nimport ImportDialog from './ImportDialog.vue'\n\ninterface Tab {\n  id: string\n  title: string\n  type: DefineComponent\n  args: unknown\n  kaState: unknown\n}\n\nexport const activeTabId = shallowRef<string | null>('poe-dat-viewer@import')\n\nexport function setActiveTab (id: string | null) {\n  activeTabId.value = id\n}\n\nexport const tabs = shallowRef<Tab[]>([\n  {\n    id: 'poe-dat-viewer@import',\n    title: 'Import',\n    type: ImportDialog as any, // eslint-disable-line @typescript-eslint/no-explicit-any\n    args: undefined,\n    kaState: undefined\n  }\n])\n\ninterface OpenTabParams {\n  id: string\n  title: string\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  type: any // vue.DefineComponent\n  args: unknown\n}\n\nexport function openTab (params: OpenTabParams) {\n  const existing = tabs.value.find(tab => tab.id === params.id)\n  if (!existing) {\n    tabs.value.push({\n      id: params.id,\n      title: params.title,\n      type: params.type,\n      args: params.args,\n      kaState: undefined\n    })\n  }\n  setActiveTab(params.id)\n  triggerRef(tabs)\n}\n\nexport function closeTab (id: string) {\n  const idx = tabs.value.findIndex(tab => tab.id === id)\n  if (id === activeTabId.value) {\n    if ((idx + 1) < tabs.value.length) {\n      setActiveTab(tabs.value[idx + 1].id)\n    } else if (idx !== 0) {\n      setActiveTab(tabs.value[idx - 1].id)\n    } else {\n      setActiveTab(null)\n    }\n  }\n  tabs.value = tabs.value.filter(tab => tab.id !== id)\n}\n","\nimport { defineComponent, computed } from 'vue'\nimport { tabs, activeTabId, setActiveTab, closeTab, openTab } from './workbench-core'\nimport ImportDialog from './ImportDialog.vue'\n\nexport default defineComponent({\n  setup () {\n    const _tabs = computed(() =>\n      tabs.value.map(tab => ({\n        id: tab.id,\n        title: tab.title,\n        isActive: (tab.id === activeTabId.value)\n      }))\n    )\n\n    function openImport () {\n      openTab({\n        id: 'poe-dat-viewer@import',\n        title: 'Import',\n        type: ImportDialog,\n        args: undefined\n      })\n    }\n\n    return {\n      tabs: _tabs,\n      setActiveTab,\n      closeTab,\n      openImport\n    }\n  }\n})\n","import { render } from \"./Tabs.vue?vue&type=template&id=e9b3d8f6\"\nimport script from \"./Tabs.vue?vue&type=script&lang=ts\"\nexport * from \"./Tabs.vue?vue&type=script&lang=ts\"\n\nconst cssModules = script.__cssModules = {}\nimport style0 from \"./Tabs.vue?vue&type=style&index=0&id=e9b3d8f6&lang=postcss&module=true\"\ncssModules[\"$style\"] = style0\nscript.render = render\n\nexport default script","<template>\n  <div class=\"layout-column flex-shrink-0\" :style=\"{ 'width': showTree ? '300px' : undefined }\">\n    <div class=\"flex p-1 items-center mb-px\">\n      <button\n        title=\"Toggle tree visibility\"\n        :class=\"$style.treeToggle\"\n        @click=\"toggleTree\"\n        ><i class=\"codicon codicon-list-flat\"></i></button>\n      <input v-if=\"showTree\"\n        v-model.trim=\"searchText\"\n        placeholder=\"Search in current folder\"\n        :class=\"$style.searchInput\"\n        type=\"search\" spellcheck=\"false\">\n    </div>\n    <template v-if=\"showTree\">\n      <div v-if=\"extensionOpts\"\n        class=\"flex gap-x-1 border-b pb-1.5 px-2 justify-end\">\n        <button v-for=\"opt in extensionOpts\" :key=\"opt.value\"\n          @click=\"opt.handleClick\"\n          :class=\"['px-2', (opt.active ? 'bg-gray-300' : 'hover:bg-gray-200') ]\"\n          v-text=\"opt.value\" />\n      </div>\n      <div v-if=\"!isIndexLoaded\"\n        class=\"italic text-center text-gray-600 p-2\">Waiting for Index bundle...</div>\n      <div v-if=\"isIndexLoaded && !tree.length\"\n        class=\"italic text-center text-gray-600 p-2\">No results found</div>\n      <virtual-scroll\n        class=\"flex-1\"\n        :scrollable-props=\"{ style: 'background: #fff;', widthY: 10 }\"\n        :items=\"tree\"\n        :item-height=\"22\"\n      >\n        <template v-slot=\"props\">\n          <button v-for=\"entry in props.entries\" :key=\"entry.item.fullPath\"\n            :class=\"{ [$style.itemBtn]: true, [$style.active]: entry.item.isActive }\"\n            :style=\"{ transform: `translate(0, ${entry.top}px` }\"\n            @click=\"handleTreeNav(entry.item)\"\n          >\n            <i v-if=\"!entry.item.isFile\" class=\"codicon codicon-folder pr-3\"></i\n            >{{ entry.item.label }}</button>\n        </template>\n      </virtual-scroll>\n    </template>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, shallowRef, computed, watch } from 'vue'\nimport FileSaver from 'file-saver'\nimport VirtualScroll from '@/VirtualScroll.vue'\nimport { getRootDirs, getDirContent } from 'pathofexile-dat/bundles/index-paths'\nimport { index, loadFileContent } from '../patchcdn/index-store'\nimport { openTab, activeTabId } from './workbench-core'\nimport DatViewer from '../dat-viewer/components/DatViewer.vue'\nimport * as perf from '../../perf'\n\ninterface TreeItem {\n  label: string\n  fullPath: string\n  isFile: boolean\n  isActive?: boolean\n}\n\nfunction useTreeNavigation () {\n  const currentDir = shallowRef('')\n\n  watch(index, () => {\n    currentDir.value = ''\n  })\n\n  const tree = computed<TreeItem[]>(() => {\n    if (!index.value) return []\n\n    if (currentDir.value === '') {\n      const dirs = perf.fn('Getting root dirs', () =>\n        getRootDirs(index.value!.pathReps, index.value!.dirsInfo))\n\n      return dirs.map(dirName => ({\n        label: dirName,\n        fullPath: dirName,\n        isFile: false\n      })).sort((a, b) => a.label.localeCompare(b.label))\n    }\n\n    const content = perf.fn(`Getting \"${currentDir.value}\" dir`, () =>\n      getDirContent(currentDir.value, index.value!.pathReps, index.value!.dirsInfo))\n\n    return [\n      {\n        label: '../',\n        fullPath: (currentDir.value.indexOf('/') === -1)\n          ? ''\n          : currentDir.value.split('/').slice(0, -1).join('/'),\n        isFile: false\n      },\n      ...content.dirs.map(dirName => ({\n        label: dirName.substr(currentDir.value.length + 1),\n        fullPath: dirName,\n        isFile: false\n      })).sort((a, b) => a.label.localeCompare(b.label)),\n      ...content.files.map(fileName => ({\n        label: fileName.substr(currentDir.value.length + 1),\n        fullPath: fileName,\n        isFile: true,\n        isActive: (`bundles@${fileName}` === activeTabId.value)\n      })).sort((a, b) => a.label.localeCompare(b.label))\n    ]\n  })\n\n  async function handleTreeNav (item: TreeItem) {\n    if (!item.isFile) {\n      currentDir.value = item.fullPath\n    } else {\n      const fileContent = await loadFileContent(item.fullPath)\n\n      if (item.fullPath.endsWith('.dat') || item.fullPath.endsWith('.dat64')) {\n        openTab({\n          id: `bundles@${item.fullPath}`,\n          title: item.label,\n          type: DatViewer,\n          args: {\n            fileContent,\n            fullPath: item.fullPath\n          }\n        })\n      } else {\n        FileSaver.saveAs(new File(\n          [fileContent],\n          item.fullPath.substring(item.fullPath.lastIndexOf('/') + 1),\n          { type: 'application/octet-stream' }\n        ))\n      }\n    }\n  }\n\n  return {\n    currentDir,\n    tree,\n    handleTreeNav\n  }\n}\n\nexport default defineComponent({\n  components: { VirtualScroll },\n  setup () {\n    const showTree = shallowRef(true)\n    function toggleTree () {\n      showTree.value = !showTree.value\n    }\n\n    const isIndexLoaded = computed(() => {\n      return Boolean(index.value)\n    })\n\n    const { tree, handleTreeNav, currentDir } = useTreeNavigation()\n\n    const searchExtension = shallowRef('.dat64')\n    const extensionOpts = computed(() => {\n      if (!currentDir.value.startsWith('Data')) return null\n\n      return ['.dat', '.dat64', '.datl', '.datl64'].map(ext => ({\n        value: ext,\n        active: searchExtension.value === ext,\n        handleClick: () => { searchExtension.value = ext }\n      }))\n    })\n\n    const searchText = shallowRef('')\n    const filteredTree = computed(() => {\n      const term = searchText.value.toLowerCase()\n      const ext = extensionOpts.value ? searchExtension.value : ''\n      return tree.value.filter(item => {\n        return item.label.toLowerCase().includes(term) &&\n          (item.isFile ? item.label.endsWith(ext) : true)\n      })\n    })\n\n    return {\n      showTree,\n      toggleTree,\n      tree: filteredTree,\n      handleTreeNav,\n      searchText,\n      isIndexLoaded,\n      extensionOpts\n    }\n  }\n})\n</script>\n\n<style lang=\"postcss\" module>\n.treeToggle {\n  @apply p-1;\n  @apply m-1;\n  line-height: 1;\n\n  &:hover {\n    @apply bg-gray-200;\n  }\n}\n\n.searchInput {\n  @apply h-7;\n  @apply border;\n  box-sizing: content-box;\n  @apply flex-1;\n  @apply mx-1;\n  @apply px-1 py-px;\n\n  &:focus {\n    @apply border-blue-500;\n  }\n}\n\n.itemBtn {\n  position: absolute;\n  line-height: 22px;\n  @apply px-3;\n  text-align: left;\n  @apply truncate;\n  width: 100%;\n\n  &:hover {\n    @apply bg-gray-200;\n  }\n\n  &.active {\n    @apply bg-blue-500;\n    @apply text-blue-100;\n  }\n}\n</style>\n","<template>\n  <resize-observer @resize=\"handleResize\" class=\"relative\">\n    <canvas-scroll ref=\"scrollable\"\n      v-bind=\"scrollableProps\"\n      class=\"absolute\"\n      :paint-size=\"paintSize\"\n      :full-size=\"fullSize\"\n    >\n      <slot :entries=\"renderItems\" />\n    </canvas-scroll>\n  </resize-observer>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, shallowReactive, ref } from 'vue'\nimport ResizeObserver from './ResizeObserver.vue'\nimport CanvasScroll from './CanvasScroll.vue'\n\nexport default defineComponent({\n  components: { ResizeObserver, CanvasScroll },\n  props: {\n    items: {\n      type: Array,\n      required: true\n    },\n    itemHeight: {\n      type: Number,\n      required: true\n    },\n    scrollableProps: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  setup (props) {\n    const paintSize = shallowReactive({\n      width: 0,\n      height: 0\n    })\n\n    const fullSize = computed(() => ({\n      width: paintSize.width,\n      height: props.items.length * props.itemHeight\n    }))\n\n    function handleResize (sz: { width: number, height: number }) {\n      paintSize.width = sz.width\n      paintSize.height = sz.height\n    }\n\n    const scrollable = ref<{ scrollPos: { y: number } } | null>(null)\n\n    const renderItems = computed(() => {\n      const scrollTop = (scrollable.value?.scrollPos.y ?? 0)\n\n      const count = Math.ceil(paintSize.height / props.itemHeight) + 1\n      const startIdx = Math.floor(scrollTop / props.itemHeight)\n\n      const top = (startIdx * props.itemHeight) - scrollTop\n\n      return props.items\n        .slice(startIdx, startIdx + count)\n        .map((item, i) =>\n          ({\n            top: top + (i * props.itemHeight),\n            item\n          })\n        )\n    })\n\n    return {\n      handleResize,\n      paintSize,\n      fullSize,\n      scrollable,\n      renderItems\n    }\n  }\n})\n</script>\n","\nimport { defineComponent, computed, shallowReactive, ref } from 'vue'\nimport ResizeObserver from './ResizeObserver.vue'\nimport CanvasScroll from './CanvasScroll.vue'\n\nexport default defineComponent({\n  components: { ResizeObserver, CanvasScroll },\n  props: {\n    items: {\n      type: Array,\n      required: true\n    },\n    itemHeight: {\n      type: Number,\n      required: true\n    },\n    scrollableProps: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  setup (props) {\n    const paintSize = shallowReactive({\n      width: 0,\n      height: 0\n    })\n\n    const fullSize = computed(() => ({\n      width: paintSize.width,\n      height: props.items.length * props.itemHeight\n    }))\n\n    function handleResize (sz: { width: number, height: number }) {\n      paintSize.width = sz.width\n      paintSize.height = sz.height\n    }\n\n    const scrollable = ref<{ scrollPos: { y: number } } | null>(null)\n\n    const renderItems = computed(() => {\n      const scrollTop = (scrollable.value?.scrollPos.y ?? 0)\n\n      const count = Math.ceil(paintSize.height / props.itemHeight) + 1\n      const startIdx = Math.floor(scrollTop / props.itemHeight)\n\n      const top = (startIdx * props.itemHeight) - scrollTop\n\n      return props.items\n        .slice(startIdx, startIdx + count)\n        .map((item, i) =>\n          ({\n            top: top + (i * props.itemHeight),\n            item\n          })\n        )\n    })\n\n    return {\n      handleResize,\n      paintSize,\n      fullSize,\n      scrollable,\n      renderItems\n    }\n  }\n})\n","import { render } from \"./VirtualScroll.vue?vue&type=template&id=315fb3d7\"\nimport script from \"./VirtualScroll.vue?vue&type=script&lang=ts\"\nexport * from \"./VirtualScroll.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nexport function start () {\n  return Date.now()\n}\n\nexport function end (desc: string, start: number) {\n  const end = Date.now() - start\n  console.log(`${desc}. Done in -> ${end} ms`)\n}\n\nexport function fn<T> (desc: string, cb: () => T): T {\n  const t$ = start()\n  const res = cb()\n  end(desc, t$)\n  return res\n}\n","\nimport { defineComponent, shallowRef, computed, watch } from 'vue'\nimport FileSaver from 'file-saver'\nimport VirtualScroll from '@/VirtualScroll.vue'\nimport { getRootDirs, getDirContent } from 'pathofexile-dat/bundles/index-paths'\nimport { index, loadFileContent } from '../patchcdn/index-store'\nimport { openTab, activeTabId } from './workbench-core'\nimport DatViewer from '../dat-viewer/components/DatViewer.vue'\nimport * as perf from '../../perf'\n\ninterface TreeItem {\n  label: string\n  fullPath: string\n  isFile: boolean\n  isActive?: boolean\n}\n\nfunction useTreeNavigation () {\n  const currentDir = shallowRef('')\n\n  watch(index, () => {\n    currentDir.value = ''\n  })\n\n  const tree = computed<TreeItem[]>(() => {\n    if (!index.value) return []\n\n    if (currentDir.value === '') {\n      const dirs = perf.fn('Getting root dirs', () =>\n        getRootDirs(index.value!.pathReps, index.value!.dirsInfo))\n\n      return dirs.map(dirName => ({\n        label: dirName,\n        fullPath: dirName,\n        isFile: false\n      })).sort((a, b) => a.label.localeCompare(b.label))\n    }\n\n    const content = perf.fn(`Getting \"${currentDir.value}\" dir`, () =>\n      getDirContent(currentDir.value, index.value!.pathReps, index.value!.dirsInfo))\n\n    return [\n      {\n        label: '../',\n        fullPath: (currentDir.value.indexOf('/') === -1)\n          ? ''\n          : currentDir.value.split('/').slice(0, -1).join('/'),\n        isFile: false\n      },\n      ...content.dirs.map(dirName => ({\n        label: dirName.substr(currentDir.value.length + 1),\n        fullPath: dirName,\n        isFile: false\n      })).sort((a, b) => a.label.localeCompare(b.label)),\n      ...content.files.map(fileName => ({\n        label: fileName.substr(currentDir.value.length + 1),\n        fullPath: fileName,\n        isFile: true,\n        isActive: (`bundles@${fileName}` === activeTabId.value)\n      })).sort((a, b) => a.label.localeCompare(b.label))\n    ]\n  })\n\n  async function handleTreeNav (item: TreeItem) {\n    if (!item.isFile) {\n      currentDir.value = item.fullPath\n    } else {\n      const fileContent = await loadFileContent(item.fullPath)\n\n      if (item.fullPath.endsWith('.dat') || item.fullPath.endsWith('.dat64')) {\n        openTab({\n          id: `bundles@${item.fullPath}`,\n          title: item.label,\n          type: DatViewer,\n          args: {\n            fileContent,\n            fullPath: item.fullPath\n          }\n        })\n      } else {\n        FileSaver.saveAs(new File(\n          [fileContent],\n          item.fullPath.substring(item.fullPath.lastIndexOf('/') + 1),\n          { type: 'application/octet-stream' }\n        ))\n      }\n    }\n  }\n\n  return {\n    currentDir,\n    tree,\n    handleTreeNav\n  }\n}\n\nexport default defineComponent({\n  components: { VirtualScroll },\n  setup () {\n    const showTree = shallowRef(true)\n    function toggleTree () {\n      showTree.value = !showTree.value\n    }\n\n    const isIndexLoaded = computed(() => {\n      return Boolean(index.value)\n    })\n\n    const { tree, handleTreeNav, currentDir } = useTreeNavigation()\n\n    const searchExtension = shallowRef('.dat64')\n    const extensionOpts = computed(() => {\n      if (!currentDir.value.startsWith('Data')) return null\n\n      return ['.dat', '.dat64', '.datl', '.datl64'].map(ext => ({\n        value: ext,\n        active: searchExtension.value === ext,\n        handleClick: () => { searchExtension.value = ext }\n      }))\n    })\n\n    const searchText = shallowRef('')\n    const filteredTree = computed(() => {\n      const term = searchText.value.toLowerCase()\n      const ext = extensionOpts.value ? searchExtension.value : ''\n      return tree.value.filter(item => {\n        return item.label.toLowerCase().includes(term) &&\n          (item.isFile ? item.label.endsWith(ext) : true)\n      })\n    })\n\n    return {\n      showTree,\n      toggleTree,\n      tree: filteredTree,\n      handleTreeNav,\n      searchText,\n      isIndexLoaded,\n      extensionOpts\n    }\n  }\n})\n","import { render } from \"./IndexTree.vue?vue&type=template&id=ccf2af9c\"\nimport script from \"./IndexTree.vue?vue&type=script&lang=ts\"\nexport * from \"./IndexTree.vue?vue&type=script&lang=ts\"\n\nconst cssModules = script.__cssModules = {}\nimport style0 from \"./IndexTree.vue?vue&type=style&index=0&id=ccf2af9c&lang=postcss&module=true\"\ncssModules[\"$style\"] = style0\nscript.render = render\n\nexport default script","<template>\n  <div v-if=\"active\" :class=\"$style.notification\">\n    <template v-if=\"totalSize\">\n      <div class=\"bg-gray-300 h-1\"></div>\n      <div class=\"bg-blue-500 h-1 absolute top-0\"\n        :style=\"{ width: `${received/totalSize * 100}%` }\"></div>\n    </template>\n    <div class=\"p-3\">\n      <div class=\"font-semibold truncate\">{{ bundleName }}</div>\n      <div class=\"text-grey text-sm\">\n        <template v-if=\"totalSize\">{{ (totalSize / 1000000).toFixed(1) }} MB</template>\n        <template v-else>Downloading...</template>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nimport { progress } from '../patchcdn/cache'\n\nexport default defineComponent({\n  setup () {\n    return progress\n  }\n})\n</script>\n\n<style lang=\"postcss\" module>\n.notification {\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  width: 20rem;\n  @apply bg-gray-100;\n  @apply m-6;\n  @apply shadow;\n  @apply border;\n  @apply text-base;\n}\n</style>\n","\nimport { defineComponent } from 'vue'\nimport { progress } from '../patchcdn/cache'\n\nexport default defineComponent({\n  setup () {\n    return progress\n  }\n})\n","import { render } from \"./DownloadProgress.vue?vue&type=template&id=1532fec4\"\nimport script from \"./DownloadProgress.vue?vue&type=script&lang=ts\"\nexport * from \"./DownloadProgress.vue?vue&type=script&lang=ts\"\n\nconst cssModules = script.__cssModules = {}\nimport style0 from \"./DownloadProgress.vue?vue&type=style&index=0&id=1532fec4&lang=postcss&module=true\"\ncssModules[\"$style\"] = style0\nscript.render = render\n\nexport default script","\nimport { defineComponent, computed } from 'vue'\nimport ViewerTabs from './Tabs.vue'\nimport IndexTree from './IndexTree.vue'\nimport DownloadProgress from './DownloadProgress.vue'\nimport { tabs, activeTabId } from './workbench-core'\n\nexport default defineComponent({\n  components: { IndexTree, ViewerTabs, DownloadProgress },\n  setup () {\n    const activeTab = computed(() =>\n      tabs.value.find(tab => tab.id === activeTabId.value)\n    )\n\n    return {\n      activeTab,\n      appVersion: process.env.APP_VERSION\n    }\n  }\n})\n","import { render } from \"./Workbench.vue?vue&type=template&id=318cac7c\"\nimport script from \"./Workbench.vue?vue&type=script&lang=ts\"\nexport * from \"./Workbench.vue?vue&type=script&lang=ts\"\n\nimport \"./Workbench.vue?vue&type=style&index=0&id=318cac7c&lang=postcss\"\nscript.render = render\n\nexport default script","import { createApp } from 'vue'\nimport Workbench from './app/workbench/Workbench.vue'\n\ncreateApp(Workbench).mount('#app')\n","export { default } from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-0-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-0-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-0-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CanvasScroll.vue?vue&type=style&index=0&id=1c788ded&lang=postcss&module=true\"; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-0-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-0-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-0-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CanvasScroll.vue?vue&type=style&index=0&id=1c788ded&lang=postcss&module=true\"","export { default } from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-0-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-0-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-0-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ImportDialog.vue?vue&type=style&index=0&id=1b52d566&lang=postcss&module=true\"; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-0-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-0-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-0-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ImportDialog.vue?vue&type=style&index=0&id=1b52d566&lang=postcss&module=true\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"ImportDialog_input_BOtpT\",\"label\":\"ImportDialog_label_2ZOy1\"};","export { default } from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-0-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-0-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-0-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./DatViewer.vue?vue&type=style&index=0&id=6cf3fd38&lang=postcss&module=true\"; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-0-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-0-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-0-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./DatViewer.vue?vue&type=style&index=0&id=6cf3fd38&lang=postcss&module=true\""],"sourceRoot":""}